<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ุงุญูุฏ ุณุงูุช</title>
<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ุงุญูุฏ ุณุงูุช โ ูุดุงุฑูุน ูุฑูุงุจุท</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri&family=Cairo:wght@300;400;700&display=swap" rel="stylesheet">
  <style>.react-link{position:fixed;top:8px;right:8px;background:#1d4ed8;color:#fff;padding:6px 10px;border-radius:8px;font-size:13px;text-decoration:none;font-weight:600;box-shadow:0 2px 6px rgba(0,0,0,.25);}</style>
</head>
<body>
  <a class="react-link" href="/uploader/" target="_blank" rel="noopener">ุตูุญุฉ ุฑูุน React</a>
  <header class="hero">
    <div class="container" style="position:relative">
      <div class="brand">
  <h1>ุงุญูุฏ ุณุงูุช</h1>
        <p class="tag" data-i18n="tagline">ูุญูุธุฉ ูุฑูุงุจุท ุฎุงุตุฉ โ ุนุฑุถ ุณุฑูุน ููุดุฑูุนุงุชู ูุฑูุงุจุทู ุงููููุฉ</p>
      </div>
      <div class="header-controls">
        <label class="hdr-switch" aria-label="ุงููุถุน ุงููููู"><input type="checkbox" id="darkToggle" /><span class="icon" aria-hidden="true">๐</span></label>
        <select id="langSelect" aria-label="language">
          <option value="ar">ุงูุนุฑุจูุฉ</option>
          <option value="en">English</option>
        </select>
      </div>
    </div>
  </header>

  <main class="container">
    <section id="projects" class="section">
      <h2 data-i18n="projects_h2" style="text-align:center">ุงููุดุงุฑูุน</h2>
      <div class="grid">
        <article class="card">
          <div class="bg"></div><div class="blob"></div>
          <div class="card-head" data-i18n="project1_title">ุฑูุงุจุท ูููุนู</div>
          <p class="muted" data-i18n="project1_desc">ููุงูุน ุงูุชุฌุฑูุจูู ุฎุงุตู ุจู</p>
          <div class="actions">
            <a class="btn btn-blue" href="https://ahmadnhan.github.io/mysite/" target="_blank" rel="noopener" data-i18n="converter_site_link" style="text-decoration:none;display:inline-flex;align-items:center;gap:6px">ูููุน ุชุญููู ุงูุชุงุฑูุฎ</a>
          </div>
        </article>
        <article class="card">
          <div class="bg"></div><div class="blob"></div>
          <div class="card-head" data-i18n="project2_title">ุชุทุจููุงุชู</div>
          <p class="muted" data-i18n="project2_links_desc">ุฑูุงุจุท ุชุญููู ุชุทุจููุงุช</p>
          <div class="actions">
            <a class="btn btn-blue" href="https://www.mediafire.com/file/fekgcz3s4tl8326/app3719549-ghn059.apk/file" target="_blank" rel="noopener" data-i18n="app_converter_title" style="text-decoration:none;display:inline-flex;align-items:center;gap:6px">ุชุทุจูู ุชุญููู ุชุงุฑูุฎ</a>
          </div>
        </article>
      </div>
    </section>

      <section id="share" class="section">
  <h2 style="text-align:center" data-i18n="share_h2">ูุดุงุฑูุฉ ูููุงุช ุนุจุฑ ุงููููุน</h2>
  <div class="card" id="shareCard">
          <div class="bg"></div><div class="blob"></div>
          <div class="card-head" style="display:flex;justify-content:space-between;align-items:center;gap:12px">
            <span data-i18n="share_card_title">ูุดุงุฑูุฉ ูููุงุช ุนุจุฑ ุงููููุน</span>
            <span id="cloudModeStatus" style="font-size:12px;padding:4px 8px;border-radius:16px;background:#f1f5f9;color:#333;letter-spacing:.5px">...ุชุญูู</span>
          </div>
          <p class="muted" data-i18n="share_desc">ููููู ุงุฎุชูุงุฑ ููู ููุดุงุฑูุชู ุนุจุฑ ุฑุงุจุท (ุชุฌุฑูุจู). ูุฐู ุงููุงุฌูุฉ ุชูุถูุญูุฉ ููุท ููุง ุชุฑูุน ุงูููู ูุนูููุง ูู ูุฐุง ุงูุฅุตุฏุงุฑ.</p>
          <div class="actions">
            <button id="openReactUploaderBtn" class="btn btn-blue" type="button" style="cursor:pointer" data-i18n="upload_label">ุฑูุน ุตูุฑ/ููุฏูู</button>
            <div id="uploadHint" class="muted" style="display:block;margin-top:8px" data-i18n="upload_hint_empty">ูู ูุชู ุงุฎุชูุงุฑ ูููุงุช ุฃู ุฑูุงุจุท</div>
            <div id="itemsCount" class="muted" style="display:block;margin-top:4px;font-size:12px;opacity:.8"></div>
            <div id="uploadProgress" style="display:none;width:100%;background:#e2e8f0;border-radius:6px;height:8px;margin-top:8px;overflow:hidden">
              <div id="uploadBar" style="height:100%;width:0;background:linear-gradient(90deg,#0ea5e9,#38bdf8);transition:width .2s"></div>
            </div>
          </div>
          <div id="sharePreview" class="share-preview" style="margin-top:10px"></div>
          <div id="dropZone" style="margin-top:8px;padding:18px;border:2px dashed #94a3b8;border-radius:10px;text-align:center;font-size:14px;color:#64748b;cursor:copy;" data-i18n="dropzone_text">ุงุณุญุจ ูุฃููุช ุงูุตูุฑ ุฃู ุงูููุฏูู ููุง
          </div>
          <!-- Removed Firebase storage help and diagnostics -->
        </div>
      </section>

    <section id="contact" class="section">
      <h2 data-i18n="contact_h2">ุชูุงุตู</h2>
      <div class="contact">
  <p class="muted" data-i18n="contact_text">ููููู ุงูุชูุงุตู ูุนูุง ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู.</p>
        <div class="contact-info">
          <a class="email green-btn" href="mailto:ahmad14088@gmail.com" aria-label="ahmad14088@gmail.com" title="ahmad14088@gmail.com">
            <span class="mail-icon" aria-hidden="true">โ๏ธ</span>
          </a>
        </div>
      </div>
    </section>

    <footer class="site-footer">
  <div>ยฉ <span id="year"></span> <span class="site-name" data-i18n="site_name">ุงุญูุฏ ุณุงูุช</span> โ <span data-i18n="rights">ุฌููุน ุงูุญููู ูุญููุธุฉ</span></div>
    </footer>
  </main>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    const darkToggle = document.getElementById('darkToggle');
    function setDark(on){ if(on) document.documentElement.classList.add('dark'); else document.documentElement.classList.remove('dark'); try{ localStorage.setItem('demo_dark', on ? '1' : '0') }catch(e){} darkToggle.checked = !!on; }
    darkToggle.addEventListener('change', (e)=> setDark(e.target.checked));
    try{ if(localStorage.getItem('demo_dark') === '1') setDark(true) }catch(e){}
  const i18n = { en: { tagline: 'Portfolio & links โ quick view of my projects', projects_h2: 'Projects', project1_title: 'My site links', project1_desc: 'My demo sites', converter_site_link: 'Date Converter Site', project2_title: 'My apps', project2_links_desc: 'App download links', app_converter_title: 'Date converter app', contact_h2: 'Contact', contact_text: 'You can contact us via email.', site_name: 'Ahmed Site', rights: 'All rights reserved', doc_title: 'Ahmed Site โ Projects & Links', share_h2: 'Share Files via Site', share_card_title: 'Share Files via Site', share_desc: 'Upload and get a shareable link instantly.', upload_label: 'Upload Images / Video', upload_hint_empty: 'No files or links selected', dropzone_text: 'Drag & drop images or video here', btn_save: 'Save', btn_remove: 'Remove', btn_cancel: 'Cancel', status_downloaded: 'Downloaded', status_removed: 'Removed', status_uploading: 'Uploading', status_failed: 'Upload failed', status_completed: 'Completed', status_canceled: 'Canceled', status_inline_saved: 'Saved Inline', status_timeout: 'Timed out', items_singular: 'item', items_plural: 'items' }, ar: { tagline: 'ูุญูุธุฉ ูุฑูุงุจุท ุฎุงุตุฉ โ ุนุฑุถ ุณุฑูุน ููุดุฑูุนุงุชู ูุฑูุงุจุทู ุงููููุฉ', projects_h2: 'ุงููุดุงุฑูุน', project1_title: 'ุฑูุงุจุท ูููุนู', project1_desc: 'ููุงูุน ุงูุชุฌุฑูุจูู ุฎุงุตู ุจู', converter_site_link: 'ูููุน ุชุญููู ุงูุชุงุฑูุฎ', project2_title: 'ุชุทุจููุงุชู', project2_links_desc: 'ุฑูุงุจุท ุชุญููู ุชุทุจููุงุช', app_converter_title: 'ุชุทุจูู ุชุญููู ุชุงุฑูุฎ', contact_h2: 'ุชูุงุตู', contact_text: 'ููููู ุงูุชูุงุตู ูุนูุง ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู.', site_name: 'ุงุญูุฏ ุณุงูุช', rights: 'ุฌููุน ุงูุญููู ูุญููุธุฉ', doc_title: 'ุงุญูุฏ ุณุงูุช โ ูุดุงุฑูุน ูุฑูุงุจุท', share_h2: 'ูุดุงุฑูุฉ ูููุงุช ุนุจุฑ ุงููููุน', share_card_title: 'ูุดุงุฑูุฉ ูููุงุช ุนุจุฑ ุงููููุน', share_desc: 'ุงุฑูุน ููู ูุงุญุตู ุนูู ุฑุงุจุท ูุดุงุฑูุฉ ูุจุงุดุฑ.', upload_label: 'ุฑูุน ุตูุฑ/ููุฏูู', upload_hint_empty: 'ูู ูุชู ุงุฎุชูุงุฑ ูููุงุช ุฃู ุฑูุงุจุท', dropzone_text: 'ุงุณุญุจ ูุฃููุช ุงูุตูุฑ ุฃู ุงูููุฏูู ููุง', btn_save: 'ุญูุธ', btn_remove: 'ุฅุฒุงูุฉ', btn_cancel: 'ุฅูุบุงุก', status_downloaded: 'ุชู ุงูุชูุฒูู', status_removed: 'ุญุฐู', status_uploading: 'ุฌุงุฑู ุงูุฑูุน', status_failed: 'ูุดู ุงูุฑูุน', status_completed: 'ุงูุชูู', status_canceled: 'ุฃููุบู', status_inline_saved: 'ุชู ุฑูุน (Inline)', status_timeout: 'ุงูุชูุช ุงููููุฉ', items_singular: 'ุนูุตุฑ', items_plural: 'ุนูุตุฑ' } };
    let currentLang = 'ar';
    function t(key, fallback){ return (i18n[currentLang] && i18n[currentLang][key]) || fallback || key; }
    const langSelect = document.getElementById('langSelect');
    function applyLang(lang){ currentLang = lang; document.documentElement.lang = lang; document.documentElement.dir = (lang === 'ar') ? 'rtl' : 'ltr'; document.querySelectorAll('[data-i18n]').forEach(el=>{ const key = el.getAttribute('data-i18n'); if(i18n[lang] && i18n[lang][key]) el.textContent = i18n[lang][key]; }); if(i18n[lang] && i18n[lang].doc_title){ document.title = i18n[lang].doc_title; } try{ localStorage.setItem('demo_lang', lang) }catch(e){} updateCounter(); if(typeof CLOUD_ACTIVE !== 'undefined'){ if(CLOUD_ACTIVE) setCloudBadge('cloud_badge_cloud', true); else setCloudBadge('cloud_badge_local', false); } }
    langSelect.addEventListener('change', ()=>applyLang(langSelect.value));
    try{ const saved = localStorage.getItem('demo_lang'); if(saved){ langSelect.value = saved; currentLang = saved; } }catch(e){}
    applyLang(langSelect.value);
    const io = new IntersectionObserver((entries)=>{ entries.forEach(ent=>{ if(ent.isIntersecting) ent.target.classList.add('in-view'); }); },{threshold:0.12});
    document.querySelectorAll('.card, .section').forEach(el=>{ el.classList.add('reveal'); io.observe(el) });
    const tiltCards = document.querySelectorAll('.card');
    tiltCards.forEach(card=>{ card.setAttribute('data-tilt',''); card.addEventListener('mousemove', (e)=>{ const r = card.getBoundingClientRect(); const x = (e.clientX - r.left)/r.width - 0.5; const y = (e.clientY - r.top)/r.height - 0.5; card.style.transform = `rotateX(${(-y*14).toFixed(2)}deg) rotateY(${(x*14).toFixed(2)}deg) translateY(-2px)`; }); card.addEventListener('mouseleave', ()=>{ card.style.transform=''; }); });
  </script>

  <!-- Uploadcare widget (replacing Firebase Storage logic) -->
  <script>
    // Remove cloud badge concept; static label
    const cloudModeStatusEl = document.getElementById('cloudModeStatus');
    if(cloudModeStatusEl){ cloudModeStatusEl.textContent = 'Uploadcare'; cloudModeStatusEl.style.background='linear-gradient(90deg,#6366f1,#3b82f6)'; cloudModeStatusEl.style.color='#fff'; }
  </script>
  <script>
    // Simple Uploadcare widget injection
    (function(){
      const script = document.createElement('script');
      script.src = 'https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js';
      script.onload = initUploadcareArea;
      document.head.appendChild(script);
    })();

    const sharePreview = document.getElementById('sharePreview');
    const uploadHint = document.getElementById('uploadHint');
    const dropZone = document.getElementById('dropZone');
    const itemsCountEl = document.getElementById('itemsCount');
    let currentLangUC = currentLang;
    let ucWidgets = [];
    function updateCounter(){ if(itemsCountEl){ const c = sharePreview.querySelectorAll('.preview-item').length; itemsCountEl.textContent = c? (c+' '+(c===1? t('items_singular'): t('items_plural'))) : ''; } }
    function createPreview(fileInfo){
      const wrap = document.createElement('div');
      wrap.className='preview-item';
      wrap.style.cssText='padding:8px;border:1px solid rgba(0,0,0,0.06);border-radius:8px;margin-bottom:8px;display:flex;align-items:center;gap:10px';
      const info = document.createElement('div'); info.style.flex='1';
      const title = document.createElement('div'); title.textContent = (fileInfo && (fileInfo.name || fileInfo.filename)) || 'file'; title.style.fontWeight='600'; info.appendChild(title);
      let url = fileInfo.cdnUrl || fileInfo.cdnUrlModifiers || fileInfo.originalUrl;
      if(url){
        if(fileInfo.isImage){
          const img = document.createElement('img'); img.src = url + '-/preview/200x200/-/quality/smart/'; img.alt = title.textContent; img.style.maxWidth='120px'; img.style.borderRadius='6px'; img.style.objectFit='cover'; img.onclick=()=> window.open(url,'_blank','noopener'); wrap.appendChild(img);
        } else if(/\.(mp4|webm|ogg)$/i.test(url)){
          const vid=document.createElement('video'); vid.src=url; vid.controls=true; vid.style.maxWidth='160px'; vid.style.borderRadius='6px'; wrap.appendChild(vid);
        } else {
          const icon=document.createElement('div'); icon.textContent='๐'; icon.style.fontSize='40px'; icon.style.cursor='pointer'; icon.onclick=()=> window.open(url,'_blank','noopener'); wrap.appendChild(icon);
        }
      }
      const actions = document.createElement('div'); actions.style.display='flex'; actions.style.flexDirection='column'; actions.style.gap='6px';
      const saveBtn=document.createElement('button'); saveBtn.textContent=t('btn_save','ุญูุธ'); saveBtn.className='btn';
      saveBtn.onclick=async ()=>{ if(!url) return; try{ const resp=await fetch(url); const blob=await resp.blob(); const obj=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=obj; a.download=title.textContent||'file'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(obj); uploadHint.textContent=t('status_downloaded'); }catch(e){ window.open(url,'_blank','noopener'); } };
      const removeBtn=document.createElement('button'); removeBtn.textContent=t('btn_remove','ุฅุฒุงูุฉ'); removeBtn.className='btn'; removeBtn.onclick=()=>{ wrap.remove(); updateCounter(); };
      actions.appendChild(saveBtn); actions.appendChild(removeBtn);
      wrap.appendChild(info); wrap.appendChild(actions);
      if(sharePreview.firstChild) sharePreview.insertBefore(wrap, sharePreview.firstChild); else sharePreview.appendChild(wrap);
      updateCounter();
    }
    function initUploadcareArea(){
      uploadHint.textContent = (currentLang==='ar'? 'ุงุฎุชุฑ ููู ูู ุงูุฒุฑ ุจุงูุฃุณูู':'Choose a file using the button below');
      const btn = document.getElementById('openReactUploaderBtn');
      if(btn){
        // turn existing button into multiple widget launcher
        btn.onclick = ()=>{
          const input = document.createElement('input');
          input.type='hidden';
          input.setAttribute('role','uploadcare-uploader');
          input.setAttribute('data-public-key','e5eaa0ae17c2522f8800');
          input.setAttribute('data-multiple','true');
          input.setAttribute('data-system-dialog','true');
          document.body.appendChild(input);
          const widget = uploadcare.Widget(input);
          ucWidgets.push(widget);
          widget.openDialog(null,{ multiple: true }).done(group=>{
            group.files().forEach(fPromise=>{
              fPromise.done(fileInfo=>{ createPreview(fileInfo); });
            });
          });
        };
      }
      if(dropZone){
        dropZone.textContent = t('dropzone_text');
        ['dragenter','dragover'].forEach(ev=> dropZone.addEventListener(ev, e=>{ e.preventDefault(); e.stopPropagation(); dropZone.style.background='rgba(96,165,250,0.15)'; }));
        ['dragleave','drop'].forEach(ev=> dropZone.addEventListener(ev, e=>{ e.preventDefault(); e.stopPropagation(); dropZone.style.background=''; }));
        dropZone.addEventListener('drop', e=>{
          const dt = e.dataTransfer; if(!dt || !dt.files || !dt.files.length) return;
          // Create a local preview (no upload) as Uploadcare doesn't auto ingest drag-drop here
          Array.from(dt.files).forEach(file=>{
            const localInfo = { name:file.name, isImage: file.type.startsWith('image/'), cdnUrl: URL.createObjectURL(file) };
            createPreview(localInfo);
          });
        });
      }
    }
  </script>
</body>
</html>
