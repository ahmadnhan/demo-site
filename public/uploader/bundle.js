var Zy=Object.create;var Wl=Object.defineProperty;var Qy=Object.getOwnPropertyDescriptor;var Jy=Object.getOwnPropertyNames;var eb=Object.getPrototypeOf,tb=Object.prototype.hasOwnProperty;var $h=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var v=(t,e)=>()=>(t&&(e=t(t=0)),e);var Le=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),fs=(t,e)=>{for(var r in e)Wl(t,r,{get:e[r],enumerable:!0})},rb=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Jy(e))!tb.call(t,n)&&n!==r&&Wl(t,n,{get:()=>e[n],enumerable:!(i=Qy(e,n))||i.enumerable});return t};var jr=(t,e,r)=>(r=t!=null?Zy(eb(t)):{},rb(e||!t||!t.__esModule?Wl(r,"default",{value:t,enumerable:!0}):r,t));var Gh=Le($=>{"use strict";var On=Symbol.for("react.element"),ib=Symbol.for("react.portal"),nb=Symbol.for("react.fragment"),ob=Symbol.for("react.strict_mode"),sb=Symbol.for("react.profiler"),ab=Symbol.for("react.provider"),lb=Symbol.for("react.context"),cb=Symbol.for("react.forward_ref"),ub=Symbol.for("react.suspense"),db=Symbol.for("react.memo"),hb=Symbol.for("react.lazy"),Uh=Symbol.iterator;function pb(t){return t===null||typeof t!="object"?null:(t=Uh&&t[Uh]||t["@@iterator"],typeof t=="function"?t:null)}var Dh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nh=Object.assign,Fh={};function yi(t,e,r){this.props=t,this.context=e,this.refs=Fh,this.updater=r||Dh}yi.prototype.isReactComponent={};yi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vh(){}Vh.prototype=yi.prototype;function Kl(t,e,r){this.props=t,this.context=e,this.refs=Fh,this.updater=r||Dh}var Xl=Kl.prototype=new Vh;Xl.constructor=Kl;Nh(Xl,yi.prototype);Xl.isPureReactComponent=!0;var Rh=Array.isArray,Bh=Object.prototype.hasOwnProperty,ql={current:null},jh={key:!0,ref:!0,__self:!0,__source:!0};function Hh(t,e,r){var i,n={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Bh.call(e,i)&&!jh.hasOwnProperty(i)&&(n[i]=e[i]);var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];n.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)n[i]===void 0&&(n[i]=a[i]);return{$$typeof:On,type:t,key:o,ref:s,props:n,_owner:ql.current}}function fb(t,e){return{$$typeof:On,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yl(t){return typeof t=="object"&&t!==null&&t.$$typeof===On}function mb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var zh=/\/+/g;function Gl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mb(""+t.key):e.toString(36)}function gs(t,e,r,i,n){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case On:case ib:s=!0}}if(s)return s=t,n=n(s),t=i===""?"."+Gl(s,0):i,Rh(n)?(r="",t!=null&&(r=t.replace(zh,"$&/")+"/"),gs(n,e,r,"",function(c){return c})):n!=null&&(Yl(n)&&(n=fb(n,r+(!n.key||s&&s.key===n.key?"":(""+n.key).replace(zh,"$&/")+"/")+t)),e.push(n)),1;if(s=0,i=i===""?".":i+":",Rh(t))for(var a=0;a<t.length;a++){o=t[a];var l=i+Gl(o,a);s+=gs(o,e,r,l,n)}else if(l=pb(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=i+Gl(o,a++),s+=gs(o,e,r,l,n);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ms(t,e,r){if(t==null)return t;var i=[],n=0;return gs(t,i,"","",function(o){return e.call(r,o,n++)}),i}function gb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ke={current:null},vs={transition:null},vb={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:vs,ReactCurrentOwner:ql};function Wh(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:ms,forEach:function(t,e,r){ms(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ms(t,function(){e++}),e},toArray:function(t){return ms(t,function(e){return e})||[]},only:function(t){if(!Yl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=yi;$.Fragment=nb;$.Profiler=sb;$.PureComponent=Kl;$.StrictMode=ob;$.Suspense=ub;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vb;$.act=Wh;$.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Nh({},t.props),n=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ql.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Bh.call(e,l)&&!jh.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:On,type:t.type,key:n,ref:o,props:i,_owner:s}};$.createContext=function(t){return t={$$typeof:lb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ab,_context:t},t.Consumer=t};$.createElement=Hh;$.createFactory=function(t){var e=Hh.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:cb,render:t}};$.isValidElement=Yl;$.lazy=function(t){return{$$typeof:hb,_payload:{_status:-1,_result:t},_init:gb}};$.memo=function(t,e){return{$$typeof:db,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=vs.transition;vs.transition={};try{t()}finally{vs.transition=e}};$.unstable_act=Wh;$.useCallback=function(t,e){return ke.current.useCallback(t,e)};$.useContext=function(t){return ke.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return ke.current.useDeferredValue(t)};$.useEffect=function(t,e){return ke.current.useEffect(t,e)};$.useId=function(){return ke.current.useId()};$.useImperativeHandle=function(t,e,r){return ke.current.useImperativeHandle(t,e,r)};$.useInsertionEffect=function(t,e){return ke.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return ke.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return ke.current.useMemo(t,e)};$.useReducer=function(t,e,r){return ke.current.useReducer(t,e,r)};$.useRef=function(t){return ke.current.useRef(t)};$.useState=function(t){return ke.current.useState(t)};$.useSyncExternalStore=function(t,e,r){return ke.current.useSyncExternalStore(t,e,r)};$.useTransition=function(){return ke.current.useTransition()};$.version="18.3.1"});var lt=Le((sk,Kh)=>{"use strict";Kh.exports=Gh()});var ip=Le(j=>{"use strict";function ec(t,e){var r=t.length;t.push(e);e:for(;0<r;){var i=r-1>>>1,n=t[i];if(0<ys(n,e))t[i]=e,t[r]=n,r=i;else break e}}function ct(t){return t.length===0?null:t[0]}function _s(t){if(t.length===0)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;e:for(var i=0,n=t.length,o=n>>>1;i<o;){var s=2*(i+1)-1,a=t[s],l=s+1,c=t[l];if(0>ys(a,r))l<n&&0>ys(c,a)?(t[i]=c,t[l]=r,i=l):(t[i]=a,t[s]=r,i=s);else if(l<n&&0>ys(c,r))t[i]=c,t[l]=r,i=l;else break e}}return e}function ys(t,e){var r=t.sortIndex-e.sortIndex;return r!==0?r:t.id-e.id}typeof performance=="object"&&typeof performance.now=="function"?(Xh=performance,j.unstable_now=function(){return Xh.now()}):(Zl=Date,qh=Zl.now(),j.unstable_now=function(){return Zl.now()-qh});var Xh,Zl,qh,wt=[],cr=[],yb=1,Je=null,ve=3,ws=!1,Hr=!1,Mn=!1,Qh=typeof setTimeout=="function"?setTimeout:null,Jh=typeof clearTimeout=="function"?clearTimeout:null,Yh=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function tc(t){for(var e=ct(cr);e!==null;){if(e.callback===null)_s(cr);else if(e.startTime<=t)_s(cr),e.sortIndex=e.expirationTime,ec(wt,e);else break;e=ct(cr)}}function rc(t){if(Mn=!1,tc(t),!Hr)if(ct(wt)!==null)Hr=!0,nc(ic);else{var e=ct(cr);e!==null&&oc(rc,e.startTime-t)}}function ic(t,e){Hr=!1,Mn&&(Mn=!1,Jh(Pn),Pn=-1),ws=!0;var r=ve;try{for(tc(e),Je=ct(wt);Je!==null&&(!(Je.expirationTime>e)||t&&!rp());){var i=Je.callback;if(typeof i=="function"){Je.callback=null,ve=Je.priorityLevel;var n=i(Je.expirationTime<=e);e=j.unstable_now(),typeof n=="function"?Je.callback=n:Je===ct(wt)&&_s(wt),tc(e)}else _s(wt);Je=ct(wt)}if(Je!==null)var o=!0;else{var s=ct(cr);s!==null&&oc(rc,s.startTime-e),o=!1}return o}finally{Je=null,ve=r,ws=!1}}var xs=!1,bs=null,Pn=-1,ep=5,tp=-1;function rp(){return!(j.unstable_now()-tp<ep)}function Ql(){if(bs!==null){var t=j.unstable_now();tp=t;var e=!0;try{e=bs(!0,t)}finally{e?Ln():(xs=!1,bs=null)}}else xs=!1}var Ln;typeof Yh=="function"?Ln=function(){Yh(Ql)}:typeof MessageChannel<"u"?(Jl=new MessageChannel,Zh=Jl.port2,Jl.port1.onmessage=Ql,Ln=function(){Zh.postMessage(null)}):Ln=function(){Qh(Ql,0)};var Jl,Zh;function nc(t){bs=t,xs||(xs=!0,Ln())}function oc(t,e){Pn=Qh(function(){t(j.unstable_now())},e)}j.unstable_IdlePriority=5;j.unstable_ImmediatePriority=1;j.unstable_LowPriority=4;j.unstable_NormalPriority=3;j.unstable_Profiling=null;j.unstable_UserBlockingPriority=2;j.unstable_cancelCallback=function(t){t.callback=null};j.unstable_continueExecution=function(){Hr||ws||(Hr=!0,nc(ic))};j.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ep=0<t?Math.floor(1e3/t):5};j.unstable_getCurrentPriorityLevel=function(){return ve};j.unstable_getFirstCallbackNode=function(){return ct(wt)};j.unstable_next=function(t){switch(ve){case 1:case 2:case 3:var e=3;break;default:e=ve}var r=ve;ve=e;try{return t()}finally{ve=r}};j.unstable_pauseExecution=function(){};j.unstable_requestPaint=function(){};j.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=ve;ve=t;try{return e()}finally{ve=r}};j.unstable_scheduleCallback=function(t,e,r){var i=j.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?i+r:i):r=i,t){case 1:var n=-1;break;case 2:n=250;break;case 5:n=1073741823;break;case 4:n=1e4;break;default:n=5e3}return n=r+n,t={id:yb++,callback:e,priorityLevel:t,startTime:r,expirationTime:n,sortIndex:-1},r>i?(t.sortIndex=r,ec(cr,t),ct(wt)===null&&t===ct(cr)&&(Mn?(Jh(Pn),Pn=-1):Mn=!0,oc(rc,r-i))):(t.sortIndex=n,ec(wt,t),Hr||ws||(Hr=!0,nc(ic))),t};j.unstable_shouldYield=rp;j.unstable_wrapCallback=function(t){var e=ve;return function(){var r=ve;ve=e;try{return t.apply(this,arguments)}finally{ve=r}}}});var op=Le((lk,np)=>{"use strict";np.exports=ip()});var ug=Le(Ke=>{"use strict";var bb=lt(),We=op();function w(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pf=new Set,to={};function ii(t,e){Ni(t,e),Ni(t+"Capture",e)}function Ni(t,e){for(to[t]=e,t=0;t<e.length;t++)pf.add(e[t])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=Object.prototype.hasOwnProperty,_b=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sp={},ap={};function wb(t){return Tc.call(ap,t)?!0:Tc.call(sp,t)?!1:_b.test(t)?ap[t]=!0:(sp[t]=!0,!1)}function xb(t,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kb(t,e,r,i){if(e===null||typeof e>"u"||xb(t,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Se(t,e,r,i,n,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new Se(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new Se(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new Se(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new Se(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new Se(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new Se(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new Se(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new Se(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new Se(t,5,!1,t.toLowerCase(),null,!1,!1)});var _u=/[\-:]([a-z])/g;function wu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_u,wu);fe[e]=new Se(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_u,wu);fe[e]=new Se(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_u,wu);fe[e]=new Se(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new Se(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new Se(t,1,!1,t.toLowerCase(),null,!0,!0)});function xu(t,e,r,i){var n=fe.hasOwnProperty(e)?fe[e]:null;(n!==null?n.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kb(e,r,n,i)&&(r=null),i||n===null?wb(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(e=n.attributeName,i=n.attributeNamespace,r===null?t.removeAttribute(e):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?t.setAttributeNS(i,e,r):t.setAttribute(e,r))))}var Yt=bb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ks=Symbol.for("react.element"),wi=Symbol.for("react.portal"),xi=Symbol.for("react.fragment"),ku=Symbol.for("react.strict_mode"),Ic=Symbol.for("react.profiler"),ff=Symbol.for("react.provider"),mf=Symbol.for("react.context"),Cu=Symbol.for("react.forward_ref"),Oc=Symbol.for("react.suspense"),Lc=Symbol.for("react.suspense_list"),Eu=Symbol.for("react.memo"),dr=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var gf=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var lp=Symbol.iterator;function $n(t){return t===null||typeof t!="object"?null:(t=lp&&t[lp]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,sc;function Bn(t){if(sc===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);sc=e&&e[1]||""}return`
`+sc+t}var ac=!1;function lc(t,e){if(!t||ac)return"";ac=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),o=i.stack.split(`
`),s=n.length-1,a=o.length-1;1<=s&&0<=a&&n[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(n[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||n[s]!==o[a]){var l=`
`+n[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ac=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Bn(t):""}function Cb(t){switch(t.tag){case 5:return Bn(t.type);case 16:return Bn("Lazy");case 13:return Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 2:case 15:return t=lc(t.type,!1),t;case 11:return t=lc(t.type.render,!1),t;case 1:return t=lc(t.type,!0),t;default:return""}}function Mc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xi:return"Fragment";case wi:return"Portal";case Ic:return"Profiler";case ku:return"StrictMode";case Oc:return"Suspense";case Lc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mf:return(t.displayName||"Context")+".Consumer";case ff:return(t._context.displayName||"Context")+".Provider";case Cu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Eu:return e=t.displayName||null,e!==null?e:Mc(t.type)||"Memo";case dr:e=t._payload,t=t._init;try{return Mc(t(e))}catch{}}return null}function Eb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mc(e);case 8:return e===ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sb(t){var e=vf(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cs(t){t._valueTracker||(t._valueTracker=Sb(t))}function yf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return t&&(i=vf(t)?t.checked?"true":"false":t.value),t=i,t!==r?(e.setValue(t),!0):!1}function Qs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pc(t,e){var r=e.checked;return J({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function cp(t,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=Er(e.value!=null?e.value:r),t._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bf(t,e){e=e.checked,e!=null&&xu(t,"checked",e,!1)}function $c(t,e){bf(t,e);var r=Er(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uc(t,e.type,r):e.hasOwnProperty("defaultValue")&&Uc(t,e.type,Er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function up(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Uc(t,e,r){(e!=="number"||Qs(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var jn=Array.isArray;function Pi(t,e,r,i){if(t=t.options,e){e={};for(var n=0;n<r.length;n++)e["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=e.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&i&&(t[r].defaultSelected=!0)}else{for(r=""+Er(r),e=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,i&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function Rc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(w(91));return J({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dp(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(w(92));if(jn(r)){if(1<r.length)throw Error(w(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Er(r)}}function _f(t,e){var r=Er(e.value),i=Er(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),i!=null&&(t.defaultValue=""+i)}function hp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Es,xf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,n){MSApp.execUnsafeLocalFunction(function(){return t(e,r,i,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Es.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ro(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ab=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(t){Ab.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gn[e]=Gn[t]})});function kf(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Gn.hasOwnProperty(t)&&Gn[t]?(""+e).trim():e+"px"}function Cf(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=kf(r,e[r],i);r==="float"&&(r="cssFloat"),i?t.setProperty(r,n):t[r]=n}}var Tb=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dc(t,e){if(e){if(Tb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(w(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(w(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(w(61))}if(e.style!=null&&typeof e.style!="object")throw Error(w(62))}}function Nc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fc=null;function Su(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vc=null,$i=null,Ui=null;function pp(t){if(t=wo(t)){if(typeof Vc!="function")throw Error(w(280));var e=t.stateNode;e&&(e=Sa(e),Vc(t.stateNode,t.type,e))}}function Ef(t){$i?Ui?Ui.push(t):Ui=[t]:$i=t}function Sf(){if($i){var t=$i,e=Ui;if(Ui=$i=null,pp(t),e)for(t=0;t<e.length;t++)pp(e[t])}}function Af(t,e){return t(e)}function Tf(){}var cc=!1;function If(t,e,r){if(cc)return t(e,r);cc=!0;try{return Af(t,e,r)}finally{cc=!1,($i!==null||Ui!==null)&&(Tf(),Sf())}}function io(t,e){var r=t.stateNode;if(r===null)return null;var i=Sa(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(w(231,e,typeof r));return r}var Bc=!1;if(Gt)try{bi={},Object.defineProperty(bi,"passive",{get:function(){Bc=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Bc=!1}var bi;function Ib(t,e,r,i,n,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Kn=!1,Js=null,ea=!1,jc=null,Ob={onError:function(t){Kn=!0,Js=t}};function Lb(t,e,r,i,n,o,s,a,l){Kn=!1,Js=null,Ib.apply(Ob,arguments)}function Mb(t,e,r,i,n,o,s,a,l){if(Lb.apply(this,arguments),Kn){if(Kn){var c=Js;Kn=!1,Js=null}else throw Error(w(198));ea||(ea=!0,jc=c)}}function ni(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Of(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fp(t){if(ni(t)!==t)throw Error(w(188))}function Pb(t){var e=t.alternate;if(!e){if(e=ni(t),e===null)throw Error(w(188));return e!==t?null:t}for(var r=t,i=e;;){var n=r.return;if(n===null)break;var o=n.alternate;if(o===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===r)return fp(n),t;if(o===i)return fp(n),e;o=o.sibling}throw Error(w(188))}if(r.return!==i.return)r=n,i=o;else{for(var s=!1,a=n.child;a;){if(a===r){s=!0,r=n,i=o;break}if(a===i){s=!0,i=n,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,i=n;break}if(a===i){s=!0,i=o,r=n;break}a=a.sibling}if(!s)throw Error(w(189))}}if(r.alternate!==i)throw Error(w(190))}if(r.tag!==3)throw Error(w(188));return r.stateNode.current===r?t:e}function Lf(t){return t=Pb(t),t!==null?Mf(t):null}function Mf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mf(t);if(e!==null)return e;t=t.sibling}return null}var Pf=We.unstable_scheduleCallback,mp=We.unstable_cancelCallback,$b=We.unstable_shouldYield,Ub=We.unstable_requestPaint,ie=We.unstable_now,Rb=We.unstable_getCurrentPriorityLevel,Au=We.unstable_ImmediatePriority,$f=We.unstable_UserBlockingPriority,ta=We.unstable_NormalPriority,zb=We.unstable_LowPriority,Uf=We.unstable_IdlePriority,xa=null,Et=null;function Db(t){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(xa,t,void 0,(t.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Vb,Nb=Math.log,Fb=Math.LN2;function Vb(t){return t>>>=0,t===0?32:31-(Nb(t)/Fb|0)|0}var Ss=64,As=4194304;function Hn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ra(t,e){var r=t.pendingLanes;if(r===0)return 0;var i=0,n=t.suspendedLanes,o=t.pingedLanes,s=r&268435455;if(s!==0){var a=s&~n;a!==0?i=Hn(a):(o&=s,o!==0&&(i=Hn(o)))}else s=r&~n,s!==0?i=Hn(s):o!==0&&(i=Hn(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&n)&&(n=i&-i,o=e&-e,n>=o||n===16&&(o&4194240)!==0))return e;if(i&4&&(i|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)r=31-ft(e),n=1<<r,i|=t[r],e&=~n;return i}function Bb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jb(t,e){for(var r=t.suspendedLanes,i=t.pingedLanes,n=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ft(o),a=1<<s,l=n[s];l===-1?(!(a&r)||a&i)&&(n[s]=Bb(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Hc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Rf(){var t=Ss;return Ss<<=1,!(Ss&4194240)&&(Ss=64),t}function uc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function bo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ft(e),t[e]=r}function Hb(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-ft(r),o=1<<n;e[n]=0,i[n]=-1,t[n]=-1,r&=~o}}function Tu(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var i=31-ft(r),n=1<<i;n&e|t[i]&e&&(t[i]|=e),r&=~n}}var V=0;function zf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Df,Iu,Nf,Ff,Vf,Wc=!1,Ts=[],vr=null,yr=null,br=null,no=new Map,oo=new Map,pr=[],Wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gp(t,e){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":no.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(e.pointerId)}}function Un(t,e,r,i,n,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[n]},e!==null&&(e=wo(e),e!==null&&Iu(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function Gb(t,e,r,i,n){switch(e){case"focusin":return vr=Un(vr,t,e,r,i,n),!0;case"dragenter":return yr=Un(yr,t,e,r,i,n),!0;case"mouseover":return br=Un(br,t,e,r,i,n),!0;case"pointerover":var o=n.pointerId;return no.set(o,Un(no.get(o)||null,t,e,r,i,n)),!0;case"gotpointercapture":return o=n.pointerId,oo.set(o,Un(oo.get(o)||null,t,e,r,i,n)),!0}return!1}function Bf(t){var e=Kr(t.target);if(e!==null){var r=ni(e);if(r!==null){if(e=r.tag,e===13){if(e=Of(r),e!==null){t.blockedOn=e,Vf(t.priority,function(){Nf(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Gc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);Fc=i,r.target.dispatchEvent(i),Fc=null}else return e=wo(r),e!==null&&Iu(e),t.blockedOn=r,!1;e.shift()}return!0}function vp(t,e,r){Bs(t)&&r.delete(e)}function Kb(){Wc=!1,vr!==null&&Bs(vr)&&(vr=null),yr!==null&&Bs(yr)&&(yr=null),br!==null&&Bs(br)&&(br=null),no.forEach(vp),oo.forEach(vp)}function Rn(t,e){t.blockedOn===e&&(t.blockedOn=null,Wc||(Wc=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,Kb)))}function so(t){function e(n){return Rn(n,t)}if(0<Ts.length){Rn(Ts[0],t);for(var r=1;r<Ts.length;r++){var i=Ts[r];i.blockedOn===t&&(i.blockedOn=null)}}for(vr!==null&&Rn(vr,t),yr!==null&&Rn(yr,t),br!==null&&Rn(br,t),no.forEach(e),oo.forEach(e),r=0;r<pr.length;r++)i=pr[r],i.blockedOn===t&&(i.blockedOn=null);for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)Bf(r),r.blockedOn===null&&pr.shift()}var Ri=Yt.ReactCurrentBatchConfig,ia=!0;function Xb(t,e,r,i){var n=V,o=Ri.transition;Ri.transition=null;try{V=1,Ou(t,e,r,i)}finally{V=n,Ri.transition=o}}function qb(t,e,r,i){var n=V,o=Ri.transition;Ri.transition=null;try{V=4,Ou(t,e,r,i)}finally{V=n,Ri.transition=o}}function Ou(t,e,r,i){if(ia){var n=Gc(t,e,r,i);if(n===null)vc(t,e,i,na,r),gp(t,i);else if(Gb(n,t,e,r,i))i.stopPropagation();else if(gp(t,i),e&4&&-1<Wb.indexOf(t)){for(;n!==null;){var o=wo(n);if(o!==null&&Df(o),o=Gc(t,e,r,i),o===null&&vc(t,e,i,na,r),o===n)break;n=o}n!==null&&i.stopPropagation()}else vc(t,e,i,null,r)}}var na=null;function Gc(t,e,r,i){if(na=null,t=Su(i),t=Kr(t),t!==null)if(e=ni(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Of(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return na=t,null}function jf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rb()){case Au:return 1;case $f:return 4;case ta:case zb:return 16;case Uf:return 536870912;default:return 16}default:return 16}}var mr=null,Lu=null,js=null;function Hf(){if(js)return js;var t,e=Lu,r=e.length,i,n="value"in mr?mr.value:mr.textContent,o=n.length;for(t=0;t<r&&e[t]===n[t];t++);var s=r-t;for(i=1;i<=s&&e[r-i]===n[o-i];i++);return js=n.slice(t,1<i?1-i:void 0)}function Hs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Is(){return!0}function yp(){return!1}function Ge(t){function e(r,i,n,o,s){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Is:yp,this.isPropagationStopped=yp,this}return J(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),e}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mu=Ge(Gi),_o=J({},Gi,{view:0,detail:0}),Yb=Ge(_o),dc,hc,zn,ka=J({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zn&&(zn&&t.type==="mousemove"?(dc=t.screenX-zn.screenX,hc=t.screenY-zn.screenY):hc=dc=0,zn=t),dc)},movementY:function(t){return"movementY"in t?t.movementY:hc}}),bp=Ge(ka),Zb=J({},ka,{dataTransfer:0}),Qb=Ge(Zb),Jb=J({},_o,{relatedTarget:0}),pc=Ge(Jb),e_=J({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),t_=Ge(e_),r_=J({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),i_=Ge(r_),n_=J({},Gi,{data:0}),_p=Ge(n_),o_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a_[t])?!!e[t]:!1}function Pu(){return l_}var c_=J({},_o,{key:function(t){if(t.key){var e=o_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pu,charCode:function(t){return t.type==="keypress"?Hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u_=Ge(c_),d_=J({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wp=Ge(d_),h_=J({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pu}),p_=Ge(h_),f_=J({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),m_=Ge(f_),g_=J({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v_=Ge(g_),y_=[9,13,27,32],$u=Gt&&"CompositionEvent"in window,Xn=null;Gt&&"documentMode"in document&&(Xn=document.documentMode);var b_=Gt&&"TextEvent"in window&&!Xn,Wf=Gt&&(!$u||Xn&&8<Xn&&11>=Xn),xp=" ",kp=!1;function Gf(t,e){switch(t){case"keyup":return y_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ki=!1;function __(t,e){switch(t){case"compositionend":return Kf(e);case"keypress":return e.which!==32?null:(kp=!0,xp);case"textInput":return t=e.data,t===xp&&kp?null:t;default:return null}}function w_(t,e){if(ki)return t==="compositionend"||!$u&&Gf(t,e)?(t=Hf(),js=Lu=mr=null,ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wf&&e.locale!=="ko"?null:e.data;default:return null}}var x_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!x_[t.type]:e==="textarea"}function Xf(t,e,r,i){Ef(i),e=oa(e,"onChange"),0<e.length&&(r=new Mu("onChange","change",null,r,i),t.push({event:r,listeners:e}))}var qn=null,ao=null;function k_(t){om(t,0)}function Ca(t){var e=Si(t);if(yf(e))return t}function C_(t,e){if(t==="change")return e}var qf=!1;Gt&&(Gt?(Ls="oninput"in document,Ls||(fc=document.createElement("div"),fc.setAttribute("oninput","return;"),Ls=typeof fc.oninput=="function"),Os=Ls):Os=!1,qf=Os&&(!document.documentMode||9<document.documentMode));var Os,Ls,fc;function Ep(){qn&&(qn.detachEvent("onpropertychange",Yf),ao=qn=null)}function Yf(t){if(t.propertyName==="value"&&Ca(ao)){var e=[];Xf(e,ao,t,Su(t)),If(k_,e)}}function E_(t,e,r){t==="focusin"?(Ep(),qn=e,ao=r,qn.attachEvent("onpropertychange",Yf)):t==="focusout"&&Ep()}function S_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ca(ao)}function A_(t,e){if(t==="click")return Ca(e)}function T_(t,e){if(t==="input"||t==="change")return Ca(e)}function I_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gt=typeof Object.is=="function"?Object.is:I_;function lo(t,e){if(gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!Tc.call(e,n)||!gt(t[n],e[n]))return!1}return!0}function Sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ap(t,e){var r=Sp(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=e&&i>=e)return{node:r,offset:e-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sp(r)}}function Zf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Zf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qf(){for(var t=window,e=Qs();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Qs(t.document)}return e}function Uu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function O_(t){var e=Qf(),r=t.focusedElem,i=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Zf(r.ownerDocument.documentElement,r)){if(i!==null&&Uu(r)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,o=Math.min(i.start,n);i=i.end===void 0?o:Math.min(i.end,n),!t.extend&&o>i&&(n=i,i=o,o=n),n=Ap(r,o);var s=Ap(r,i);n&&s&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var L_=Gt&&"documentMode"in document&&11>=document.documentMode,Ci=null,Kc=null,Yn=null,Xc=!1;function Tp(t,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xc||Ci==null||Ci!==Qs(i)||(i=Ci,"selectionStart"in i&&Uu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Yn&&lo(Yn,i)||(Yn=i,i=oa(Kc,"onSelect"),0<i.length&&(e=new Mu("onSelect","select",null,e,r),t.push({event:e,listeners:i}),e.target=Ci)))}function Ms(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ei={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},mc={},Jf={};Gt&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function Ea(t){if(mc[t])return mc[t];if(!Ei[t])return t;var e=Ei[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Jf)return mc[t]=e[r];return t}var em=Ea("animationend"),tm=Ea("animationiteration"),rm=Ea("animationstart"),im=Ea("transitionend"),nm=new Map,Ip="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){nm.set(t,e),ii(e,[t])}for(Ps=0;Ps<Ip.length;Ps++)$s=Ip[Ps],Op=$s.toLowerCase(),Lp=$s[0].toUpperCase()+$s.slice(1),Ar(Op,"on"+Lp);var $s,Op,Lp,Ps;Ar(em,"onAnimationEnd");Ar(tm,"onAnimationIteration");Ar(rm,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(im,"onTransitionEnd");Ni("onMouseEnter",["mouseout","mouseover"]);Ni("onMouseLeave",["mouseout","mouseover"]);Ni("onPointerEnter",["pointerout","pointerover"]);Ni("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wn));function Mp(t,e,r){var i=t.type||"unknown-event";t.currentTarget=r,Mb(i,e,void 0,t),t.currentTarget=null}function om(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],n=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&n.isPropagationStopped())break e;Mp(n,a,c),o=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&n.isPropagationStopped())break e;Mp(n,a,c),o=l}}}if(ea)throw t=jc,ea=!1,jc=null,t}function W(t,e){var r=e[Jc];r===void 0&&(r=e[Jc]=new Set);var i=t+"__bubble";r.has(i)||(sm(e,t,2,!1),r.add(i))}function gc(t,e,r){var i=0;e&&(i|=4),sm(r,t,i,e)}var Us="_reactListening"+Math.random().toString(36).slice(2);function co(t){if(!t[Us]){t[Us]=!0,pf.forEach(function(r){r!=="selectionchange"&&(M_.has(r)||gc(r,!1,t),gc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Us]||(e[Us]=!0,gc("selectionchange",!1,e))}}function sm(t,e,r,i){switch(jf(e)){case 1:var n=Xb;break;case 4:n=qb;break;default:n=Ou}r=n.bind(null,e,r,t),n=void 0,!Bc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),i?n!==void 0?t.addEventListener(e,r,{capture:!0,passive:n}):t.addEventListener(e,r,!0):n!==void 0?t.addEventListener(e,r,{passive:n}):t.addEventListener(e,r,!1)}function vc(t,e,r,i,n){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===n||a.nodeType===8&&a.parentNode===n)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;s=s.return}for(;a!==null;){if(s=Kr(a),s===null)return;if(l=s.tag,l===5||l===6){i=o=s;continue e}a=a.parentNode}}i=i.return}If(function(){var c=o,u=Su(r),d=[];e:{var h=nm.get(t);if(h!==void 0){var g=Mu,y=t;switch(t){case"keypress":if(Hs(r)===0)break e;case"keydown":case"keyup":g=u_;break;case"focusin":y="focus",g=pc;break;case"focusout":y="blur",g=pc;break;case"beforeblur":case"afterblur":g=pc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Qb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=p_;break;case em:case tm:case rm:g=t_;break;case im:g=m_;break;case"scroll":g=Yb;break;case"wheel":g=v_;break;case"copy":case"cut":case"paste":g=i_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=wp}var b=(e&4)!==0,S=!b&&t==="scroll",f=b?h!==null?h+"Capture":null:h;b=[];for(var p=c,m;p!==null;){m=p;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,f!==null&&(_=io(p,f),_!=null&&b.push(uo(p,_,m)))),S)break;p=p.return}0<b.length&&(h=new g(h,y,null,r,u),d.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&r!==Fc&&(y=r.relatedTarget||r.fromElement)&&(Kr(y)||y[Kt]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=c,y=y?Kr(y):null,y!==null&&(S=ni(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(b=bp,_="onMouseLeave",f="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=wp,_="onPointerLeave",f="onPointerEnter",p="pointer"),S=g==null?h:Si(g),m=y==null?h:Si(y),h=new b(_,p+"leave",g,r,u),h.target=S,h.relatedTarget=m,_=null,Kr(u)===c&&(b=new b(f,p+"enter",y,r,u),b.target=m,b.relatedTarget=S,_=b),S=_,g&&y)t:{for(b=g,f=y,p=0,m=b;m;m=_i(m))p++;for(m=0,_=f;_;_=_i(_))m++;for(;0<p-m;)b=_i(b),p--;for(;0<m-p;)f=_i(f),m--;for(;p--;){if(b===f||f!==null&&b===f.alternate)break t;b=_i(b),f=_i(f)}b=null}else b=null;g!==null&&Pp(d,h,g,b,!1),y!==null&&S!==null&&Pp(d,S,y,b,!0)}}e:{if(h=c?Si(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var k=C_;else if(Cp(h))if(qf)k=T_;else{k=S_;var T=E_}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=A_);if(k&&(k=k(t,c))){Xf(d,k,r,u);break e}T&&T(t,h,c),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Uc(h,"number",h.value)}switch(T=c?Si(c):window,t){case"focusin":(Cp(T)||T.contentEditable==="true")&&(Ci=T,Kc=c,Yn=null);break;case"focusout":Yn=Kc=Ci=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,Tp(d,r,u);break;case"selectionchange":if(L_)break;case"keydown":case"keyup":Tp(d,r,u)}var C;if($u)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ki?Gf(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Wf&&r.locale!=="ko"&&(ki||A!=="onCompositionStart"?A==="onCompositionEnd"&&ki&&(C=Hf()):(mr=u,Lu="value"in mr?mr.value:mr.textContent,ki=!0)),T=oa(c,A),0<T.length&&(A=new _p(A,t,null,r,u),d.push({event:A,listeners:T}),C?A.data=C:(C=Kf(r),C!==null&&(A.data=C)))),(C=b_?__(t,r):w_(t,r))&&(c=oa(c,"onBeforeInput"),0<c.length&&(u=new _p("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=C))}om(d,e)})}function uo(t,e,r){return{instance:t,listener:e,currentTarget:r}}function oa(t,e){for(var r=e+"Capture",i=[];t!==null;){var n=t,o=n.stateNode;n.tag===5&&o!==null&&(n=o,o=io(t,r),o!=null&&i.unshift(uo(t,o,n)),o=io(t,e),o!=null&&i.push(uo(t,o,n))),t=t.return}return i}function _i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pp(t,e,r,i,n){for(var o=e._reactName,s=[];r!==null&&r!==i;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,n?(l=io(r,o),l!=null&&s.unshift(uo(r,l,a))):n||(l=io(r,o),l!=null&&s.push(uo(r,l,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var P_=/\r\n?/g,$_=/\u0000|\uFFFD/g;function $p(t){return(typeof t=="string"?t:""+t).replace(P_,`
`).replace($_,"")}function Rs(t,e,r){if(e=$p(e),$p(t)!==e&&r)throw Error(w(425))}function sa(){}var qc=null,Yc=null;function Zc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qc=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,R_=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(t){return Up.resolve(null).then(t).catch(z_)}:Qc;function z_(t){setTimeout(function(){throw t})}function yc(t,e){var r=e,i=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){t.removeChild(n),so(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=n}while(r);so(e)}function _r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Ki,ho="__reactProps$"+Ki,Kt="__reactContainer$"+Ki,Jc="__reactEvents$"+Ki,D_="__reactListeners$"+Ki,N_="__reactHandles$"+Ki;function Kr(t){var e=t[Ct];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Kt]||r[Ct]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Rp(t);t!==null;){if(r=t[Ct])return r;t=Rp(t)}return e}t=r,r=t.parentNode}return null}function wo(t){return t=t[Ct]||t[Kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Si(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(w(33))}function Sa(t){return t[ho]||null}var eu=[],Ai=-1;function Tr(t){return{current:t}}function G(t){0>Ai||(t.current=eu[Ai],eu[Ai]=null,Ai--)}function H(t,e){Ai++,eu[Ai]=t.current,t.current=e}var Sr={},we=Tr(Sr),$e=Tr(!1),Qr=Sr;function Fi(t,e){var r=t.type.contextTypes;if(!r)return Sr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var n={},o;for(o in r)n[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function Ue(t){return t=t.childContextTypes,t!=null}function aa(){G($e),G(we)}function zp(t,e,r){if(we.current!==Sr)throw Error(w(168));H(we,e),H($e,r)}function am(t,e,r){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in e))throw Error(w(108,Eb(t)||"Unknown",n));return J({},r,i)}function la(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sr,Qr=we.current,H(we,t),H($e,$e.current),!0}function Dp(t,e,r){var i=t.stateNode;if(!i)throw Error(w(169));r?(t=am(t,e,Qr),i.__reactInternalMemoizedMergedChildContext=t,G($e),G(we),H(we,t)):G($e),H($e,r)}var Bt=null,Aa=!1,bc=!1;function lm(t){Bt===null?Bt=[t]:Bt.push(t)}function F_(t){Aa=!0,lm(t)}function Ir(){if(!bc&&Bt!==null){bc=!0;var t=0,e=V;try{var r=Bt;for(V=1;t<r.length;t++){var i=r[t];do i=i(!0);while(i!==null)}Bt=null,Aa=!1}catch(n){throw Bt!==null&&(Bt=Bt.slice(t+1)),Pf(Au,Ir),n}finally{V=e,bc=!1}}return null}var Ti=[],Ii=0,ca=null,ua=0,et=[],tt=0,Jr=null,jt=1,Ht="";function Wr(t,e){Ti[Ii++]=ua,Ti[Ii++]=ca,ca=t,ua=e}function cm(t,e,r){et[tt++]=jt,et[tt++]=Ht,et[tt++]=Jr,Jr=t;var i=jt;t=Ht;var n=32-ft(i)-1;i&=~(1<<n),r+=1;var o=32-ft(e)+n;if(30<o){var s=n-n%5;o=(i&(1<<s)-1).toString(32),i>>=s,n-=s,jt=1<<32-ft(e)+n|r<<n|i,Ht=o+t}else jt=1<<o|r<<n|i,Ht=t}function Ru(t){t.return!==null&&(Wr(t,1),cm(t,1,0))}function zu(t){for(;t===ca;)ca=Ti[--Ii],Ti[Ii]=null,ua=Ti[--Ii],Ti[Ii]=null;for(;t===Jr;)Jr=et[--tt],et[tt]=null,Ht=et[--tt],et[tt]=null,jt=et[--tt],et[tt]=null}var He=null,je=null,q=!1,pt=null;function um(t,e){var r=rt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Np(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,He=t,je=_r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,He=t,je=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Jr!==null?{id:jt,overflow:Ht}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=rt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,He=t,je=null,!0):!1;default:return!1}}function tu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ru(t){if(q){var e=je;if(e){var r=e;if(!Np(t,e)){if(tu(t))throw Error(w(418));e=_r(r.nextSibling);var i=He;e&&Np(t,e)?um(i,r):(t.flags=t.flags&-4097|2,q=!1,He=t)}}else{if(tu(t))throw Error(w(418));t.flags=t.flags&-4097|2,q=!1,He=t}}}function Fp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;He=t}function zs(t){if(t!==He)return!1;if(!q)return Fp(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zc(t.type,t.memoizedProps)),e&&(e=je)){if(tu(t))throw dm(),Error(w(418));for(;e;)um(t,e),e=_r(e.nextSibling)}if(Fp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){je=_r(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}je=null}}else je=He?_r(t.stateNode.nextSibling):null;return!0}function dm(){for(var t=je;t;)t=_r(t.nextSibling)}function Vi(){je=He=null,q=!1}function Du(t){pt===null?pt=[t]:pt.push(t)}var V_=Yt.ReactCurrentBatchConfig;function Dn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(w(309));var i=r.stateNode}if(!i)throw Error(w(147,t));var n=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=n.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(w(284));if(!r._owner)throw Error(w(290,t))}return t}function Ds(t,e){throw t=Object.prototype.toString.call(e),Error(w(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vp(t){var e=t._init;return e(t._payload)}function hm(t){function e(f,p){if(t){var m=f.deletions;m===null?(f.deletions=[p],f.flags|=16):m.push(p)}}function r(f,p){if(!t)return null;for(;p!==null;)e(f,p),p=p.sibling;return null}function i(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function n(f,p){return f=Cr(f,p),f.index=0,f.sibling=null,f}function o(f,p,m){return f.index=m,t?(m=f.alternate,m!==null?(m=m.index,m<p?(f.flags|=2,p):m):(f.flags|=2,p)):(f.flags|=1048576,p)}function s(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,p,m,_){return p===null||p.tag!==6?(p=Sc(m,f.mode,_),p.return=f,p):(p=n(p,m),p.return=f,p)}function l(f,p,m,_){var k=m.type;return k===xi?u(f,p,m.props.children,_,m.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===dr&&Vp(k)===p.type)?(_=n(p,m.props),_.ref=Dn(f,p,m),_.return=f,_):(_=Zs(m.type,m.key,m.props,null,f.mode,_),_.ref=Dn(f,p,m),_.return=f,_)}function c(f,p,m,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Ac(m,f.mode,_),p.return=f,p):(p=n(p,m.children||[]),p.return=f,p)}function u(f,p,m,_,k){return p===null||p.tag!==7?(p=Zr(m,f.mode,_,k),p.return=f,p):(p=n(p,m),p.return=f,p)}function d(f,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Sc(""+p,f.mode,m),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ks:return m=Zs(p.type,p.key,p.props,null,f.mode,m),m.ref=Dn(f,null,p),m.return=f,m;case wi:return p=Ac(p,f.mode,m),p.return=f,p;case dr:var _=p._init;return d(f,_(p._payload),m)}if(jn(p)||$n(p))return p=Zr(p,f.mode,m,null),p.return=f,p;Ds(f,p)}return null}function h(f,p,m,_){var k=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:a(f,p,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ks:return m.key===k?l(f,p,m,_):null;case wi:return m.key===k?c(f,p,m,_):null;case dr:return k=m._init,h(f,p,k(m._payload),_)}if(jn(m)||$n(m))return k!==null?null:u(f,p,m,_,null);Ds(f,m)}return null}function g(f,p,m,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return f=f.get(m)||null,a(p,f,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ks:return f=f.get(_.key===null?m:_.key)||null,l(p,f,_,k);case wi:return f=f.get(_.key===null?m:_.key)||null,c(p,f,_,k);case dr:var T=_._init;return g(f,p,m,T(_._payload),k)}if(jn(_)||$n(_))return f=f.get(m)||null,u(p,f,_,k,null);Ds(p,_)}return null}function y(f,p,m,_){for(var k=null,T=null,C=p,A=p=0,N=null;C!==null&&A<m.length;A++){C.index>A?(N=C,C=null):N=C.sibling;var O=h(f,C,m[A],_);if(O===null){C===null&&(C=N);break}t&&C&&O.alternate===null&&e(f,C),p=o(O,p,A),T===null?k=O:T.sibling=O,T=O,C=N}if(A===m.length)return r(f,C),q&&Wr(f,A),k;if(C===null){for(;A<m.length;A++)C=d(f,m[A],_),C!==null&&(p=o(C,p,A),T===null?k=C:T.sibling=C,T=C);return q&&Wr(f,A),k}for(C=i(f,C);A<m.length;A++)N=g(C,f,A,m[A],_),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?A:N.key),p=o(N,p,A),T===null?k=N:T.sibling=N,T=N);return t&&C.forEach(function(ce){return e(f,ce)}),q&&Wr(f,A),k}function b(f,p,m,_){var k=$n(m);if(typeof k!="function")throw Error(w(150));if(m=k.call(m),m==null)throw Error(w(151));for(var T=k=null,C=p,A=p=0,N=null,O=m.next();C!==null&&!O.done;A++,O=m.next()){C.index>A?(N=C,C=null):N=C.sibling;var ce=h(f,C,O.value,_);if(ce===null){C===null&&(C=N);break}t&&C&&ce.alternate===null&&e(f,C),p=o(ce,p,A),T===null?k=ce:T.sibling=ce,T=ce,C=N}if(O.done)return r(f,C),q&&Wr(f,A),k;if(C===null){for(;!O.done;A++,O=m.next())O=d(f,O.value,_),O!==null&&(p=o(O,p,A),T===null?k=O:T.sibling=O,T=O);return q&&Wr(f,A),k}for(C=i(f,C);!O.done;A++,O=m.next())O=g(C,f,A,O.value,_),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?A:O.key),p=o(O,p,A),T===null?k=O:T.sibling=O,T=O);return t&&C.forEach(function(In){return e(f,In)}),q&&Wr(f,A),k}function S(f,p,m,_){if(typeof m=="object"&&m!==null&&m.type===xi&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ks:e:{for(var k=m.key,T=p;T!==null;){if(T.key===k){if(k=m.type,k===xi){if(T.tag===7){r(f,T.sibling),p=n(T,m.props.children),p.return=f,f=p;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===dr&&Vp(k)===T.type){r(f,T.sibling),p=n(T,m.props),p.ref=Dn(f,T,m),p.return=f,f=p;break e}r(f,T);break}else e(f,T);T=T.sibling}m.type===xi?(p=Zr(m.props.children,f.mode,_,m.key),p.return=f,f=p):(_=Zs(m.type,m.key,m.props,null,f.mode,_),_.ref=Dn(f,p,m),_.return=f,f=_)}return s(f);case wi:e:{for(T=m.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(f,p.sibling),p=n(p,m.children||[]),p.return=f,f=p;break e}else{r(f,p);break}else e(f,p);p=p.sibling}p=Ac(m,f.mode,_),p.return=f,f=p}return s(f);case dr:return T=m._init,S(f,p,T(m._payload),_)}if(jn(m))return y(f,p,m,_);if($n(m))return b(f,p,m,_);Ds(f,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(f,p.sibling),p=n(p,m),p.return=f,f=p):(r(f,p),p=Sc(m,f.mode,_),p.return=f,f=p),s(f)):r(f,p)}return S}var Bi=hm(!0),pm=hm(!1),da=Tr(null),ha=null,Oi=null,Nu=null;function Fu(){Nu=Oi=ha=null}function Vu(t){var e=da.current;G(da),t._currentValue=e}function iu(t,e,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===r)break;t=t.return}}function zi(t,e){ha=t,Nu=Oi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pe=!0),t.firstContext=null)}function nt(t){var e=t._currentValue;if(Nu!==t)if(t={context:t,memoizedValue:e,next:null},Oi===null){if(ha===null)throw Error(w(308));Oi=t,ha.dependencies={lanes:0,firstContext:t}}else Oi=Oi.next=t;return e}var Xr=null;function Bu(t){Xr===null?Xr=[t]:Xr.push(t)}function fm(t,e,r,i){var n=e.interleaved;return n===null?(r.next=r,Bu(e)):(r.next=n.next,n.next=r),e.interleaved=r,Xt(t,i)}function Xt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var hr=!1;function ju(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wr(t,e,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,z&2){var n=i.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),i.pending=e,Xt(t,r)}return n=i.interleaved,n===null?(e.next=e,Bu(i)):(e.next=n.next,n.next=e),i.interleaved=e,Xt(t,r)}function Ws(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,Tu(t,r)}}function Bp(t,e){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?n=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?n=o=e:o=o.next=e}else n=o=e;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pa(t,e,r,i){var n=t.updateQueue;hr=!1;var o=n.firstBaseUpdate,s=n.lastBaseUpdate,a=n.shared.pending;if(a!==null){n.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=n.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,b=a;switch(h=e,g=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){d=y.call(g,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(g,d,h):y,h==null)break e;d=J({},d,h);break e;case 2:hr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=n.effects,h===null?n.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,s|=h;if(a=a.next,a===null){if(a=n.shared.pending,a===null)break;h=a,a=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(!0);if(u===null&&(l=d),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=u,e=n.shared.interleaved,e!==null){n=e;do s|=n.lane,n=n.next;while(n!==e)}else o===null&&(n.shared.lanes=0);ti|=s,t.lanes=s,t.memoizedState=d}}function jp(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(w(191,n));n.call(i)}}}var xo={},St=Tr(xo),po=Tr(xo),fo=Tr(xo);function qr(t){if(t===xo)throw Error(w(174));return t}function Hu(t,e){switch(H(fo,e),H(po,t),H(St,xo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zc(e,t)}G(St),H(St,e)}function ji(){G(St),G(po),G(fo)}function gm(t){qr(fo.current);var e=qr(St.current),r=zc(e,t.type);e!==r&&(H(po,t),H(St,r))}function Wu(t){po.current===t&&(G(St),G(po))}var Z=Tr(0);function fa(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _c=[];function Gu(){for(var t=0;t<_c.length;t++)_c[t]._workInProgressVersionPrimary=null;_c.length=0}var Gs=Yt.ReactCurrentDispatcher,wc=Yt.ReactCurrentBatchConfig,ei=0,Q=null,se=null,ue=null,ma=!1,Zn=!1,mo=0,B_=0;function ye(){throw Error(w(321))}function Ku(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!gt(t[r],e[r]))return!1;return!0}function Xu(t,e,r,i,n,o){if(ei=o,Q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gs.current=t===null||t.memoizedState===null?G_:K_,t=r(i,n),Zn){o=0;do{if(Zn=!1,mo=0,25<=o)throw Error(w(301));o+=1,ue=se=null,e.updateQueue=null,Gs.current=X_,t=r(i,n)}while(Zn)}if(Gs.current=ga,e=se!==null&&se.next!==null,ei=0,ue=se=Q=null,ma=!1,e)throw Error(w(300));return t}function qu(){var t=mo!==0;return mo=0,t}function kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Q.memoizedState=ue=t:ue=ue.next=t,ue}function ot(){if(se===null){var t=Q.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=ue===null?Q.memoizedState:ue.next;if(e!==null)ue=e,se=t;else{if(t===null)throw Error(w(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ue===null?Q.memoizedState=ue=t:ue=ue.next=t}return ue}function go(t,e){return typeof e=="function"?e(t):e}function xc(t){var e=ot(),r=e.queue;if(r===null)throw Error(w(311));r.lastRenderedReducer=t;var i=se,n=i.baseQueue,o=r.pending;if(o!==null){if(n!==null){var s=n.next;n.next=o.next,o.next=s}i.baseQueue=n=o,r.pending=null}if(n!==null){o=n.next,i=i.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((ei&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=i):l=l.next=d,Q.lanes|=u,ti|=u}c=c.next}while(c!==null&&c!==o);l===null?s=i:l.next=a,gt(i,e.memoizedState)||(Pe=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,r.lastRenderedState=i}if(t=r.interleaved,t!==null){n=t;do o=n.lane,Q.lanes|=o,ti|=o,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function kc(t){var e=ot(),r=e.queue;if(r===null)throw Error(w(311));r.lastRenderedReducer=t;var i=r.dispatch,n=r.pending,o=e.memoizedState;if(n!==null){r.pending=null;var s=n=n.next;do o=t(o,s.action),s=s.next;while(s!==n);gt(o,e.memoizedState)||(Pe=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,i]}function vm(){}function ym(t,e){var r=Q,i=ot(),n=e(),o=!gt(i.memoizedState,n);if(o&&(i.memoizedState=n,Pe=!0),i=i.queue,Yu(wm.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,vo(9,_m.bind(null,r,i,n,e),void 0,null),de===null)throw Error(w(349));ei&30||bm(r,e,n)}return n}function bm(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function _m(t,e,r,i){e.value=r,e.getSnapshot=i,xm(e)&&km(t)}function wm(t,e,r){return r(function(){xm(e)&&km(t)})}function xm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!gt(t,r)}catch{return!0}}function km(t){var e=Xt(t,1);e!==null&&mt(e,t,1,-1)}function Hp(t){var e=kt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:t},e.queue=t,t=t.dispatch=W_.bind(null,Q,t),[e.memoizedState,t]}function vo(t,e,r,i){return t={tag:t,create:e,destroy:r,deps:i,next:null},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,e.lastEffect=t)),t}function Cm(){return ot().memoizedState}function Ks(t,e,r,i){var n=kt();Q.flags|=t,n.memoizedState=vo(1|e,r,void 0,i===void 0?null:i)}function Ta(t,e,r,i){var n=ot();i=i===void 0?null:i;var o=void 0;if(se!==null){var s=se.memoizedState;if(o=s.destroy,i!==null&&Ku(i,s.deps)){n.memoizedState=vo(e,r,o,i);return}}Q.flags|=t,n.memoizedState=vo(1|e,r,o,i)}function Wp(t,e){return Ks(8390656,8,t,e)}function Yu(t,e){return Ta(2048,8,t,e)}function Em(t,e){return Ta(4,2,t,e)}function Sm(t,e){return Ta(4,4,t,e)}function Am(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tm(t,e,r){return r=r!=null?r.concat([t]):null,Ta(4,4,Am.bind(null,e,t),r)}function Zu(){}function Im(t,e){var r=ot();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&Ku(e,i[1])?i[0]:(r.memoizedState=[t,e],t)}function Om(t,e){var r=ot();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&Ku(e,i[1])?i[0]:(t=t(),r.memoizedState=[t,e],t)}function Lm(t,e,r){return ei&21?(gt(r,e)||(r=Rf(),Q.lanes|=r,ti|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pe=!0),t.memoizedState=r)}function j_(t,e){var r=V;V=r!==0&&4>r?r:4,t(!0);var i=wc.transition;wc.transition={};try{t(!1),e()}finally{V=r,wc.transition=i}}function Mm(){return ot().memoizedState}function H_(t,e,r){var i=kr(t);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Pm(t))$m(e,r);else if(r=fm(t,e,r,i),r!==null){var n=Ee();mt(r,t,i,n),Um(r,e,i)}}function W_(t,e,r){var i=kr(t),n={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pm(t))$m(e,n);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,r);if(n.hasEagerState=!0,n.eagerState=a,gt(a,s)){var l=e.interleaved;l===null?(n.next=n,Bu(e)):(n.next=l.next,l.next=n),e.interleaved=n;return}}catch{}finally{}r=fm(t,e,n,i),r!==null&&(n=Ee(),mt(r,t,i,n),Um(r,e,i))}}function Pm(t){var e=t.alternate;return t===Q||e!==null&&e===Q}function $m(t,e){Zn=ma=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Um(t,e,r){if(r&4194240){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,Tu(t,r)}}var ga={readContext:nt,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},G_={readContext:nt,useCallback:function(t,e){return kt().memoizedState=[t,e===void 0?null:e],t},useContext:nt,useEffect:Wp,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ks(4194308,4,Am.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ks(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ks(4,2,t,e)},useMemo:function(t,e){var r=kt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var i=kt();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=H_.bind(null,Q,t),[i.memoizedState,t]},useRef:function(t){var e=kt();return t={current:t},e.memoizedState=t},useState:Hp,useDebugValue:Zu,useDeferredValue:function(t){return kt().memoizedState=t},useTransition:function(){var t=Hp(!1),e=t[0];return t=j_.bind(null,t[1]),kt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var i=Q,n=kt();if(q){if(r===void 0)throw Error(w(407));r=r()}else{if(r=e(),de===null)throw Error(w(349));ei&30||bm(i,e,r)}n.memoizedState=r;var o={value:r,getSnapshot:e};return n.queue=o,Wp(wm.bind(null,i,o,t),[t]),i.flags|=2048,vo(9,_m.bind(null,i,o,r,e),void 0,null),r},useId:function(){var t=kt(),e=de.identifierPrefix;if(q){var r=Ht,i=jt;r=(i&~(1<<32-ft(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=mo++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=B_++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},K_={readContext:nt,useCallback:Im,useContext:nt,useEffect:Yu,useImperativeHandle:Tm,useInsertionEffect:Em,useLayoutEffect:Sm,useMemo:Om,useReducer:xc,useRef:Cm,useState:function(){return xc(go)},useDebugValue:Zu,useDeferredValue:function(t){var e=ot();return Lm(e,se.memoizedState,t)},useTransition:function(){var t=xc(go)[0],e=ot().memoizedState;return[t,e]},useMutableSource:vm,useSyncExternalStore:ym,useId:Mm,unstable_isNewReconciler:!1},X_={readContext:nt,useCallback:Im,useContext:nt,useEffect:Yu,useImperativeHandle:Tm,useInsertionEffect:Em,useLayoutEffect:Sm,useMemo:Om,useReducer:kc,useRef:Cm,useState:function(){return kc(go)},useDebugValue:Zu,useDeferredValue:function(t){var e=ot();return se===null?e.memoizedState=t:Lm(e,se.memoizedState,t)},useTransition:function(){var t=kc(go)[0],e=ot().memoizedState;return[t,e]},useMutableSource:vm,useSyncExternalStore:ym,useId:Mm,unstable_isNewReconciler:!1};function dt(t,e){if(t&&t.defaultProps){e=J({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function nu(t,e,r,i){e=t.memoizedState,r=r(i,e),r=r==null?e:J({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ia={isMounted:function(t){return(t=t._reactInternals)?ni(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var i=Ee(),n=kr(t),o=Wt(i,n);o.payload=e,r!=null&&(o.callback=r),e=wr(t,o,n),e!==null&&(mt(e,t,n,i),Ws(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var i=Ee(),n=kr(t),o=Wt(i,n);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=wr(t,o,n),e!==null&&(mt(e,t,n,i),Ws(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ee(),i=kr(t),n=Wt(r,i);n.tag=2,e!=null&&(n.callback=e),e=wr(t,n,i),e!==null&&(mt(e,t,i,r),Ws(e,t,i))}};function Gp(t,e,r,i,n,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!lo(r,i)||!lo(n,o):!0}function Rm(t,e,r){var i=!1,n=Sr,o=e.contextType;return typeof o=="object"&&o!==null?o=nt(o):(n=Ue(e)?Qr:we.current,i=e.contextTypes,o=(i=i!=null)?Fi(t,n):Sr),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ia,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=o),e}function Kp(t,e,r,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==t&&Ia.enqueueReplaceState(e,e.state,null)}function ou(t,e,r,i){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs={},ju(t);var o=e.contextType;typeof o=="object"&&o!==null?n.context=nt(o):(o=Ue(e)?Qr:we.current,n.context=Fi(t,o)),n.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(nu(t,e,o,r),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&Ia.enqueueReplaceState(n,n.state,null),pa(t,r,n,i),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function Hi(t,e){try{var r="",i=e;do r+=Cb(i),i=i.return;while(i);var n=r}catch(o){n=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:n,digest:null}}function Cc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function su(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var q_=typeof WeakMap=="function"?WeakMap:Map;function zm(t,e,r){r=Wt(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){ya||(ya=!0,gu=i),su(t,e)},r}function Dm(t,e,r){r=Wt(-1,r),r.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var n=e.value;r.payload=function(){return i(n)},r.callback=function(){su(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){su(t,e),typeof i!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function Xp(t,e,r){var i=t.pingCache;if(i===null){i=t.pingCache=new q_;var n=new Set;i.set(e,n)}else n=i.get(e),n===void 0&&(n=new Set,i.set(e,n));n.has(r)||(n.add(r),t=cw.bind(null,t,e,r),e.then(t,t))}function qp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yp(t,e,r,i,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Wt(-1,1),e.tag=2,wr(r,e,1))),r.lanes|=1),t)}var Y_=Yt.ReactCurrentOwner,Pe=!1;function Ce(t,e,r,i){e.child=t===null?pm(e,null,r,i):Bi(e,t.child,r,i)}function Zp(t,e,r,i,n){r=r.render;var o=e.ref;return zi(e,n),i=Xu(t,e,r,i,o,n),r=qu(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,qt(t,e,n)):(q&&r&&Ru(e),e.flags|=1,Ce(t,e,i,n),e.child)}function Qp(t,e,r,i,n){if(t===null){var o=r.type;return typeof o=="function"&&!od(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Nm(t,e,o,i,n)):(t=Zs(r.type,null,i,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&n)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:lo,r(s,i)&&t.ref===e.ref)return qt(t,e,n)}return e.flags|=1,t=Cr(o,i),t.ref=e.ref,t.return=e,e.child=t}function Nm(t,e,r,i,n){if(t!==null){var o=t.memoizedProps;if(lo(o,i)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=i=o,(t.lanes&n)!==0)t.flags&131072&&(Pe=!0);else return e.lanes=t.lanes,qt(t,e,n)}return au(t,e,r,i,n)}function Fm(t,e,r){var i=e.pendingProps,n=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Mi,Be),Be|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,H(Mi,Be),Be|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,H(Mi,Be),Be|=i}else o!==null?(i=o.baseLanes|r,e.memoizedState=null):i=r,H(Mi,Be),Be|=i;return Ce(t,e,n,r),e.child}function Vm(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function au(t,e,r,i,n){var o=Ue(r)?Qr:we.current;return o=Fi(e,o),zi(e,n),r=Xu(t,e,r,i,o,n),i=qu(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,qt(t,e,n)):(q&&i&&Ru(e),e.flags|=1,Ce(t,e,r,n),e.child)}function Jp(t,e,r,i,n){if(Ue(r)){var o=!0;la(e)}else o=!1;if(zi(e,n),e.stateNode===null)Xs(t,e),Rm(e,r,i),ou(e,r,i,n),i=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=nt(c):(c=Ue(r)?Qr:we.current,c=Fi(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Kp(e,s,i,c),hr=!1;var h=e.memoizedState;s.state=h,pa(e,i,s,n),l=e.memoizedState,a!==i||h!==l||$e.current||hr?(typeof u=="function"&&(nu(e,r,u,i),l=e.memoizedState),(a=hr||Gp(e,r,a,i,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,mm(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:dt(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=nt(l):(l=Ue(r)?Qr:we.current,l=Fi(e,l));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Kp(e,s,i,l),hr=!1,h=e.memoizedState,s.state=h,pa(e,i,s,n);var y=e.memoizedState;a!==d||h!==y||$e.current||hr?(typeof g=="function"&&(nu(e,r,g,i),y=e.memoizedState),(c=hr||Gp(e,r,c,i,h,y,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=l,i=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return lu(t,e,r,i,o,n)}function lu(t,e,r,i,n,o){Vm(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return n&&Dp(e,r,!1),qt(t,e,o);i=e.stateNode,Y_.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=Bi(e,t.child,null,o),e.child=Bi(e,null,a,o)):Ce(t,e,a,o),e.memoizedState=i.state,n&&Dp(e,r,!0),e.child}function Bm(t){var e=t.stateNode;e.pendingContext?zp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zp(t,e.context,!1),Hu(t,e.containerInfo)}function ef(t,e,r,i,n){return Vi(),Du(n),e.flags|=256,Ce(t,e,r,i),e.child}var cu={dehydrated:null,treeContext:null,retryLane:0};function uu(t){return{baseLanes:t,cachePool:null,transitions:null}}function jm(t,e,r){var i=e.pendingProps,n=Z.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(n&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),H(Z,n&1),t===null)return ru(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,t=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ma(s,i,0,null),t=Zr(t,i,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=uu(r),e.memoizedState=cu,t):Qu(e,s));if(n=t.memoizedState,n!==null&&(a=n.dehydrated,a!==null))return Z_(t,e,s,i,a,n,r);if(o){o=i.fallback,s=e.mode,n=t.child,a=n.sibling;var l={mode:"hidden",children:i.children};return!(s&1)&&e.child!==n?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Cr(n,l),i.subtreeFlags=n.subtreeFlags&14680064),a!==null?o=Cr(a,o):(o=Zr(o,s,r,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=t.child.memoizedState,s=s===null?uu(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~r,e.memoizedState=cu,i}return o=t.child,t=o.sibling,i=Cr(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=i,e.memoizedState=null,i}function Qu(t,e){return e=Ma({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ns(t,e,r,i){return i!==null&&Du(i),Bi(e,t.child,null,r),t=Qu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Z_(t,e,r,i,n,o,s){if(r)return e.flags&256?(e.flags&=-257,i=Cc(Error(w(422))),Ns(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,n=e.mode,i=Ma({mode:"visible",children:i.children},n,0,null),o=Zr(o,n,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Bi(e,t.child,null,s),e.child.memoizedState=uu(s),e.memoizedState=cu,o);if(!(e.mode&1))return Ns(t,e,s,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var a=i.dgst;return i=a,o=Error(w(419)),i=Cc(o,i,void 0),Ns(t,e,s,i)}if(a=(s&t.childLanes)!==0,Pe||a){if(i=de,i!==null){switch(s&-s){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|s)?0:n,n!==0&&n!==o.retryLane&&(o.retryLane=n,Xt(t,n),mt(i,t,n,-1))}return nd(),i=Cc(Error(w(421))),Ns(t,e,s,i)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=uw.bind(null,t),n._reactRetry=e,null):(t=o.treeContext,je=_r(n.nextSibling),He=e,q=!0,pt=null,t!==null&&(et[tt++]=jt,et[tt++]=Ht,et[tt++]=Jr,jt=t.id,Ht=t.overflow,Jr=e),e=Qu(e,i.children),e.flags|=4096,e)}function tf(t,e,r){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),iu(t.return,e,r)}function Ec(t,e,r,i,n){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=n)}function Hm(t,e,r){var i=e.pendingProps,n=i.revealOrder,o=i.tail;if(Ce(t,e,i.children,r),i=Z.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tf(t,r,e);else if(t.tag===19)tf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(H(Z,i),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(r=e.child,n=null;r!==null;)t=r.alternate,t!==null&&fa(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=e.child,e.child=null):(n=r.sibling,r.sibling=null),Ec(e,!1,n,r,o);break;case"backwards":for(r=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&fa(t)===null){e.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}Ec(e,!0,r,null,o);break;case"together":Ec(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ti|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(w(153));if(e.child!==null){for(t=e.child,r=Cr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Cr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Q_(t,e,r){switch(e.tag){case 3:Bm(e),Vi();break;case 5:gm(e);break;case 1:Ue(e.type)&&la(e);break;case 4:Hu(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,n=e.memoizedProps.value;H(da,i._currentValue),i._currentValue=n;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(H(Z,Z.current&1),e.flags|=128,null):r&e.child.childLanes?jm(t,e,r):(H(Z,Z.current&1),t=qt(t,e,r),t!==null?t.sibling:null);H(Z,Z.current&1);break;case 19:if(i=(r&e.childLanes)!==0,t.flags&128){if(i)return Hm(t,e,r);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),H(Z,Z.current),i)break;return null;case 22:case 23:return e.lanes=0,Fm(t,e,r)}return qt(t,e,r)}var Wm,du,Gm,Km;Wm=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};du=function(){};Gm=function(t,e,r,i){var n=t.memoizedProps;if(n!==i){t=e.stateNode,qr(St.current);var o=null;switch(r){case"input":n=Pc(t,n),i=Pc(t,i),o=[];break;case"select":n=J({},n,{value:void 0}),i=J({},i,{value:void 0}),o=[];break;case"textarea":n=Rc(t,n),i=Rc(t,i),o=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=sa)}Dc(r,i);var s;r=null;for(c in n)if(!i.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var a=n[c];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(to.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var l=i[c];if(a=n?.[c],i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(to.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&W("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Km=function(t,e,r,i){r!==i&&(e.flags|=4)};function Nn(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(e)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=i,t.childLanes=r,e}function J_(t,e,r){var i=e.pendingProps;switch(zu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return Ue(e.type)&&aa(),be(e),null;case 3:return i=e.stateNode,ji(),G($e),G(we),Gu(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(zs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pt!==null&&(bu(pt),pt=null))),du(t,e),be(e),null;case 5:Wu(e);var n=qr(fo.current);if(r=e.type,t!==null&&e.stateNode!=null)Gm(t,e,r,i,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(w(166));return be(e),null}if(t=qr(St.current),zs(e)){i=e.stateNode,r=e.type;var o=e.memoizedProps;switch(i[Ct]=e,i[ho]=o,t=(e.mode&1)!==0,r){case"dialog":W("cancel",i),W("close",i);break;case"iframe":case"object":case"embed":W("load",i);break;case"video":case"audio":for(n=0;n<Wn.length;n++)W(Wn[n],i);break;case"source":W("error",i);break;case"img":case"image":case"link":W("error",i),W("load",i);break;case"details":W("toggle",i);break;case"input":cp(i,o),W("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},W("invalid",i);break;case"textarea":dp(i,o),W("invalid",i)}Dc(r,o),n=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?i.textContent!==a&&(o.suppressHydrationWarning!==!0&&Rs(i.textContent,a,t),n=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Rs(i.textContent,a,t),n=["children",""+a]):to.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&W("scroll",i)}switch(r){case"input":Cs(i),up(i,o,!0);break;case"textarea":Cs(i),hp(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=sa)}i=n,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wf(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(r,{is:i.is}):(t=s.createElement(r),r==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,r),t[Ct]=e,t[ho]=i,Wm(t,e,!1,!1),e.stateNode=t;e:{switch(s=Nc(r,i),r){case"dialog":W("cancel",t),W("close",t),n=i;break;case"iframe":case"object":case"embed":W("load",t),n=i;break;case"video":case"audio":for(n=0;n<Wn.length;n++)W(Wn[n],t);n=i;break;case"source":W("error",t),n=i;break;case"img":case"image":case"link":W("error",t),W("load",t),n=i;break;case"details":W("toggle",t),n=i;break;case"input":cp(t,i),n=Pc(t,i),W("invalid",t);break;case"option":n=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},n=J({},i,{value:void 0}),W("invalid",t);break;case"textarea":dp(t,i),n=Rc(t,i),W("invalid",t);break;default:n=i}Dc(r,n),a=n;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Cf(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xf(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ro(t,l):typeof l=="number"&&ro(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(to.hasOwnProperty(o)?l!=null&&o==="onScroll"&&W("scroll",t):l!=null&&xu(t,o,l,s))}switch(r){case"input":Cs(t),up(t,i,!1);break;case"textarea":Cs(t),hp(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Er(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Pi(t,!!i.multiple,o,!1):i.defaultValue!=null&&Pi(t,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=sa)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)Km(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(w(166));if(r=qr(fo.current),qr(St.current),zs(e)){if(i=e.stateNode,r=e.memoizedProps,i[Ct]=e,(o=i.nodeValue!==r)&&(t=He,t!==null))switch(t.tag){case 3:Rs(i.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rs(i.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Ct]=e,e.stateNode=i}return be(e),null;case 13:if(G(Z),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&je!==null&&e.mode&1&&!(e.flags&128))dm(),Vi(),e.flags|=98560,o=!1;else if(o=zs(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(w(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(w(317));o[Ct]=e}else Vi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),o=!1}else pt!==null&&(bu(pt),pt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?ae===0&&(ae=3):nd())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return ji(),du(t,e),t===null&&co(e.stateNode.containerInfo),be(e),null;case 10:return Vu(e.type._context),be(e),null;case 17:return Ue(e.type)&&aa(),be(e),null;case 19:if(G(Z),o=e.memoizedState,o===null)return be(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)Nn(o,!1);else{if(ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=fa(t),s!==null){for(e.flags|=128,Nn(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)o=r,t=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return H(Z,Z.current&1|2),e.child}t=t.sibling}o.tail!==null&&ie()>Wi&&(e.flags|=128,i=!0,Nn(o,!1),e.lanes=4194304)}else{if(!i)if(t=fa(s),t!==null){if(e.flags|=128,i=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Nn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!q)return be(e),null}else 2*ie()-o.renderingStartTime>Wi&&r!==1073741824&&(e.flags|=128,i=!0,Nn(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(r=o.last,r!==null?r.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ie(),e.sibling=null,r=Z.current,H(Z,i?r&1|2:r&1),e):(be(e),null);case 22:case 23:return id(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Be&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(w(156,e.tag))}function ew(t,e){switch(zu(e),e.tag){case 1:return Ue(e.type)&&aa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ji(),G($e),G(we),Gu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wu(e),null;case 13:if(G(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(w(340));Vi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(Z),null;case 4:return ji(),null;case 10:return Vu(e.type._context),null;case 22:case 23:return id(),null;case 24:return null;default:return null}}var Fs=!1,_e=!1,tw=typeof WeakSet=="function"?WeakSet:Set,E=null;function Li(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){re(t,e,i)}else r.current=null}function hu(t,e,r){try{r()}catch(i){re(t,e,i)}}var rf=!1;function rw(t,e){if(qc=ia,t=Qf(),Uu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var n=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var g;d!==r||n!==0&&d.nodeType!==3||(a=s+n),d!==o||i!==0&&d.nodeType!==3||(l=s+i),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===r&&++c===n&&(a=s),h===o&&++u===i&&(l=s),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yc={focusedElem:t,selectionRange:r},ia=!1,E=e;E!==null;)if(e=E,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,E=t;else for(;E!==null;){e=E;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,S=y.memoizedState,f=e.stateNode,p=f.getSnapshotBeforeUpdate(e.elementType===e.type?b:dt(e.type,b),S);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(_){re(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,E=t;break}E=e.return}return y=rf,rf=!1,y}function Qn(t,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&t)===t){var o=n.destroy;n.destroy=void 0,o!==void 0&&hu(e,r,o)}n=n.next}while(n!==i)}}function Oa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function pu(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Xm(t){var e=t.alternate;e!==null&&(t.alternate=null,Xm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ct],delete e[ho],delete e[Jc],delete e[D_],delete e[N_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qm(t){return t.tag===5||t.tag===3||t.tag===4}function nf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fu(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=sa));else if(i!==4&&(t=t.child,t!==null))for(fu(t,e,r),t=t.sibling;t!==null;)fu(t,e,r),t=t.sibling}function mu(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(mu(t,e,r),t=t.sibling;t!==null;)mu(t,e,r),t=t.sibling}var he=null,ht=!1;function ur(t,e,r){for(r=r.child;r!==null;)Ym(t,e,r),r=r.sibling}function Ym(t,e,r){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(xa,r)}catch{}switch(r.tag){case 5:_e||Li(r,e);case 6:var i=he,n=ht;he=null,ur(t,e,r),he=i,ht=n,he!==null&&(ht?(t=he,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(ht?(t=he,r=r.stateNode,t.nodeType===8?yc(t.parentNode,r):t.nodeType===1&&yc(t,r),so(t)):yc(he,r.stateNode));break;case 4:i=he,n=ht,he=r.stateNode.containerInfo,ht=!0,ur(t,e,r),he=i,ht=n;break;case 0:case 11:case 14:case 15:if(!_e&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var o=n,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&hu(r,e,s),n=n.next}while(n!==i)}ur(t,e,r);break;case 1:if(!_e&&(Li(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(a){re(r,e,a)}ur(t,e,r);break;case 21:ur(t,e,r);break;case 22:r.mode&1?(_e=(i=_e)||r.memoizedState!==null,ur(t,e,r),_e=i):ur(t,e,r);break;default:ur(t,e,r)}}function of(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new tw),e.forEach(function(i){var n=dw.bind(null,t,i);r.has(i)||(r.add(i),i.then(n,n))})}}function ut(t,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var n=r[i];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,ht=!1;break e;case 3:he=a.stateNode.containerInfo,ht=!0;break e;case 4:he=a.stateNode.containerInfo,ht=!0;break e}a=a.return}if(he===null)throw Error(w(160));Ym(o,s,n),he=null,ht=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(c){re(n,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Zm(e,t),e=e.sibling}function Zm(t,e){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ut(e,t),xt(t),i&4){try{Qn(3,t,t.return),Oa(3,t)}catch(b){re(t,t.return,b)}try{Qn(5,t,t.return)}catch(b){re(t,t.return,b)}}break;case 1:ut(e,t),xt(t),i&512&&r!==null&&Li(r,r.return);break;case 5:if(ut(e,t),xt(t),i&512&&r!==null&&Li(r,r.return),t.flags&32){var n=t.stateNode;try{ro(n,"")}catch(b){re(t,t.return,b)}}if(i&4&&(n=t.stateNode,n!=null)){var o=t.memoizedProps,s=r!==null?r.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&bf(n,o),Nc(a,s);var c=Nc(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?Cf(n,d):u==="dangerouslySetInnerHTML"?xf(n,d):u==="children"?ro(n,d):xu(n,u,d,c)}switch(a){case"input":$c(n,o);break;case"textarea":_f(n,o);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Pi(n,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Pi(n,!!o.multiple,o.defaultValue,!0):Pi(n,!!o.multiple,o.multiple?[]:"",!1))}n[ho]=o}catch(b){re(t,t.return,b)}}break;case 6:if(ut(e,t),xt(t),i&4){if(t.stateNode===null)throw Error(w(162));n=t.stateNode,o=t.memoizedProps;try{n.nodeValue=o}catch(b){re(t,t.return,b)}}break;case 3:if(ut(e,t),xt(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{so(e.containerInfo)}catch(b){re(t,t.return,b)}break;case 4:ut(e,t),xt(t);break;case 13:ut(e,t),xt(t),n=t.child,n.flags&8192&&(o=n.memoizedState!==null,n.stateNode.isHidden=o,!o||n.alternate!==null&&n.alternate.memoizedState!==null||(td=ie())),i&4&&of(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(_e=(c=_e)||u,ut(e,t),_e=c):ut(e,t),xt(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(E=t,u=t.child;u!==null;){for(d=E=u;E!==null;){switch(h=E,g=h.child,h.tag){case 0:case 11:case 14:case 15:Qn(4,h,h.return);break;case 1:Li(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){i=h,r=h.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){re(i,r,b)}}break;case 5:Li(h,h.return);break;case 22:if(h.memoizedState!==null){af(d);continue}}g!==null?(g.return=h,E=g):af(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{n=d.stateNode,c?(o=n.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kf("display",s))}catch(b){re(t,t.return,b)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(b){re(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ut(e,t),xt(t),i&4&&of(t);break;case 21:break;default:ut(e,t),xt(t)}}function xt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(qm(r)){var i=r;break e}r=r.return}throw Error(w(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(ro(n,""),i.flags&=-33);var o=nf(t);mu(t,o,n);break;case 3:case 4:var s=i.stateNode.containerInfo,a=nf(t);fu(t,a,s);break;default:throw Error(w(161))}}catch(l){re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iw(t,e,r){E=t,Qm(t,e,r)}function Qm(t,e,r){for(var i=(t.mode&1)!==0;E!==null;){var n=E,o=n.child;if(n.tag===22&&i){var s=n.memoizedState!==null||Fs;if(!s){var a=n.alternate,l=a!==null&&a.memoizedState!==null||_e;a=Fs;var c=_e;if(Fs=s,(_e=l)&&!c)for(E=n;E!==null;)s=E,l=s.child,s.tag===22&&s.memoizedState!==null?lf(n):l!==null?(l.return=s,E=l):lf(n);for(;o!==null;)E=o,Qm(o,e,r),o=o.sibling;E=n,Fs=a,_e=c}sf(t,e,r)}else n.subtreeFlags&8772&&o!==null?(o.return=n,E=o):sf(t,e,r)}}function sf(t){for(;E!==null;){var e=E;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_e||Oa(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!_e)if(r===null)i.componentDidMount();else{var n=e.elementType===e.type?r.memoizedProps:dt(e.type,r.memoizedProps);i.componentDidUpdate(n,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&jp(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}jp(e,s,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&so(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}_e||e.flags&512&&pu(e)}catch(h){re(e,e.return,h)}}if(e===t){E=null;break}if(r=e.sibling,r!==null){r.return=e.return,E=r;break}E=e.return}}function af(t){for(;E!==null;){var e=E;if(e===t){E=null;break}var r=e.sibling;if(r!==null){r.return=e.return,E=r;break}E=e.return}}function lf(t){for(;E!==null;){var e=E;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Oa(4,e)}catch(l){re(e,r,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var n=e.return;try{i.componentDidMount()}catch(l){re(e,n,l)}}var o=e.return;try{pu(e)}catch(l){re(e,o,l)}break;case 5:var s=e.return;try{pu(e)}catch(l){re(e,s,l)}}}catch(l){re(e,e.return,l)}if(e===t){E=null;break}var a=e.sibling;if(a!==null){a.return=e.return,E=a;break}E=e.return}}var nw=Math.ceil,va=Yt.ReactCurrentDispatcher,Ju=Yt.ReactCurrentOwner,it=Yt.ReactCurrentBatchConfig,z=0,de=null,ne=null,pe=0,Be=0,Mi=Tr(0),ae=0,yo=null,ti=0,La=0,ed=0,Jn=null,Me=null,td=0,Wi=1/0,Vt=null,ya=!1,gu=null,xr=null,Vs=!1,gr=null,ba=0,eo=0,vu=null,qs=-1,Ys=0;function Ee(){return z&6?ie():qs!==-1?qs:qs=ie()}function kr(t){return t.mode&1?z&2&&pe!==0?pe&-pe:V_.transition!==null?(Ys===0&&(Ys=Rf()),Ys):(t=V,t!==0||(t=window.event,t=t===void 0?16:jf(t.type)),t):1}function mt(t,e,r,i){if(50<eo)throw eo=0,vu=null,Error(w(185));bo(t,r,i),(!(z&2)||t!==de)&&(t===de&&(!(z&2)&&(La|=r),ae===4&&fr(t,pe)),Re(t,i),r===1&&z===0&&!(e.mode&1)&&(Wi=ie()+500,Aa&&Ir()))}function Re(t,e){var r=t.callbackNode;jb(t,e);var i=ra(t,t===de?pe:0);if(i===0)r!==null&&mp(r),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(r!=null&&mp(r),e===1)t.tag===0?F_(cf.bind(null,t)):lm(cf.bind(null,t)),R_(function(){!(z&6)&&Ir()}),r=null;else{switch(zf(i)){case 1:r=Au;break;case 4:r=$f;break;case 16:r=ta;break;case 536870912:r=Uf;break;default:r=ta}r=sg(r,Jm.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Jm(t,e){if(qs=-1,Ys=0,z&6)throw Error(w(327));var r=t.callbackNode;if(Di()&&t.callbackNode!==r)return null;var i=ra(t,t===de?pe:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=_a(t,i);else{e=i;var n=z;z|=2;var o=tg();(de!==t||pe!==e)&&(Vt=null,Wi=ie()+500,Yr(t,e));do try{aw();break}catch(a){eg(t,a)}while(!0);Fu(),va.current=o,z=n,ne!==null?e=0:(de=null,pe=0,e=ae)}if(e!==0){if(e===2&&(n=Hc(t),n!==0&&(i=n,e=yu(t,n))),e===1)throw r=yo,Yr(t,0),fr(t,i),Re(t,ie()),r;if(e===6)fr(t,i);else{if(n=t.current.alternate,!(i&30)&&!ow(n)&&(e=_a(t,i),e===2&&(o=Hc(t),o!==0&&(i=o,e=yu(t,o))),e===1))throw r=yo,Yr(t,0),fr(t,i),Re(t,ie()),r;switch(t.finishedWork=n,t.finishedLanes=i,e){case 0:case 1:throw Error(w(345));case 2:Gr(t,Me,Vt);break;case 3:if(fr(t,i),(i&130023424)===i&&(e=td+500-ie(),10<e)){if(ra(t,0)!==0)break;if(n=t.suspendedLanes,(n&i)!==i){Ee(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=Qc(Gr.bind(null,t,Me,Vt),e);break}Gr(t,Me,Vt);break;case 4:if(fr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,n=-1;0<i;){var s=31-ft(i);o=1<<s,s=e[s],s>n&&(n=s),i&=~o}if(i=n,i=ie()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*nw(i/1960))-i,10<i){t.timeoutHandle=Qc(Gr.bind(null,t,Me,Vt),i);break}Gr(t,Me,Vt);break;case 5:Gr(t,Me,Vt);break;default:throw Error(w(329))}}}return Re(t,ie()),t.callbackNode===r?Jm.bind(null,t):null}function yu(t,e){var r=Jn;return t.current.memoizedState.isDehydrated&&(Yr(t,e).flags|=256),t=_a(t,e),t!==2&&(e=Me,Me=r,e!==null&&bu(e)),t}function bu(t){Me===null?Me=t:Me.push.apply(Me,t)}function ow(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var n=r[i],o=n.getSnapshot;n=n.value;try{if(!gt(o(),n))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fr(t,e){for(e&=~ed,e&=~La,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ft(e),i=1<<r;t[r]=-1,e&=~i}}function cf(t){if(z&6)throw Error(w(327));Di();var e=ra(t,0);if(!(e&1))return Re(t,ie()),null;var r=_a(t,e);if(t.tag!==0&&r===2){var i=Hc(t);i!==0&&(e=i,r=yu(t,i))}if(r===1)throw r=yo,Yr(t,0),fr(t,e),Re(t,ie()),r;if(r===6)throw Error(w(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gr(t,Me,Vt),Re(t,ie()),null}function rd(t,e){var r=z;z|=1;try{return t(e)}finally{z=r,z===0&&(Wi=ie()+500,Aa&&Ir())}}function ri(t){gr!==null&&gr.tag===0&&!(z&6)&&Di();var e=z;z|=1;var r=it.transition,i=V;try{if(it.transition=null,V=1,t)return t()}finally{V=i,it.transition=r,z=e,!(z&6)&&Ir()}}function id(){Be=Mi.current,G(Mi)}function Yr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,U_(r)),ne!==null)for(r=ne.return;r!==null;){var i=r;switch(zu(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&aa();break;case 3:ji(),G($e),G(we),Gu();break;case 5:Wu(i);break;case 4:ji();break;case 13:G(Z);break;case 19:G(Z);break;case 10:Vu(i.type._context);break;case 22:case 23:id()}r=r.return}if(de=t,ne=t=Cr(t.current,null),pe=Be=e,ae=0,yo=null,ed=La=ti=0,Me=Jn=null,Xr!==null){for(e=0;e<Xr.length;e++)if(r=Xr[e],i=r.interleaved,i!==null){r.interleaved=null;var n=i.next,o=r.pending;if(o!==null){var s=o.next;o.next=n,i.next=s}r.pending=i}Xr=null}return t}function eg(t,e){do{var r=ne;try{if(Fu(),Gs.current=ga,ma){for(var i=Q.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}ma=!1}if(ei=0,ue=se=Q=null,Zn=!1,mo=0,Ju.current=null,r===null||r.return===null){ae=1,yo=e,ne=null;break}e:{var o=t,s=r.return,a=r,l=e;if(e=pe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=qp(s);if(g!==null){g.flags&=-257,Yp(g,s,a,o,e),g.mode&1&&Xp(o,c,e),e=g,l=c;var y=e.updateQueue;if(y===null){var b=new Set;b.add(l),e.updateQueue=b}else y.add(l);break e}else{if(!(e&1)){Xp(o,c,e),nd();break e}l=Error(w(426))}}else if(q&&a.mode&1){var S=qp(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Yp(S,s,a,o,e),Du(Hi(l,a));break e}}o=l=Hi(l,a),ae!==4&&(ae=2),Jn===null?Jn=[o]:Jn.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var f=zm(o,l,e);Bp(o,f);break e;case 1:a=l;var p=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(xr===null||!xr.has(m)))){o.flags|=65536,e&=-e,o.lanes|=e;var _=Dm(o,a,e);Bp(o,_);break e}}o=o.return}while(o!==null)}ig(r)}catch(k){e=k,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function tg(){var t=va.current;return va.current=ga,t===null?ga:t}function nd(){(ae===0||ae===3||ae===2)&&(ae=4),de===null||!(ti&268435455)&&!(La&268435455)||fr(de,pe)}function _a(t,e){var r=z;z|=2;var i=tg();(de!==t||pe!==e)&&(Vt=null,Yr(t,e));do try{sw();break}catch(n){eg(t,n)}while(!0);if(Fu(),z=r,va.current=i,ne!==null)throw Error(w(261));return de=null,pe=0,ae}function sw(){for(;ne!==null;)rg(ne)}function aw(){for(;ne!==null&&!$b();)rg(ne)}function rg(t){var e=og(t.alternate,t,Be);t.memoizedProps=t.pendingProps,e===null?ig(t):ne=e,Ju.current=null}function ig(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ew(r,e),r!==null){r.flags&=32767,ne=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ae=6,ne=null;return}}else if(r=J_(r,e,Be),r!==null){ne=r;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);ae===0&&(ae=5)}function Gr(t,e,r){var i=V,n=it.transition;try{it.transition=null,V=1,lw(t,e,r,i)}finally{it.transition=n,V=i}return null}function lw(t,e,r,i){do Di();while(gr!==null);if(z&6)throw Error(w(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(w(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(Hb(t,o),t===de&&(ne=de=null,pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vs||(Vs=!0,sg(ta,function(){return Di(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=it.transition,it.transition=null;var s=V;V=1;var a=z;z|=4,Ju.current=null,rw(t,r),Zm(r,t),O_(Yc),ia=!!qc,Yc=qc=null,t.current=r,iw(r,t,n),Ub(),z=a,V=s,it.transition=o}else t.current=r;if(Vs&&(Vs=!1,gr=t,ba=n),o=t.pendingLanes,o===0&&(xr=null),Db(r.stateNode,i),Re(t,ie()),e!==null)for(i=t.onRecoverableError,r=0;r<e.length;r++)n=e[r],i(n.value,{componentStack:n.stack,digest:n.digest});if(ya)throw ya=!1,t=gu,gu=null,t;return ba&1&&t.tag!==0&&Di(),o=t.pendingLanes,o&1?t===vu?eo++:(eo=0,vu=t):eo=0,Ir(),null}function Di(){if(gr!==null){var t=zf(ba),e=it.transition,r=V;try{if(it.transition=null,V=16>t?16:t,gr===null)var i=!1;else{if(t=gr,gr=null,ba=0,z&6)throw Error(w(331));var n=z;for(z|=4,E=t.current;E!==null;){var o=E,s=o.child;if(E.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(E=c;E!==null;){var u=E;switch(u.tag){case 0:case 11:case 15:Qn(8,u,o)}var d=u.child;if(d!==null)d.return=u,E=d;else for(;E!==null;){u=E;var h=u.sibling,g=u.return;if(Xm(u),u===c){E=null;break}if(h!==null){h.return=g,E=h;break}E=g}}}var y=o.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}E=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,E=s;else e:for(;E!==null;){if(o=E,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Qn(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,E=f;break e}E=o.return}}var p=t.current;for(E=p;E!==null;){s=E;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,E=m;else e:for(s=p;E!==null;){if(a=E,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oa(9,a)}}catch(k){re(a,a.return,k)}if(a===s){E=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,E=_;break e}E=a.return}}if(z=n,Ir(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(xa,t)}catch{}i=!0}return i}finally{V=r,it.transition=e}}return!1}function uf(t,e,r){e=Hi(r,e),e=zm(t,e,1),t=wr(t,e,1),e=Ee(),t!==null&&(bo(t,1,e),Re(t,e))}function re(t,e,r){if(t.tag===3)uf(t,t,r);else for(;e!==null;){if(e.tag===3){uf(e,t,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(xr===null||!xr.has(i))){t=Hi(r,t),t=Dm(e,t,1),e=wr(e,t,1),t=Ee(),e!==null&&(bo(e,1,t),Re(e,t));break}}e=e.return}}function cw(t,e,r){var i=t.pingCache;i!==null&&i.delete(e),e=Ee(),t.pingedLanes|=t.suspendedLanes&r,de===t&&(pe&r)===r&&(ae===4||ae===3&&(pe&130023424)===pe&&500>ie()-td?Yr(t,0):ed|=r),Re(t,e)}function ng(t,e){e===0&&(t.mode&1?(e=As,As<<=1,!(As&130023424)&&(As=4194304)):e=1);var r=Ee();t=Xt(t,e),t!==null&&(bo(t,e,r),Re(t,r))}function uw(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ng(t,r)}function dw(t,e){var r=0;switch(t.tag){case 13:var i=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(w(314))}i!==null&&i.delete(e),ng(t,r)}var og;og=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||$e.current)Pe=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Pe=!1,Q_(t,e,r);Pe=!!(t.flags&131072)}else Pe=!1,q&&e.flags&1048576&&cm(e,ua,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Xs(t,e),t=e.pendingProps;var n=Fi(e,we.current);zi(e,r),n=Xu(null,e,i,t,n,r);var o=qu();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ue(i)?(o=!0,la(e)):o=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,ju(e),n.updater=Ia,e.stateNode=n,n._reactInternals=e,ou(e,i,t,r),e=lu(null,e,i,!0,o,r)):(e.tag=0,q&&o&&Ru(e),Ce(null,e,n,r),e=e.child),e;case 16:i=e.elementType;e:{switch(Xs(t,e),t=e.pendingProps,n=i._init,i=n(i._payload),e.type=i,n=e.tag=pw(i),t=dt(i,t),n){case 0:e=au(null,e,i,t,r);break e;case 1:e=Jp(null,e,i,t,r);break e;case 11:e=Zp(null,e,i,t,r);break e;case 14:e=Qp(null,e,i,dt(i.type,t),r);break e}throw Error(w(306,i,""))}return e;case 0:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:dt(i,n),au(t,e,i,n,r);case 1:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:dt(i,n),Jp(t,e,i,n,r);case 3:e:{if(Bm(e),t===null)throw Error(w(387));i=e.pendingProps,o=e.memoizedState,n=o.element,mm(t,e),pa(e,i,null,r);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){n=Hi(Error(w(423)),e),e=ef(t,e,i,r,n);break e}else if(i!==n){n=Hi(Error(w(424)),e),e=ef(t,e,i,r,n);break e}else for(je=_r(e.stateNode.containerInfo.firstChild),He=e,q=!0,pt=null,r=pm(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vi(),i===n){e=qt(t,e,r);break e}Ce(t,e,i,r)}e=e.child}return e;case 5:return gm(e),t===null&&ru(e),i=e.type,n=e.pendingProps,o=t!==null?t.memoizedProps:null,s=n.children,Zc(i,n)?s=null:o!==null&&Zc(i,o)&&(e.flags|=32),Vm(t,e),Ce(t,e,s,r),e.child;case 6:return t===null&&ru(e),null;case 13:return jm(t,e,r);case 4:return Hu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Bi(e,null,i,r):Ce(t,e,i,r),e.child;case 11:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:dt(i,n),Zp(t,e,i,n,r);case 7:return Ce(t,e,e.pendingProps,r),e.child;case 8:return Ce(t,e,e.pendingProps.children,r),e.child;case 12:return Ce(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,n=e.pendingProps,o=e.memoizedProps,s=n.value,H(da,i._currentValue),i._currentValue=s,o!==null)if(gt(o.value,s)){if(o.children===n.children&&!$e.current){e=qt(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(o.tag===1){l=Wt(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),iu(o.return,r,e),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(w(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),iu(s,r,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ce(t,e,n.children,r),e=e.child}return e;case 9:return n=e.type,i=e.pendingProps.children,zi(e,r),n=nt(n),i=i(n),e.flags|=1,Ce(t,e,i,r),e.child;case 14:return i=e.type,n=dt(i,e.pendingProps),n=dt(i.type,n),Qp(t,e,i,n,r);case 15:return Nm(t,e,e.type,e.pendingProps,r);case 17:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:dt(i,n),Xs(t,e),e.tag=1,Ue(i)?(t=!0,la(e)):t=!1,zi(e,r),Rm(e,i,n),ou(e,i,n,r),lu(null,e,i,!0,t,r);case 19:return Hm(t,e,r);case 22:return Fm(t,e,r)}throw Error(w(156,e.tag))};function sg(t,e){return Pf(t,e)}function hw(t,e,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(t,e,r,i){return new hw(t,e,r,i)}function od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pw(t){if(typeof t=="function")return od(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cu)return 11;if(t===Eu)return 14}return 2}function Cr(t,e){var r=t.alternate;return r===null?(r=rt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Zs(t,e,r,i,n,o){var s=2;if(i=t,typeof t=="function")od(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case xi:return Zr(r.children,n,o,e);case ku:s=8,n|=8;break;case Ic:return t=rt(12,r,e,n|2),t.elementType=Ic,t.lanes=o,t;case Oc:return t=rt(13,r,e,n),t.elementType=Oc,t.lanes=o,t;case Lc:return t=rt(19,r,e,n),t.elementType=Lc,t.lanes=o,t;case gf:return Ma(r,n,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ff:s=10;break e;case mf:s=9;break e;case Cu:s=11;break e;case Eu:s=14;break e;case dr:s=16,i=null;break e}throw Error(w(130,t==null?t:typeof t,""))}return e=rt(s,r,e,n),e.elementType=t,e.type=i,e.lanes=o,e}function Zr(t,e,r,i){return t=rt(7,t,i,e),t.lanes=r,t}function Ma(t,e,r,i){return t=rt(22,t,i,e),t.elementType=gf,t.lanes=r,t.stateNode={isHidden:!1},t}function Sc(t,e,r){return t=rt(6,t,null,e),t.lanes=r,t}function Ac(t,e,r){return e=rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fw(t,e,r,i,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uc(0),this.expirationTimes=uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function sd(t,e,r,i,n,o,s,a,l){return t=new fw(t,e,r,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=rt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ju(o),t}function mw(t,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wi,key:i==null?null:""+i,children:t,containerInfo:e,implementation:r}}function ag(t){if(!t)return Sr;t=t._reactInternals;e:{if(ni(t)!==t||t.tag!==1)throw Error(w(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ue(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(w(171))}if(t.tag===1){var r=t.type;if(Ue(r))return am(t,r,e)}return e}function lg(t,e,r,i,n,o,s,a,l){return t=sd(r,i,!0,t,n,o,s,a,l),t.context=ag(null),r=t.current,i=Ee(),n=kr(r),o=Wt(i,n),o.callback=e??null,wr(r,o,n),t.current.lanes=n,bo(t,n,i),Re(t,i),t}function Pa(t,e,r,i){var n=e.current,o=Ee(),s=kr(n);return r=ag(r),e.context===null?e.context=r:e.pendingContext=r,e=Wt(o,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=wr(n,e,s),t!==null&&(mt(t,n,s,o),Ws(t,n,s)),s}function wa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function df(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ad(t,e){df(t,e),(t=t.alternate)&&df(t,e)}function gw(){return null}var cg=typeof reportError=="function"?reportError:function(t){console.error(t)};function ld(t){this._internalRoot=t}$a.prototype.render=ld.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(w(409));Pa(t,e,null,null)};$a.prototype.unmount=ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ri(function(){Pa(null,t,null,null)}),e[Kt]=null}};function $a(t){this._internalRoot=t}$a.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ff();t={blockedOn:null,target:t,priority:e};for(var r=0;r<pr.length&&e!==0&&e<pr[r].priority;r++);pr.splice(r,0,t),r===0&&Bf(t)}};function cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ua(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hf(){}function vw(t,e,r,i,n){if(n){if(typeof i=="function"){var o=i;i=function(){var c=wa(s);o.call(c)}}var s=lg(e,i,t,0,null,!1,!1,"",hf);return t._reactRootContainer=s,t[Kt]=s.current,co(t.nodeType===8?t.parentNode:t),ri(),s}for(;n=t.lastChild;)t.removeChild(n);if(typeof i=="function"){var a=i;i=function(){var c=wa(l);a.call(c)}}var l=sd(t,0,!1,null,null,!1,!1,"",hf);return t._reactRootContainer=l,t[Kt]=l.current,co(t.nodeType===8?t.parentNode:t),ri(function(){Pa(e,l,r,i)}),l}function Ra(t,e,r,i,n){var o=r._reactRootContainer;if(o){var s=o;if(typeof n=="function"){var a=n;n=function(){var l=wa(s);a.call(l)}}Pa(e,s,t,n)}else s=vw(r,e,t,n,i);return wa(s)}Df=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Hn(e.pendingLanes);r!==0&&(Tu(e,r|1),Re(e,ie()),!(z&6)&&(Wi=ie()+500,Ir()))}break;case 13:ri(function(){var i=Xt(t,1);if(i!==null){var n=Ee();mt(i,t,1,n)}}),ad(t,1)}};Iu=function(t){if(t.tag===13){var e=Xt(t,134217728);if(e!==null){var r=Ee();mt(e,t,134217728,r)}ad(t,134217728)}};Nf=function(t){if(t.tag===13){var e=kr(t),r=Xt(t,e);if(r!==null){var i=Ee();mt(r,t,e,i)}ad(t,e)}};Ff=function(){return V};Vf=function(t,e){var r=V;try{return V=t,e()}finally{V=r}};Vc=function(t,e,r){switch(e){case"input":if($c(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==t&&i.form===t.form){var n=Sa(i);if(!n)throw Error(w(90));yf(i),$c(i,n)}}}break;case"textarea":_f(t,r);break;case"select":e=r.value,e!=null&&Pi(t,!!r.multiple,e,!1)}};Af=rd;Tf=ri;var yw={usingClientEntryPoint:!1,Events:[wo,Si,Sa,Ef,Sf,rd]},Fn={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bw={bundleType:Fn.bundleType,version:Fn.version,rendererPackageName:Fn.rendererPackageName,rendererConfig:Fn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lf(t),t===null?null:t.stateNode},findFiberByHostInstance:Fn.findFiberByHostInstance||gw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Vn=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Vn.isDisabled&&Vn.supportsFiber))try{xa=Vn.inject(bw),Et=Vn}catch{}var Vn;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yw;Ke.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cd(e))throw Error(w(200));return mw(t,e,null,r)};Ke.createRoot=function(t,e){if(!cd(t))throw Error(w(299));var r=!1,i="",n=cg;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=sd(t,1,!1,null,null,r,!1,i,n),t[Kt]=e.current,co(t.nodeType===8?t.parentNode:t),new ld(e)};Ke.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(w(188)):(t=Object.keys(t).join(","),Error(w(268,t)));return t=Lf(e),t=t===null?null:t.stateNode,t};Ke.flushSync=function(t){return ri(t)};Ke.hydrate=function(t,e,r){if(!Ua(e))throw Error(w(200));return Ra(null,t,e,!0,r)};Ke.hydrateRoot=function(t,e,r){if(!cd(t))throw Error(w(405));var i=r!=null&&r.hydratedSources||null,n=!1,o="",s=cg;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=lg(e,null,t,1,r??null,n,!1,o,s),t[Kt]=e.current,co(t),i)for(t=0;t<i.length;t++)r=i[t],n=r._getVersion,n=n(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,n]:e.mutableSourceEagerHydrationData.push(r,n);return new $a(e)};Ke.render=function(t,e,r){if(!Ua(e))throw Error(w(200));return Ra(null,t,e,!1,r)};Ke.unmountComponentAtNode=function(t){if(!Ua(t))throw Error(w(40));return t._reactRootContainer?(ri(function(){Ra(null,null,t,!1,function(){t._reactRootContainer=null,t[Kt]=null})}),!0):!1};Ke.unstable_batchedUpdates=rd;Ke.unstable_renderSubtreeIntoContainer=function(t,e,r,i){if(!Ua(r))throw Error(w(200));if(t==null||t._reactInternals===void 0)throw Error(w(38));return Ra(t,e,r,!1,i)};Ke.version="18.3.1-next-f1338f8080-20240426"});var pg=Le((uk,hg)=>{"use strict";function dg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dg)}catch(t){console.error(t)}}dg(),hg.exports=ug()});var mg=Le(ud=>{"use strict";var fg=pg();ud.createRoot=fg.createRoot,ud.hydrateRoot=fg.hydrateRoot;var dk});var za=Le(gg=>{"use strict";function _w(t){return t&&t.__esModule?t:{default:t}}gg._=_w});var yg=Le(Da=>{"use strict";var ww=lt(),xw=Symbol.for("react.element"),kw=Symbol.for("react.fragment"),Cw=Object.prototype.hasOwnProperty,Ew=ww.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sw={key:!0,ref:!0,__self:!0,__source:!0};function vg(t,e,r){var i,n={},o=null,s=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)Cw.call(e,i)&&!Sw.hasOwnProperty(i)&&(n[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:xw,type:t,key:o,ref:s,props:n,_owner:Ew.current}}Da.Fragment=kw;Da.jsx=vg;Da.jsxs=vg});var _g=Le((mk,bg)=>{"use strict";bg.exports=yg()});var wg=Le(dd=>{"use client";"use strict";Object.defineProperty(dd,"__esModule",{value:!0});Object.defineProperty(dd,"LoadableContext",{enumerable:!0,get:function(){return Iw}});var Aw=za(),Tw=Aw._(lt()),Iw=Tw.default.createContext(null)});var Eg=Le(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});Object.defineProperty(fd,"default",{enumerable:!0,get:function(){return Uw}});var Ow=za(),oi=Ow._(lt()),Lw=wg();function Mw(t){return t&&t.default?t.default:t}var xg=[],kg=[],Cg=!1;function Pw(t){let e=t(),r={loading:!0,loaded:null,error:null};return r.promise=e.then(i=>(r.loading=!1,r.loaded=i,i)).catch(i=>{throw r.loading=!1,r.error=i,i}),r}function $w(t,e){let r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},e),i=null;function n(){if(!i){let a=new hd(t,r);i={getCurrentValue:a.getCurrentValue.bind(a),subscribe:a.subscribe.bind(a),retry:a.retry.bind(a),promise:a.promise.bind(a)}}return i.promise()}if(typeof window>"u"&&xg.push(n),!Cg&&typeof window<"u"){let a=r.webpack&&typeof $h.resolveWeak=="function"?r.webpack():r.modules;a&&kg.push(l=>{for(let c of a)if(l.includes(c))return n()})}function o(){n();let a=oi.default.useContext(Lw.LoadableContext);a&&Array.isArray(r.modules)&&r.modules.forEach(l=>{a(l)})}function s(a,l){o();let c=oi.default.useSyncExternalStore(i.subscribe,i.getCurrentValue,i.getCurrentValue);return oi.default.useImperativeHandle(l,()=>({retry:i.retry}),[]),oi.default.useMemo(()=>c.loading||c.error?oi.default.createElement(r.loading,{isLoading:c.loading,pastDelay:c.pastDelay,timedOut:c.timedOut,error:c.error,retry:i.retry}):c.loaded?oi.default.createElement(Mw(c.loaded),a):null,[a,c])}return s.preload=()=>n(),s.displayName="LoadableComponent",oi.default.forwardRef(s)}var hd=class{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:r}=this;e.loading&&(typeof r.delay=="number"&&(r.delay===0?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},r.delay)),typeof r.timeout=="number"&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},r.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(i=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(r=>r())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,r){this._loadFn=e,this._opts=r,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}};function Na(t){return $w(Pw,t)}function pd(t,e){let r=[];for(;t.length;){let i=t.pop();r.push(i(e))}return Promise.all(r).then(()=>{if(t.length)return pd(t,e)})}Na.preloadAll=()=>new Promise((t,e)=>{pd(xg).then(t,e)});Na.preloadReady=t=>(t===void 0&&(t=[]),new Promise(e=>{let r=()=>(Cg=!0,e());pd(kg,t).then(r,r)}));typeof window<"u"&&(window.__NEXT_PRELOADREADY=Na.preloadReady);var Uw=Na});var Og=Le((vt,Ig)=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});function Rw(t,e){for(var r in e)Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}Rw(vt,{default:function(){return Fw},noSSR:function(){return Tg}});var Ag=za(),zw=_g(),bk=Ag._(lt()),Dw=Ag._(Eg()),Nw=typeof window>"u";function Sg(t){return{default:t?.default||t}}function Tg(t,e){if(delete e.webpack,delete e.modules,!Nw)return t(e);let r=e.loading;return()=>(0,zw.jsx)(r,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}function Fw(t,e){let r=Dw.default,i={loading:s=>{let{error:a,isLoading:l,pastDelay:c}=s;return null}};t instanceof Promise?i.loader=()=>t:typeof t=="function"?i.loader=t:typeof t=="object"&&(i={...i,...t}),i={...i,...e};let n=i.loader,o=()=>n!=null?n().then(Sg):Promise.resolve(Sg(()=>null));return i.loadableGenerated&&(i={...i,...i.loadableGenerated},delete i.loadableGenerated),typeof i.ssr=="boolean"&&!i.ssr?(delete i.webpack,delete i.modules,Tg(r,i)):r({...i,loader:o})}(typeof vt.default=="function"||typeof vt.default=="object"&&vt.default!==null)&&typeof vt.default.__esModule>"u"&&(Object.defineProperty(vt.default,"__esModule",{value:!0}),Object.assign(vt.default,vt),Ig.exports=vt.default)});var Mg=Le((_k,Lg)=>{Lg.exports=Og()});function jw(t){let e=r=>{var i;for(let n in r)((i=r[n])==null?void 0:i.constructor)===Object&&(r[n]=e(r[n]));return{...r}};return e(t)}function Rg(t,e,r){let i=!0,n,o=e.split(".");return o.forEach((s,a)=>{a<o.length-1?t=t[s]:n=s}),t?t[n]=r:i=!1,i}function Ww(t){return t.split("-").map((e,r)=>e&&r?e[0].toUpperCase()+e.slice(1):e).join("").split("_").map((e,r)=>e&&r?e.toUpperCase():e).join("")}function Gw(t,e){[...t.querySelectorAll(`[${M.REPEAT_ATTR}]`)].forEach(r=>{let i=r.getAttribute(M.REPEAT_ITEM_TAG_ATTR),n;if(i&&(n=window.customElements.get(i)),!n){n=class extends e.BaseComponent{constructor(){super(),i||(this.style.display="contents")}};let s=r.innerHTML;n.template=s,n.reg(i)}for(;r.firstChild;)r.firstChild.remove();let o=r.getAttribute(M.REPEAT_ATTR);e.sub(o,s=>{if(!s){for(;r.firstChild;)r.firstChild.remove();return}let a=[...r.children],l,c=u=>{u.forEach((h,g)=>{if(a[g])if(a[g].set$)setTimeout(()=>{a[g].set$(h)});else for(let y in h)a[g][y]=h[y];else{l||(l=new DocumentFragment);let y=new n;Object.assign(y.init$,h),l.appendChild(y)}}),l&&r.appendChild(l);let d=a.slice(u.length,a.length);for(let h of d)h.remove()};if(s.constructor===Array)c(s);else if(s.constructor===Object){let u=[];for(let d in s){let h=s[d];Object.defineProperty(h,"_KEY_",{value:d,enumerable:!0}),u.push(h)}c(u)}else console.warn("Symbiote repeat data type error:"),console.log(s)}),r.removeAttribute(M.REPEAT_ATTR),r.removeAttribute(M.REPEAT_ITEM_TAG_ATTR)})}function Kw(t,e){if(e.shadowRoot)return;let r=[...t.querySelectorAll("slot")];if(!r.length)return;let i={};r.forEach(n=>{let o=n.getAttribute("name")||Pg;i[o]={slot:n,fr:document.createDocumentFragment()}}),e.initChildren.forEach(n=>{var o;let s=Pg;n instanceof Element&&n.hasAttribute("slot")&&(s=n.getAttribute("slot"),n.removeAttribute("slot")),(o=i[s])==null||o.fr.appendChild(n)}),Object.values(i).forEach(n=>{if(n.fr.childNodes.length)n.slot.parentNode.replaceChild(n.fr,n.slot);else if(n.slot.childNodes.length){let o=document.createDocumentFragment();o.append(...n.slot.childNodes),n.slot.parentNode.replaceChild(o,n.slot)}else n.slot.remove()})}function Xw(t,e){[...t.querySelectorAll(`[${M.EL_REF_ATTR}]`)].forEach(r=>{let i=r.getAttribute(M.EL_REF_ATTR);e.ref[i]=r,r.removeAttribute(M.EL_REF_ATTR)})}function qw(t,e){[...t.querySelectorAll(`[${M.BIND_ATTR}]`)].forEach(r=>{let n=r.getAttribute(M.BIND_ATTR).split(";");[...r.attributes].forEach(o=>{if(o.name.startsWith("-")&&o.value){let s=Ww(o.name.replace("-",""));n.push(s+":"+o.value),r.removeAttribute(o.name)}}),n.forEach(o=>{if(!o)return;let s=o.split(":").map(u=>u.trim()),a=s[0],l;a.indexOf(M.ATTR_BIND_PRFX)===0&&(l=!0,a=a.replace(M.ATTR_BIND_PRFX,""));let c=s[1].split(",").map(u=>u.trim());for(let u of c){let d;u.startsWith("!!")?(d="double",u=u.replace("!!","")):u.startsWith("!")&&(d="single",u=u.replace("!","")),e.sub(u,h=>{d==="double"?h=!!h:d==="single"&&(h=!h),l?h?.constructor===Boolean?h?r.setAttribute(a,""):r.removeAttribute(a):r.setAttribute(a,h):Rg(r,a,h)||(r[M.SET_LATER_KEY]||(r[M.SET_LATER_KEY]=Object.create(null)),r[M.SET_LATER_KEY][a]=h)})}}),r.removeAttribute(M.BIND_ATTR)})}function Zw(t){let e,r=[],i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:n=>{var o;return!((o=n.parentElement)!=null&&o.hasAttribute(Yw))&&n.textContent.includes(Fa)&&n.textContent.includes(ko)&&1}});for(;e=i.nextNode();)r.push(e);return r}function t2(t){return(t[0]===qi||t[0]===Va)&&(t[t.length-1]===qi||t[t.length-1]===Va)}function r2(t){return(t[0]===qi||t[0]===Va)&&(t=t.slice(1)),(t[t.length-1]===qi||t[t.length-1]===Va)&&(t=t.slice(0,-1)),t}function i2(t){let e="",r="";for(var i=0;i<t.length;i++){let n=t[i+1];t[i]==="\\"&&n==='"'?(e+='\\"',i++):t[i]==='"'&&r!=="\\"?e+='\\"':e+=t[i],r=t[i]}return e}function n2(t){let e=t;t2(t)&&(e=r2(e),e=e.replace(e2,(r,i)=>String.fromCodePoint(parseInt(i.trim(),16))),e=e.replaceAll(`\\
`,"\\n"),e=i2(e),e=qi+e+qi);try{return JSON.parse(e)}catch{throw new Error(`Failed to parse CSS property value: ${e}. Original input: ${t}`)}}function Co(t,e){for(let r in e)r.includes("-")?t.style.setProperty(r,e[r]):t.style[r]=e[r]}function o2(t,e){for(let r in e)e[r].constructor===Boolean?e[r]?t.setAttribute(r,""):t.removeAttribute(r):t.setAttribute(r,e[r])}function vd(t={tag:"div"}){let e=document.createElement(t.tag);if(t.attributes&&o2(e,t.attributes),t.styles&&Co(e,t.styles),t.properties)for(let r in t.properties)e[r]=t.properties[r];return t.processors&&t.processors.forEach(r=>{r(e)}),t.children&&t.children.forEach(r=>{let i=vd(r);e.appendChild(i)}),e}var Vw,Bw,gd,P,M,Ug,Hw,Xe,Pg,Fa,ko,Yw,Qw,Jw,Va,qi,e2,$g,Xi,Zt,Or,Qt,md,zg,s2,a2,l2,Dg,st=v(()=>{Vw=Object.defineProperty,Bw=(t,e,r)=>e in t?Vw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gd=(t,e,r)=>(Bw(t,typeof e!="symbol"?e+"":e,r),r);P=class{constructor(t){t.constructor===Object?this.store=jw(t):(this._storeIsProxy=!0,this.store=t),this.callbackMap=Object.create(null)}static warn(t,e){console.warn(`Symbiote Data: cannot ${t}. Prop name: `+e)}read(t){return!this._storeIsProxy&&!this.store.hasOwnProperty(t)?(P.warn("read",t),null):this.store[t]}has(t){return this._storeIsProxy?this.store[t]!==void 0:this.store.hasOwnProperty(t)}add(t,e,r=!1){!r&&Object.keys(this.store).includes(t)||(this.store[t]=e,this.notify(t))}pub(t,e){if(!this._storeIsProxy&&!this.store.hasOwnProperty(t)){P.warn("publish",t);return}this.store[t]=e,this.notify(t)}multiPub(t){for(let e in t)this.pub(e,t[e])}notify(t){this.callbackMap[t]&&this.callbackMap[t].forEach(e=>{e(this.store[t])})}sub(t,e,r=!0){return!this._storeIsProxy&&!this.store.hasOwnProperty(t)?(P.warn("subscribe",t),null):(this.callbackMap[t]||(this.callbackMap[t]=new Set),this.callbackMap[t].add(e),r&&e(this.store[t]),{remove:()=>{this.callbackMap[t].delete(e),this.callbackMap[t].size||delete this.callbackMap[t]},callback:e})}static registerCtx(t,e=Symbol()){let r=P.globalStore.get(e);return r?console.warn('State: context UID "'+e+'" already in use'):(r=new P(t),P.globalStore.set(e,r)),r}static deleteCtx(t){P.globalStore.delete(t)}static getCtx(t,e=!0){return P.globalStore.get(t)||(e&&console.warn('State: wrong context UID - "'+t+'"'),null)}};P.globalStore=new Map;M=Object.freeze({BIND_ATTR:"set",ATTR_BIND_PRFX:"@",EXT_DATA_CTX_PRFX:"*",NAMED_DATA_CTX_SPLTR:"/",CTX_NAME_ATTR:"ctx-name",CTX_OWNER_ATTR:"ctx-owner",CSS_CTX_PROP:"--ctx-name",EL_REF_ATTR:"ref",AUTO_TAG_PRFX:"sym",REPEAT_ATTR:"repeat",REPEAT_ITEM_TAG_ATTR:"repeat-item-tag",SET_LATER_KEY:"__toSetLater__",USE_TPL:"use-template",ROOT_STYLE_ATTR_NAME:"sym-component"}),Ug="1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm",Hw=Ug.length-1,Xe=class{static generate(t="XXXXXXXXX-XXX"){let e="";for(let r=0;r<t.length;r++)e+=t[r]==="-"?t[r]:Ug.charAt(Math.random()*Hw);return e}};Pg="__default__";Fa="{{",ko="}}",Yw="skip-text";Qw=function(t,e){Zw(t).forEach(i=>{let n=[],o;for(;i.textContent.includes(ko);)i.textContent.startsWith(Fa)?(o=i.textContent.indexOf(ko)+ko.length,i.splitText(o),n.push(i)):(o=i.textContent.indexOf(Fa),i.splitText(o)),i=i.nextSibling;n.forEach(s=>{let a=s.textContent.replace(Fa,"").replace(ko,"");s.textContent="",e.sub(a,l=>{s.textContent=l})})})},Jw=[Gw,Kw,Xw,qw,Qw],Va="'",qi='"',e2=/\\([0-9a-fA-F]{1,6} ?)/g;$g=0,Xi=null,Zt=null,Or=class extends HTMLElement{constructor(){super(),gd(this,"updateCssData",()=>{var t;this.dropCssDataCache(),(t=this.__boundCssProps)==null||t.forEach(e=>{let r=this.getCssData(this.__extractCssName(e),!0);r!==null&&this.$[e]!==r&&(this.$[e]=r)})}),this.init$=Object.create(null),this.cssInit$=Object.create(null),this.tplProcessors=new Set,this.ref=Object.create(null),this.allSubs=new Set,this.pauseRender=!1,this.renderShadow=!1,this.readyToDestroy=!0,this.processInnerHtml=!1,this.allowCustomTemplate=!1,this.ctxOwner=!1}get BaseComponent(){return Or}initCallback(){}__initCallback(){var t;this.__initialized||(this.__initialized=!0,(t=this.initCallback)==null||t.call(this))}render(t,e=this.renderShadow){let r;if((e||this.constructor.__shadowStylesUrl)&&!this.shadowRoot&&this.attachShadow({mode:"open"}),this.allowCustomTemplate){let n=this.getAttribute(M.USE_TPL);if(n){let o=this.getRootNode(),s=o?.querySelector(n)||document.querySelector(n);s?t=s.content.cloneNode(!0):console.warn(`Symbiote template "${n}" is not found...`)}}if(this.processInnerHtml)for(let n of this.tplProcessors)n(this,this);if(t||this.constructor.template){if(this.constructor.template&&!this.constructor.__tpl&&(this.constructor.__tpl=document.createElement("template"),this.constructor.__tpl.innerHTML=this.constructor.template),t?.constructor===DocumentFragment)r=t;else if(t?.constructor===String){let n=document.createElement("template");n.innerHTML=t,r=n.content.cloneNode(!0)}else this.constructor.__tpl&&(r=this.constructor.__tpl.content.cloneNode(!0));for(let n of this.tplProcessors)n(r,this)}let i=()=>{r&&(e&&this.shadowRoot.appendChild(r)||this.appendChild(r)),this.__initCallback()};if(this.constructor.__shadowStylesUrl){e=!0;let n=document.createElement("link");n.rel="stylesheet",n.href=this.constructor.__shadowStylesUrl,n.onload=i,this.shadowRoot.prepend(n)}else i()}addTemplateProcessor(t){this.tplProcessors.add(t)}get autoCtxName(){return this.__autoCtxName||(this.__autoCtxName=Xe.generate(),this.style.setProperty(M.CSS_CTX_PROP,`'${this.__autoCtxName}'`)),this.__autoCtxName}get cssCtxName(){return this.getCssData(M.CSS_CTX_PROP,!0)}get ctxName(){var t;let e=((t=this.getAttribute(M.CTX_NAME_ATTR))==null?void 0:t.trim())||this.cssCtxName||this.__cachedCtxName||this.autoCtxName;return this.__cachedCtxName=e,e}get localCtx(){return this.__localCtx||(this.__localCtx=P.registerCtx({},this)),this.__localCtx}get nodeCtx(){return P.getCtx(this.ctxName,!1)||P.registerCtx({},this.ctxName)}static __parseProp(t,e){let r,i;if(t.startsWith(M.EXT_DATA_CTX_PRFX))r=e.nodeCtx,i=t.replace(M.EXT_DATA_CTX_PRFX,"");else if(t.includes(M.NAMED_DATA_CTX_SPLTR)){let n=t.split(M.NAMED_DATA_CTX_SPLTR);r=P.getCtx(n[0]),i=n[1]}else r=e.localCtx,i=t;return{ctx:r,name:i}}sub(t,e,r=!0){let i=o=>{this.isConnected&&e(o)},n=Or.__parseProp(t,this);n.ctx.has(n.name)?this.allSubs.add(n.ctx.sub(n.name,i,r)):window.setTimeout(()=>{this.allSubs.add(n.ctx.sub(n.name,i,r))})}notify(t){let e=Or.__parseProp(t,this);e.ctx.notify(e.name)}has(t){let e=Or.__parseProp(t,this);return e.ctx.has(e.name)}add(t,e,r=!1){let i=Or.__parseProp(t,this);i.ctx.add(i.name,e,r)}add$(t,e=!1){for(let r in t)this.add(r,t[r],e)}get $(){if(!this.__stateProxy){let t=Object.create(null);this.__stateProxy=new Proxy(t,{set:(e,r,i)=>{let n=Or.__parseProp(r,this);return n.ctx.pub(n.name,i),!0},get:(e,r)=>{let i=Or.__parseProp(r,this);return i.ctx.read(i.name)}})}return this.__stateProxy}set$(t,e=!1){for(let r in t){let i=t[r];e||![String,Number,Boolean].includes(i?.constructor)?this.$[r]=i:this.$[r]!==i&&(this.$[r]=i)}}get __ctxOwner(){return this.ctxOwner||this.hasAttribute(M.CTX_OWNER_ATTR)&&this.getAttribute(M.CTX_OWNER_ATTR)!=="false"}__initDataCtx(){let t=this.constructor.__attrDesc;if(t)for(let e of Object.values(t))Object.keys(this.init$).includes(e)||(this.init$[e]="");for(let e in this.init$)if(e.startsWith(M.EXT_DATA_CTX_PRFX))this.nodeCtx.add(e.replace(M.EXT_DATA_CTX_PRFX,""),this.init$[e],this.__ctxOwner);else if(e.includes(M.NAMED_DATA_CTX_SPLTR)){let r=e.split(M.NAMED_DATA_CTX_SPLTR),i=r[0].trim(),n=r[1].trim();if(i&&n){let o=P.getCtx(i,!1);o||(o=P.registerCtx({},i)),o.add(n,this.init$[e])}}else this.localCtx.add(e,this.init$[e]);for(let e in this.cssInit$)this.bindCssData(e,this.cssInit$[e]);this.__dataCtxInitialized=!0}connectedCallback(){var t;if(this.isConnected){if(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),!this.connectedOnce){let e=(t=this.getAttribute(M.CTX_NAME_ATTR))==null?void 0:t.trim();if(e&&this.style.setProperty(M.CSS_CTX_PROP,`'${e}'`),this.__initDataCtx(),this[M.SET_LATER_KEY]){for(let r in this[M.SET_LATER_KEY])Rg(this,r,this[M.SET_LATER_KEY][r]);delete this[M.SET_LATER_KEY]}this.initChildren=[...this.childNodes];for(let r of Jw)this.addTemplateProcessor(r);if(this.pauseRender)this.__initCallback();else if(this.constructor.__rootStylesLink){let r=this.getRootNode();if(!r)return;if(r?.querySelector(`link[${M.ROOT_STYLE_ATTR_NAME}="${this.constructor.is}"]`)){this.render();return}let n=this.constructor.__rootStylesLink.cloneNode(!0);n.setAttribute(M.ROOT_STYLE_ATTR_NAME,this.constructor.is),n.onload=()=>{this.render()},r.nodeType===Node.DOCUMENT_NODE?r.head.appendChild(n):r.prepend(n)}else this.render()}this.connectedOnce=!0}}destroyCallback(){}disconnectedCallback(){this.connectedOnce&&(this.dropCssDataCache(),this.readyToDestroy&&(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),this.__disconnectTimeout=window.setTimeout(()=>{this.destroyCallback();for(let t of this.allSubs)t.remove(),this.allSubs.delete(t);for(let t of this.tplProcessors)this.tplProcessors.delete(t);Zt?.delete(this.updateCssData),Zt?.size||(Xi?.disconnect(),Xi=null,Zt=null)},100)))}static reg(t,e=!1){t||($g++,t=`${M.AUTO_TAG_PRFX}-${$g}`),this.__tag=t;let r=window.customElements.get(t);if(r){!e&&r!==this&&console.warn([`Element with tag name "${t}" already registered.`,`You're trying to override it with another class "${this.name}".`,"This is most likely a mistake.","New element will not be registered."].join(`
`));return}window.customElements.define(t,e?class extends this{}:this)}static get is(){return this.__tag||this.reg(),this.__tag}static bindAttributes(t){this.observedAttributes=Object.keys(t),this.__attrDesc=t}attributeChangedCallback(t,e,r){var i;if(e===r)return;let n=(i=this.constructor.__attrDesc)==null?void 0:i[t];n?this.__dataCtxInitialized?this.$[n]=r:this.init$[n]=r:this[t]=r}getCssData(t,e=!1){if(this.__cssDataCache||(this.__cssDataCache=Object.create(null)),!Object.keys(this.__cssDataCache).includes(t)){this.__computedStyle||(this.__computedStyle=window.getComputedStyle(this));let r=this.__computedStyle.getPropertyValue(t).trim();try{this.__cssDataCache[t]=n2(r)}catch{!e&&console.warn(`CSS Data error: ${t}`),this.__cssDataCache[t]=null}}return this.__cssDataCache[t]}__extractCssName(t){return t.split("--").map((e,r)=>r===0?"":e).join("--")}__initStyleAttrObserver(){Zt||(Zt=new Set),Zt.add(this.updateCssData),Xi||(Xi=new MutationObserver(t=>{t[0].type==="attributes"&&Zt.forEach(e=>{e()})}),Xi.observe(document,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]}))}bindCssData(t,e=""){this.__boundCssProps||(this.__boundCssProps=new Set),this.__boundCssProps.add(t);let r=this.getCssData(this.__extractCssName(t),!0);r===null&&(r=e),this.add(t,r),this.__initStyleAttrObserver()}dropCssDataCache(){this.__cssDataCache=null,this.__computedStyle=null}defineAccessor(t,e,r){let i="__"+t;this[i]=this[t],Object.defineProperty(this,t,{set:n=>{this[i]=n,r?window.setTimeout(()=>{e?.(n)}):e?.(n)},get:()=>this[i]}),this[t]=this[i]}static set shadowStyles(t){let e=new Blob([t],{type:"text/css"});this.__shadowStylesUrl=URL.createObjectURL(e)}static set rootStyles(t){if(!this.__rootStylesLink){let e=new Blob([t],{type:"text/css"}),r=URL.createObjectURL(e),i=document.createElement("link");i.href=r,i.rel="stylesheet",this.__rootStylesLink=i}}},Qt=Or;gd(Qt,"template");md=class{static _print(t){console.warn(t)}static setDefaultTitle(t){this.defaultTitle=t}static setRoutingMap(t){Object.assign(this.appMap,t);for(let e in this.appMap)!this.defaultRoute&&this.appMap[e].default===!0?this.defaultRoute=e:!this.errorRoute&&this.appMap[e].error===!0&&(this.errorRoute=e)}static set routingEventName(t){this.__routingEventName=t}static get routingEventName(){return this.__routingEventName||"sym-on-route"}static readAddressBar(){let t={route:null,options:{}};return window.location.search.split(this.separator).forEach(r=>{if(r.includes("?"))t.route=r.replace("?","");else if(r.includes("=")){let i=r.split("=");t.options[i[0]]=decodeURI(i[1])}else t.options[r]=!0}),t}static notify(){let t=this.readAddressBar(),e=this.appMap[t.route];if(e&&e.title&&(document.title=e.title),t.route===null&&this.defaultRoute){this.applyRoute(this.defaultRoute);return}else if(!e&&this.errorRoute){this.applyRoute(this.errorRoute);return}else if(!e&&this.defaultRoute){this.applyRoute(this.defaultRoute);return}else if(!e){this._print(`Route "${t.route}" not found...`);return}let r=new CustomEvent(md.routingEventName,{detail:{route:t.route,options:Object.assign(e||{},t.options)}});window.dispatchEvent(r)}static reflect(t,e={}){let r=this.appMap[t];if(!r){this._print("Wrong route: "+t);return}let i="?"+t;for(let o in e)e[o]===!0?i+=this.separator+o:i+=this.separator+o+`=${e[o]}`;let n=r.title||this.defaultTitle||"";window.history.pushState(null,n,i),document.title=n}static applyRoute(t,e={}){this.reflect(t,e),this.notify()}static setSeparator(t){this._separator=t}static get separator(){return this._separator||"&"}static createRouterData(t,e){this.setRoutingMap(e);let r=P.registerCtx({route:null,options:null,title:null},t);return window.addEventListener(this.routingEventName,i=>{var n;r.multiPub({route:i.detail.route,options:i.detail.options,title:((n=i.detail.options)==null?void 0:n.title)||this.defaultTitle||""})}),md.notify(),this.initPopstateListener(),r}static initPopstateListener(){this.__onPopstate||(this.__onPopstate=()=>{this.notify()},window.addEventListener("popstate",this.__onPopstate))}static removePopstateListener(){window.removeEventListener("popstate",this.__onPopstate),this.__onPopstate=null}};md.appMap=Object.create(null);zg="idb-store-ready",s2="symbiote-db",a2="symbiote-idb-update_",l2=class{_notifyWhenReady(t=null){window.dispatchEvent(new CustomEvent(zg,{detail:{dbName:this.name,storeName:this.storeName,event:t}}))}get _updEventName(){return a2+this.name}_getUpdateEvent(t){return new CustomEvent(this._updEventName,{detail:{key:this.name,newValue:t}})}_notifySubscribers(t){window.localStorage.removeItem(this.name),window.localStorage.setItem(this.name,t),window.dispatchEvent(this._getUpdateEvent(t))}constructor(t,e){this.name=t,this.storeName=e,this.version=1,this.request=window.indexedDB.open(this.name,this.version),this.request.onupgradeneeded=r=>{this.db=r.target.result,this.objStore=this.db.createObjectStore(e,{keyPath:"_key"}),this.objStore.transaction.oncomplete=i=>{this._notifyWhenReady(i)}},this.request.onsuccess=r=>{this.db=r.target.result,this._notifyWhenReady(r)},this.request.onerror=r=>{console.error(r)},this._subscriptionsMap={},this._updateHandler=r=>{r.key===this.name&&this._subscriptionsMap[r.newValue]&&this._subscriptionsMap[r.newValue].forEach(async n=>{n(await this.read(r.newValue))})},this._localUpdateHandler=r=>{this._updateHandler(r.detail)},window.addEventListener("storage",this._updateHandler),window.addEventListener(this._updEventName,this._localUpdateHandler)}read(t){let r=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).get(t);return new Promise((i,n)=>{r.onsuccess=o=>{var s;(s=o.target.result)!=null&&s._value?i(o.target.result._value):(i(null),console.warn(`IDB: cannot read "${t}"`))},r.onerror=o=>{n(o)}})}write(t,e,r=!1){let i={_key:t,_value:e},o=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(i);return new Promise((s,a)=>{o.onsuccess=l=>{r||this._notifySubscribers(t),s(l.target.result)},o.onerror=l=>{a(l)}})}delete(t,e=!1){let i=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(t);return new Promise((n,o)=>{i.onsuccess=s=>{e||this._notifySubscribers(t),n(s)},i.onerror=s=>{o(s)}})}getAll(){let e=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).getAll();return new Promise((r,i)=>{e.onsuccess=n=>{let o=n.target.result;r(o.map(s=>s._value))},e.onerror=n=>{i(n)}})}subscribe(t,e){this._subscriptionsMap[t]||(this._subscriptionsMap[t]=new Set);let r=this._subscriptionsMap[t];return r.add(e),{remove:()=>{r.delete(e),r.size||delete this._subscriptionsMap[t]}}}stop(){window.removeEventListener("storage",this._updateHandler),this._subscriptionsMap=null,Dg.clear(this.name)}},Dg=class{static get readyEventName(){return zg}static open(t=s2,e="store"){let r=t+"/"+e;return this._reg[r]||(this._reg[r]=new l2(t,e)),this._reg[r]}static clear(t){window.indexedDB.deleteDatabase(t);for(let e in this._reg)e.split("/")[0]===t&&delete this._reg[e]}};gd(Dg,"_reg",Object.create(null))});function ja(t){let e=new URL(t),r=e.pathname+e.search+e.hash,i=r.lastIndexOf("http"),n=r.lastIndexOf("/"),o="";return i>=0?o=r.slice(i):n>=0&&(o=r.slice(n+1)),o}function Ha(t){let e=new URL(t),{pathname:r}=e,i=r.indexOf("/"),n=r.indexOf("/",i+1);return r.substring(i+1,n)}function yd(t){let e=Vg(t),r=new URL(e),i=r.pathname.indexOf("/-/");return i===-1?"":r.pathname.substring(i).slice(1)}function Fg(t){return yd(t).split("/-/").filter(Boolean).map(r=>Ng(r))}function Vg(t){let e=new URL(t),r=ja(t),i=Bg(r)?jg(r).pathname:r;return e.pathname=e.pathname.replace(i,""),e.search="",e.hash="",e.toString()}function Bg(t){return t.startsWith("http")}function jg(t){let e=new URL(t);return{pathname:e.origin+e.pathname||"",search:e.search||"",hash:e.hash||""}}var Ng,Ba,Ae,le,Lr,At=v(()=>{Ng=t=>{if(typeof t!="string"||!t)return"";let e=t.trim();return e.startsWith("-/")?e=e.slice(2):e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),e},Ba=(...t)=>t.filter(e=>typeof e=="string"&&e).map(e=>Ng(e)).join("/-/"),Ae=(...t)=>{let e=Ba(...t);return e?`-/${e}/`:""};le=(t,e,r)=>{let i=new URL(Vg(t));if(r=r||ja(t),i.pathname.startsWith("//")&&(i.pathname=i.pathname.replace("//","/")),Bg(r)){let n=jg(r);i.pathname=i.pathname+(e||"")+(n.pathname||""),i.search=n.search,i.hash=n.hash}else i.pathname=i.pathname+(e||"")+(r||"");return i.toString()},Lr=(t,e)=>{let r=new URL(t);return r.pathname=e+"/",r.toString()}});var me,Jt=v(()=>{me=(t,e=",")=>t.trim().split(e).map(r=>r.trim()).filter(r=>r.length>0)});function c2(t,e){if(typeof e=="number"){let r=e;return qe[t]!==r?`${t}/${r}`:""}if(typeof e=="boolean"){let r=e;return qe[t]!==r?`${t}`:""}if(t==="filter"&&e){let{name:r,amount:i}=e;return qe.filter===i?"":`${t}/${r}/${i}`}if(t==="crop"&&e){let{dimensions:r,coords:i}=e;return`${t}/${r.join("x")}/${i.join(",")}`}return""}function Mr(t){return Ba(...Wg.filter(e=>typeof t[e]<"u"&&t[e]!==null).map(e=>{let r=t[e];return c2(e,r)}).filter(e=>!!e))}function Gg(t){let e={};for(let r of t){let[i,...n]=r.split("/");if(!Wg.includes(i))continue;let o=i,s=h2[o];try{let a=s(n);e[o]=a}catch(a){console.warn([`Failed to parse URL operation "${r}". It will be ignored.`,a instanceof Error?`Error message: "${a.message}"`:a,"If you need this functionality, please feel free to open an issue at https://github.com/uploadcare/blocks/issues/new"].join(`
`))}}return e}var qe,Wg,Wa,er,Hg,u2,d2,h2,Yi=v(()=>{At();Jt();qe=Object.freeze({brightness:0,exposure:0,gamma:100,contrast:0,saturation:0,vibrance:0,warmth:0,enhance:0,filter:0,rotate:0,mirror:!1,flip:!1,crop:void 0}),Wg=["enhance","brightness","exposure","gamma","contrast","saturation","vibrance","warmth","filter","mirror","flip","rotate","crop"];Wa=Ba("format/auto","progressive/yes"),er=([t])=>typeof t<"u"?Number(t):void 0,Hg=()=>!0,u2=([t,e])=>({name:t,amount:typeof e<"u"?Number(e):100}),d2=([t,e])=>{if(!/\d+x\d+/.test(t)||!/\d+,\d+/.test(e))throw new Error("Crop by aspect ratio, percentage or alignment shortcuts is not supported.");return{dimensions:me(t,"x").map(Number),coords:me(e).map(Number)}},h2=Object.freeze({enhance:er,brightness:er,exposure:er,gamma:er,contrast:er,saturation:er,vibrance:er,warmth:er,filter:u2,mirror:Hg,flip:Hg,rotate:er,crop:d2})});var Y,ze,Kg,Xg,qg,Tt,tr=v(()=>{Yi();Y=Object.freeze({CROP:"crop",TUNING:"tuning",FILTERS:"filters"}),ze=[Y.CROP,Y.TUNING,Y.FILTERS],Kg=["brightness","exposure","gamma","contrast","saturation","vibrance","warmth","enhance"],Xg=["adaris","briaril","calarel","carris","cynarel","cyren","elmet","elonni","enzana","erydark","fenralan","ferand","galen","gavin","gethriel","iorill","iothari","iselva","jadis","lavra","misiara","namala","nerion","nethari","pamaya","sarnar","sedis","sewen","sorahel","sorlen","tarian","thellassan","varriel","varven","vevera","virkas","yedis","yllara","zatvel","zevcen"],qg=["rotate","mirror","flip"],Tt=Object.freeze({brightness:{zero:qe.brightness,range:[-100,100],keypointsNumber:2},exposure:{zero:qe.exposure,range:[-500,500],keypointsNumber:2},gamma:{zero:qe.gamma,range:[0,1e3],keypointsNumber:2},contrast:{zero:qe.contrast,range:[-100,500],keypointsNumber:2},saturation:{zero:qe.saturation,range:[-100,500],keypointsNumber:1},vibrance:{zero:qe.vibrance,range:[-100,500],keypointsNumber:1},warmth:{zero:qe.warmth,range:[-100,100],keypointsNumber:1},enhance:{zero:qe.enhance,range:[0,100],keypointsNumber:1},filter:{zero:qe.filter,range:[0,100],keypointsNumber:1}})});var De,rr,It=v(()=>{De=t=>t?t.split(",").map(e=>e.trim()).filter(Boolean):[],rr=t=>t?t.join(","):""});var Eo,p2,f2,m2,yt,Zi=v(()=>{tr();It();Eo="https://ucarecdn.com",p2="https://upload.uploadcare.com",f2="https://social.uploadcare.com",m2="https://ucarecd.net",yt={pubkey:"",multiple:!0,multipleMin:0,multipleMax:Number.MAX_SAFE_INTEGER,confirmUpload:!1,imgOnly:!1,accept:"",externalSourcesPreferredTypes:"",externalSourcesEmbedCss:"",store:"auto",cameraMirror:!1,cameraCapture:"",sourceList:"local, url, camera, dropbox, gdrive",topLevelOrigin:"",cloudImageEditorTabs:rr(ze),maxLocalFileSizeBytes:0,thumbSize:76,showEmptyList:!1,useLocalImageEditor:!1,useCloudImageEditor:!0,removeCopyright:!1,cropPreset:"",imageShrink:"",modalScrollLock:!0,modalBackdropStrokes:!1,sourceListWrap:!0,remoteTabSessionKey:"",cdnCname:Eo,cdnCnamePrefixed:m2,baseUrl:p2,socialBaseUrl:f2,secureSignature:"",secureExpire:"",secureDeliveryProxy:"",retryThrottledRequestMaxTimes:10,retryNetworkErrorMaxTimes:3,multipartMinFileSize:26214400,multipartChunkSize:5242880,maxConcurrentRequests:10,multipartMaxConcurrentRequests:4,multipartMaxAttempts:3,checkForUrlDuplicates:!1,saveUrlForRecurrentUploads:!1,groupOutput:!1,userAgentIntegration:"",debug:!1,metadata:null,localeName:"en",localeDefinitionOverride:null,secureUploadsExpireThreshold:10*60*1e3,secureUploadsSignatureResolver:null,secureDeliveryProxyUrlResolver:null,iconHrefResolver:null,fileValidators:[],collectionValidators:[],cameraModes:"photo, video",defaultCameraMode:null,enableAudioRecording:!0,enableVideoRecording:null,maxVideoRecordingDuration:null,mediaRecorderOptions:null,filesViewMode:"list",gridShowFileNames:!1,cloudImageEditorAutoOpen:!1,cloudImageEditorMaskHref:null,testMode:!1}});var B,Ga,ir=v(()=>{B=Object.freeze({FILE_ADDED:"file-added",FILE_REMOVED:"file-removed",FILE_UPLOAD_START:"file-upload-start",FILE_UPLOAD_PROGRESS:"file-upload-progress",FILE_UPLOAD_SUCCESS:"file-upload-success",FILE_UPLOAD_FAILED:"file-upload-failed",FILE_URL_CHANGED:"file-url-changed",MODAL_OPEN:"modal-open",MODAL_CLOSE:"modal-close",DONE_CLICK:"done-click",UPLOAD_CLICK:"upload-click",ACTIVITY_CHANGE:"activity-change",COMMON_UPLOAD_START:"common-upload-start",COMMON_UPLOAD_PROGRESS:"common-upload-progress",COMMON_UPLOAD_SUCCESS:"common-upload-success",COMMON_UPLOAD_FAILED:"common-upload-failed",CHANGE:"change",GROUP_CREATED:"group-created"}),Ga=class{_timeoutStore=new Map;_targets=new Set;_debugPrint=null;constructor(e){this._debugPrint=e}bindTarget(e){this._targets.add(e)}unbindTarget(e){this._targets.delete(e)}_dispatch(e,r){for(let i of this._targets)i.dispatchEvent(new CustomEvent(e,{detail:r}));this._debugPrint?.(()=>{let i=r&&typeof r=="object"?{...r}:r;return[`event "${e}"`,i]})}emit(e,r,{debounce:i}={}){if(typeof i!="number"&&!i){this._dispatch(e,typeof r=="function"?r():r);return}this._timeoutStore.has(e)&&window.clearTimeout(this._timeoutStore.get(e));let n=typeof i=="number"?i:20,o=window.setTimeout(()=>{this._dispatch(e,typeof r=="function"?r():r),this._timeoutStore.delete(e)},n);this._timeoutStore.set(e,o)}}});function K(t,e){let r,i=(...n)=>{clearTimeout(r),r=setTimeout(()=>t(...n),e)};return i.cancel=()=>{clearTimeout(r)},i}var Ye=v(()=>{});var Yg,So,Zg=v(()=>{Ye();Yg="--uploadcare-blocks-window-height",So=class{static clientsRegistry=new Set;static flush=K(()=>{document.documentElement.style.setProperty(Yg,`${window.innerHeight}px`)},100);static registerClient(e){this.clientsRegistry.size===0&&this.attachTracker(),this.clientsRegistry.add(e)}static unregisterClient(e){this.clientsRegistry.delete(e),this.clientsRegistry.size===0&&this.detachTracker()}static attachTracker(){window.addEventListener("resize",this.flush,{passive:!0,capture:!0}),this.flush()}static detachTracker(){window.removeEventListener("resize",this.flush,{capture:!0}),document.documentElement.style.removeProperty(Yg)}}});var Qg,Jg=v(()=>{Qg=t=>{let e=new Intl.Locale(t),r="ltr";return typeof e.getTextInfo=="function"&&e.getTextInfo().direction?r=e.getTextInfo().direction:"textInfo"in e&&e.textInfo?.direction&&(r=e.textInfo.direction),r}});var Ka,bd=v(()=>{Ka=(t,e)=>new Intl.PluralRules(t).select(e)});function Ao(t,e,r={}){let{openToken:i=_d,closeToken:n=t0,transform:o=g2}=r;for(let s in e){let a=e[s]?.toString();t=t.replaceAll(i+s+n,typeof a=="string"?o(a):a)}return t}function r0(t){let e=[],r=t.indexOf(_d);for(;r!==-1;){let i=t.indexOf(t0,r),n=t.substring(r+2,i);if(n.startsWith(e0)){let o=t.substring(r+2,i).replace(e0,""),s=o.substring(0,o.indexOf("(")),a=o.substring(o.indexOf("(")+1,o.indexOf(")"));e.push({variable:n,pluralKey:s,countVariable:a})}r=t.indexOf(_d,i)}return e}var g2,_d,t0,e0,wd=v(()=>{g2=t=>t,_d="{{",t0="}}",e0="plural:"});var i0,n0=v(()=>{i0=({element:t,attribute:e,onSuccess:r,onTimeout:i,timeout:n=300})=>{let o=t.getAttribute(e);if(o!==null){r(o);return}let s=new MutationObserver(c=>{let u=c[c.length-1];l(u)});s.observe(t,{attributes:!0,attributeFilter:[e]});let a=setTimeout(()=>{s.disconnect(),i()},n),l=c=>{let u=t.getAttribute(e);c.type==="attributes"&&c.attributeName===e&&u!==null&&(clearTimeout(a),s.disconnect(),r(u))}}});function o0(t){return Object.prototype.toString.call(t)==="[object Object]"}function y2(t){return t.split(v2).map((e,r)=>e.charAt(0)[r>0?"toUpperCase":"toLowerCase"]()+e.slice(1)).join("")}function s0(t,{ignoreKeys:e}={ignoreKeys:[]}){return Array.isArray(t)?t.map(r=>sr(r,{ignoreKeys:e})):t}function sr(t,{ignoreKeys:e}={ignoreKeys:[]}){if(Array.isArray(t))return s0(t,{ignoreKeys:e});if(!o0(t))return t;let r={};for(let i of Object.keys(t)){let n=t[i];if(e.includes(i)){r[i]=n;continue}o0(n)?n=sr(n,{ignoreKeys:e}):Array.isArray(n)&&(n=s0(n,{ignoreKeys:e})),r[y2(i)]=n}return r}function Td({libraryName:t,libraryVersion:e,userAgent:r,publicKey:i="",integration:n=""}){let o="JavaScript";if(typeof r=="string")return r;if(typeof r=="function")return r({publicKey:i,libraryName:t,libraryVersion:e,languageName:o,integration:n});let s=[t,e,i].filter(Boolean).join("/"),a=[o,n].filter(Boolean).join("; ");return`${s} (${a})`}function w2(t,e=_2){let r=0;function i(n){let o=Math.round(e.time*e.factor**r);return n({attempt:r,retry:a=>b2(a??o).then(()=>(r+=1,i(n)))})}return i(t)}function k2(t,...e){return t}function d0(t,e,r){if(Array.isArray(r))for(let i of r)d0(t,`${e}[]`,i);else if(I2(r)){let{name:i,contentType:n}=r,o=E2(r.data,i,n??Ya),s=C2({name:i,contentType:n});t.push([e,o,...s])}else if(T2(r))for(let[i,n]of Object.entries(r))typeof n<"u"&&t.push([`${e}[${i}]`,String(n)]);else A2(r)&&r&&t.push([e,r.toString()])}function O2(t){let e=[];for(let[r,i]of Object.entries(t))d0(e,r,i);return e}function el(t){let e=S2(),r=O2(t);for(let i of r){let[n,o,...s]=i;e.append(n,o,...s)}return e}function ai(t){return Td({libraryName:P2,libraryVersion:$2,...t})}function z2(t){let{headers:e}=t||{};if(!e||typeof e["retry-after"]!="string")return a0;let r=parseInt(e["retry-after"],10);return Number.isFinite(r)?r*1e3:a0}function Ur(t,e){let{retryThrottledRequestMaxTimes:r,retryNetworkErrorMaxTimes:i}=e;return w2(({attempt:n,retry:o})=>t().catch(s=>{if("response"in s&&s?.code===U2&&n<r)return o(z2(s));if(s instanceof Qi&&n<i)return o((n+1)*R2);throw s}))}function Id(t){return typeof t>"u"||t==="auto"?"auto":t?"1":"0"}function D2(t,{publicKey:e,fileName:r,contentType:i,baseURL:n=R.baseURL,secureSignature:o,secureExpire:s,store:a,signal:l,onProgress:c,source:u="local",integration:d,userAgent:h,retryThrottledRequestMaxTimes:g=R.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:y=R.retryNetworkErrorMaxTimes,metadata:b}){return Ur(()=>$r({method:"POST",url:nr(n,"/base/",{jsonerrors:1}),headers:{"X-UC-User-Agent":ai({publicKey:e,integration:d,userAgent:h})},data:el({file:{data:t,name:r||p0(t),contentType:i||h0(t)},UPLOADCARE_PUB_KEY:e,UPLOADCARE_STORE:Id(a),signature:o,expire:s,source:u,metadata:b}),signal:l,onProgress:c}).then(({data:S,headers:f,request:p})=>{let m=sr(JSON.parse(S));if("error"in m)throw new Te(m.error.content,m.error.errorCode,p,m,f);return m}),{retryNetworkErrorMaxTimes:y,retryThrottledRequestMaxTimes:g})}function N2(t,{publicKey:e,baseURL:r=R.baseURL,store:i,fileName:n,checkForUrlDuplicates:o,saveUrlForRecurrentUploads:s,secureSignature:a,secureExpire:l,source:c="url",signal:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:g=R.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:y=R.retryNetworkErrorMaxTimes,metadata:b}){return Ur(()=>$r({method:"POST",headers:{"X-UC-User-Agent":ai({publicKey:e,integration:d,userAgent:h})},url:nr(r,"/from_url/",{jsonerrors:1,pub_key:e,source_url:t,store:Id(i),filename:n,check_URL_duplicates:o?1:void 0,save_URL_duplicates:s?1:void 0,signature:a,expire:l,source:c,metadata:b}),signal:u}).then(({data:S,headers:f,request:p})=>{let m=sr(JSON.parse(S));if("error"in m)throw new Te(m.error.content,m.error.errorCode,p,m,f);return m}),{retryNetworkErrorMaxTimes:y,retryThrottledRequestMaxTimes:g})}function V2(t,{publicKey:e,baseURL:r=R.baseURL,signal:i,integration:n,userAgent:o,retryThrottledRequestMaxTimes:s=R.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:a=R.retryNetworkErrorMaxTimes}={}){return Ur(()=>$r({method:"GET",headers:e?{"X-UC-User-Agent":ai({publicKey:e,integration:n,userAgent:o})}:void 0,url:nr(r,"/from_url/status/",{jsonerrors:1,token:t}),signal:i}).then(({data:l,headers:c,request:u})=>{let d=sr(JSON.parse(l));if("error"in d&&!F2(d))throw new Te(d.error.content,d.error.errorCode,u,d,c);return d}),{retryNetworkErrorMaxTimes:a,retryThrottledRequestMaxTimes:s})}function B2(t,{publicKey:e,baseURL:r=R.baseURL,jsonpCallback:i,secureSignature:n,secureExpire:o,signal:s,source:a,integration:l,userAgent:c,retryThrottledRequestMaxTimes:u=R.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:d=R.retryNetworkErrorMaxTimes}){return Ur(()=>$r({method:"POST",headers:{"X-UC-User-Agent":ai({publicKey:e,integration:l,userAgent:c})},url:nr(r,"/group/",{jsonerrors:1}),data:el({files:t,callback:i,pub_key:e,signature:n,expire:o,source:a}),signal:s}).then(({data:h,headers:g,request:y})=>{let b=sr(JSON.parse(h));if("error"in b)throw new Te(b.error.content,b.error.errorCode,y,b,g);return b}),{retryNetworkErrorMaxTimes:d,retryThrottledRequestMaxTimes:u})}function f0(t,{publicKey:e,baseURL:r=R.baseURL,signal:i,source:n,integration:o,userAgent:s,retryThrottledRequestMaxTimes:a=R.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:l=R.retryNetworkErrorMaxTimes}){return Ur(()=>$r({method:"GET",headers:{"X-UC-User-Agent":ai({publicKey:e,integration:o,userAgent:s})},url:nr(r,"/info/",{jsonerrors:1,pub_key:e,file_id:t,source:n}),signal:i}).then(({data:c,headers:u,request:d})=>{let h=sr(JSON.parse(c));if("error"in h)throw new Te(h.error.content,h.error.errorCode,d,h,u);return h}),{retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:l})}function j2(t,{publicKey:e,contentType:r,fileName:i,multipartChunkSize:n=R.multipartChunkSize,baseURL:o="",secureSignature:s,secureExpire:a,store:l,signal:c,source:u="local",integration:d,userAgent:h,retryThrottledRequestMaxTimes:g=R.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:y=R.retryNetworkErrorMaxTimes,metadata:b}){return Ur(()=>$r({method:"POST",url:nr(o,"/multipart/start/",{jsonerrors:1}),headers:{"X-UC-User-Agent":ai({publicKey:e,integration:d,userAgent:h})},data:el({filename:i||c0,size:t,content_type:r||Ya,part_size:n,UPLOADCARE_STORE:Id(l),UPLOADCARE_PUB_KEY:e,signature:s,expire:a,source:u,metadata:b}),signal:c}).then(({data:S,headers:f,request:p})=>{let m=sr(JSON.parse(S));if("error"in m)throw new Te(m.error.content,m.error.errorCode,p,m,f);return m.parts=Object.keys(m.parts).map(_=>m.parts[Number(_)]),m}),{retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y})}function H2(t,e,{contentType:r,signal:i,onProgress:n,retryThrottledRequestMaxTimes:o=R.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:s=R.retryNetworkErrorMaxTimes}){return Ur(()=>$r({method:"PUT",url:e,data:t,onProgress:n,signal:i,headers:{"Content-Type":r||Ya}}).then(a=>(n&&n({isComputable:!0,value:1}),a)).then(({status:a})=>({code:a})),{retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:s})}function W2(t,{publicKey:e,baseURL:r=R.baseURL,source:i="local",signal:n,integration:o,userAgent:s,retryThrottledRequestMaxTimes:a=R.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:l=R.retryNetworkErrorMaxTimes}){return Ur(()=>$r({method:"POST",url:nr(r,"/multipart/complete/",{jsonerrors:1}),headers:{"X-UC-User-Agent":ai({publicKey:e,integration:o,userAgent:s})},data:el({uuid:t,UPLOADCARE_PUB_KEY:e,source:i}),signal:n}).then(({data:c,headers:u,request:d})=>{let h=sr(JSON.parse(c));if("error"in h)throw new Te(h.error.content,h.error.errorCode,d,h,u);return h}),{retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:l})}function Od(t,{publicKey:e,baseURL:r,source:i,integration:n,userAgent:o,retryThrottledRequestMaxTimes:s,retryNetworkErrorMaxTimes:a,signal:l,onProgress:c}){return l0({check:u=>f0(t,{publicKey:e,baseURL:r,signal:u,source:i,integration:n,userAgent:o,retryThrottledRequestMaxTimes:s,retryNetworkErrorMaxTimes:a}).then(d=>d.isReady?d:(c&&c({isComputable:!0,value:1}),!1)),signal:l})}function G2(t){return"defaultEffects"in t}function J2({token:t,publicKey:e,baseURL:r,integration:i,userAgent:n,retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:s,onProgress:a,signal:l}){return l0({check:c=>V2(t,{publicKey:e,baseURL:r,integration:i,userAgent:n,retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:s,signal:c}).then(u=>{switch(u.status){case Ne.Error:return new Te(u.error,u.errorCode);case Ne.Waiting:return!1;case Ne.Unknown:return new Te(`Token "${t}" was not found.`);case Ne.Progress:return a&&(u.total==="unknown"?a({isComputable:!1}):a({isComputable:!0,value:u.done/u.total})),!1;case Ne.Success:return a&&a({isComputable:!0,value:u.done/u.total}),u;default:throw new Error("Unknown status")}}),signal:l})}async function Pd(t,{publicKey:e,fileName:r,baseURL:i=R.baseURL,secureSignature:n,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:h,retryNetworkErrorMaxTimes:g,contentType:y,multipartMinFileSize:b,multipartChunkSize:S,maxConcurrentRequests:f,baseCDN:p=R.baseCDN,checkForUrlDuplicates:m,saveUrlForRecurrentUploads:_,pusherKey:k,metadata:T}){if(Ji(t)){let C=await m0(t);return i5(C,b)?l5(t,{publicKey:e,contentType:y,multipartChunkSize:S,fileSize:C,fileName:r,baseURL:i,secureSignature:n,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,maxConcurrentRequests:f,retryThrottledRequestMaxTimes:h,retryNetworkErrorMaxTimes:g,baseCDN:p,metadata:T}):K2(t,{publicKey:e,fileName:r,contentType:y,baseURL:i,secureSignature:n,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:h,retryNetworkErrorMaxTimes:g,baseCDN:p,metadata:T})}if(Md(t))return t5(t,{publicKey:e,fileName:r,baseURL:i,baseCDN:p,checkForUrlDuplicates:m,saveUrlForRecurrentUploads:_,secureSignature:n,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:h,retryNetworkErrorMaxTimes:g,pusherKey:k,metadata:T});if(g0(t))return X2(t,{publicKey:e,fileName:r,baseURL:i,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:h,retryNetworkErrorMaxTimes:g,baseCDN:p});throw new TypeError(`File uploading from "${t}" is not supported`)}function v0(t,{publicKey:e,fileName:r,baseURL:i=R.baseURL,secureSignature:n,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:h,retryNetworkErrorMaxTimes:g,contentType:y,multipartChunkSize:b=R.multipartChunkSize,baseCDN:S=R.baseCDN,checkForUrlDuplicates:f,saveUrlForRecurrentUploads:p,jsonpCallback:m}){if(!c5(t)&&!d5(t)&&!u5(t))throw new TypeError(`Group uploading from "${t}" is not supported`);let _,k=!0,T=t.length,C=(A,N)=>{if(!l)return;_||(_=Array(A).fill(0));let O=ce=>ce.reduce((In,Yy)=>In+Yy)/A;return ce=>{if(!ce.isComputable||!k){k=!1,l({isComputable:!1});return}_[N]=ce.value,l({isComputable:!0,value:O(_)})}};return Promise.all(t.map((A,N)=>Ji(A)||Md(A)?Pd(A,{publicKey:e,fileName:r,baseURL:i,secureSignature:n,secureExpire:o,store:s,signal:a,onProgress:C(T,N),source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:h,retryNetworkErrorMaxTimes:g,contentType:y,multipartChunkSize:b,baseCDN:S,checkForUrlDuplicates:f,saveUrlForRecurrentUploads:p}).then(O=>O.uuid):A)).then(A=>B2(A,{publicKey:e,baseURL:i,jsonpCallback:m,secureSignature:n,secureExpire:o,signal:a,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:h,retryNetworkErrorMaxTimes:g}).then(N=>new Ad(N,{baseCDN:S})).then(N=>(l&&l({isComputable:!0,value:1}),N)))}var v2,b2,_2,si,Qi,qa,Pr,x2,l0,R,Ya,c0,$r,C2,E2,S2,u0,Za,Qa,Ja,Ji,A2,T2,I2,Te,L2,nr,M2,P2,$2,U2,a0,R2,h0,p0,Cd,Ne,F2,or,K2,X2,q2,Y2,Ed,Z2,Sd,xd,Ld,Q2,e5,t5,kd,r5,m0,i5,g0,Md,n5,o5,s5,a5,l5,Ad,c5,u5,d5,Xa,li=v(()=>{v2=/\W|_/g;b2=t=>new Promise(e=>setTimeout(e,t));_2={factor:2,time:100};si=class extends Error{},Qi=class t extends si{originalProgressEvent;constructor(e){super(),this.name="NetworkError",this.message="Network error",Object.setPrototypeOf(this,t.prototype),this.originalProgressEvent=e}},qa=(t,e)=>{t&&(t.aborted?Promise.resolve().then(e):t.addEventListener("abort",()=>e(),{once:!0}))},Pr=class t extends si{isCancel=!0;constructor(e="Request canceled"){super(e),this.name="CancelError",Object.setPrototypeOf(this,t.prototype)}},x2=500,l0=({check:t,interval:e=x2,timeout:r,signal:i})=>new Promise((n,o)=>{let s,a;qa(i,()=>{s&&clearTimeout(s),o(new Pr("Poll cancelled"))}),r&&(a=setTimeout(()=>{s&&clearTimeout(s),o(new Pr("Timed out"))},r));let l=()=>{try{Promise.resolve(t(i)).then(c=>{c?(a&&clearTimeout(a),n(c)):s=setTimeout(l,e)}).catch(c=>{a&&clearTimeout(a),o(c)})}catch(c){a&&clearTimeout(a),o(c)}};s=setTimeout(l,0)}),R={baseCDN:"https://ucarecdn.com",baseURL:"https://upload.uploadcare.com",maxContentLength:50*1024*1024,retryThrottledRequestMaxTimes:1,retryNetworkErrorMaxTimes:3,multipartMinFileSize:25*1024*1024,multipartChunkSize:5*1024*1024,multipartMinLastPartSize:1024*1024,maxConcurrentRequests:4,pollingTimeoutMilliseconds:1e4,pusherKey:"79ae88bd931ea68464d9"},Ya="application/octet-stream",c0="original",$r=({method:t,url:e,data:r,headers:i={},signal:n,onProgress:o})=>new Promise((s,a)=>{let l=new XMLHttpRequest,c=t?.toUpperCase()||"GET",u=!1;l.open(c,e,!0),i&&Object.entries(i).forEach(d=>{let[h,g]=d;typeof g<"u"&&!Array.isArray(g)&&l.setRequestHeader(h,g)}),l.responseType="text",qa(n,()=>{u=!0,l.abort(),a(new Pr)}),l.onload=()=>{if(l.status!=200)a(new Error(`Error ${l.status}: ${l.statusText}`));else{let d={method:c,url:e,data:r,headers:i||void 0,signal:n,onProgress:o},h=l.getAllResponseHeaders().trim().split(/[\r\n]+/),g={};h.forEach(function(S){let f=S.split(": "),p=f.shift(),m=f.join(": ");p&&typeof p<"u"&&(g[p]=m)});let y=l.response,b=l.status;s({request:d,data:y,headers:g,status:b})}},l.onerror=d=>{u||a(new Qi(d))},o&&typeof o=="function"&&(l.upload.onprogress=d=>{d.lengthComputable?o({isComputable:!0,value:d.loaded/d.total}):o({isComputable:!1})}),r?l.send(r):l.send()});C2=({name:t})=>t?[t]:[],E2=k2,S2=()=>new FormData,u0=t=>!1,Za=t=>typeof Blob<"u"&&t instanceof Blob,Qa=t=>typeof File<"u"&&t instanceof File,Ja=t=>!!t&&typeof t=="object"&&!Array.isArray(t)&&"uri"in t&&typeof t.uri=="string",Ji=t=>Za(t)||Qa(t)||u0()||Ja(t),A2=t=>typeof t=="string"||typeof t=="number"||typeof t>"u",T2=t=>!!t&&typeof t=="object"&&!Array.isArray(t),I2=t=>!!t&&typeof t=="object"&&"data"in t&&Ji(t.data);Te=class t extends si{code;request;response;headers;constructor(e,r,i,n,o){super(),this.name="UploadError",this.message=e,this.code=r,this.request=i,this.response=n,this.headers=o,Object.setPrototypeOf(this,t.prototype)}},L2=t=>{let e=new URLSearchParams;for(let[r,i]of Object.entries(t))i&&typeof i=="object"&&!Array.isArray(i)?Object.entries(i).filter(n=>n[1]??!1).forEach(n=>e.set(`${r}[${n[0]}]`,String(n[1]))):Array.isArray(i)?i.forEach(n=>{e.append(`${r}[]`,n)}):typeof i=="string"&&i?e.set(r,i):typeof i=="number"&&e.set(r,i.toString());return e.toString()},nr=(t,e,r)=>{let i=new URL(t);return i.pathname=(i.pathname+e).replace("//","/"),r&&(i.search=L2(r)),i.toString()},M2="6.17.0",P2="UploadcareUploadClient",$2=M2;U2="RequestThrottledError",a0=15e3,R2=1e3;h0=t=>{let e="";return(Za(t)||Qa(t)||Ja(t))&&(e=t.type),e||Ya},p0=t=>{let e="";return Qa(t)&&t.name?e=t.name:Za(t)||u0()?e="":Ja(t)&&t.name&&(e=t.name),e||c0};(function(t){t.Token="token",t.FileInfo="file_info"})(Cd||(Cd={}));(function(t){t.Unknown="unknown",t.Waiting="waiting",t.Progress="progress",t.Error="error",t.Success="success"})(Ne||(Ne={}));F2=t=>"status"in t&&t.status===Ne.Error;or=class{uuid;name;size;isStored;isImage;mimeType;cdnUrl;s3Url;originalFilename;imageInfo;videoInfo;contentInfo;metadata;s3Bucket;defaultEffects=null;constructor(e,{baseCDN:r=R.baseCDN,fileName:i}={}){let{uuid:n,s3Bucket:o}=e,s=nr(r,`${n}/`),a=o?nr(`https://${o}.s3.amazonaws.com/`,`${n}/${e.filename}`):null;this.uuid=n,this.name=i||e.filename,this.size=e.size,this.isStored=e.isStored,this.isImage=e.isImage,this.mimeType=e.mimeType,this.cdnUrl=s,this.originalFilename=e.originalFilename,this.imageInfo=e.imageInfo,this.videoInfo=e.videoInfo,this.contentInfo=e.contentInfo,this.metadata=e.metadata||null,this.s3Bucket=o||null,this.s3Url=a,G2(e)&&(this.defaultEffects=e.defaultEffects)}},K2=(t,{publicKey:e,fileName:r,baseURL:i,secureSignature:n,secureExpire:o,store:s,contentType:a,signal:l,onProgress:c,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,baseCDN:b,metadata:S})=>D2(t,{publicKey:e,fileName:r,contentType:a,baseURL:i,secureSignature:n,secureExpire:o,store:s,signal:l,onProgress:c,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,metadata:S}).then(({file:f})=>Od(f,{publicKey:e,baseURL:i,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,onProgress:c,signal:l})).then(f=>new or(f,{baseCDN:b})),X2=(t,{publicKey:e,fileName:r,baseURL:i,signal:n,onProgress:o,source:s,integration:a,userAgent:l,retryThrottledRequestMaxTimes:c,retryNetworkErrorMaxTimes:u,baseCDN:d})=>f0(t,{publicKey:e,baseURL:i,signal:n,source:s,integration:a,userAgent:l,retryThrottledRequestMaxTimes:c,retryNetworkErrorMaxTimes:u}).then(h=>new or(h,{baseCDN:d,fileName:r})).then(h=>(o&&o({isComputable:!0,value:1}),h)),q2=(t,{signal:e}={})=>{let r=null,i=null,n=t.map(()=>new AbortController),o=s=>()=>{i=s,n.forEach((a,l)=>l!==s&&a.abort())};return qa(e,()=>{n.forEach(s=>s.abort())}),Promise.all(t.map((s,a)=>{let l=o(a);return Promise.resolve().then(()=>s({stopRace:l,signal:n[a].signal})).then(c=>(l(),c)).catch(c=>(r=c,null))})).then(s=>{if(i===null)throw r;return s[i]})},Y2=window.WebSocket,Ed=class{events=Object.create({});emit(e,r){this.events[e]?.forEach(i=>i(r))}on(e,r){this.events[e]=this.events[e]||[],this.events[e].push(r)}off(e,r){r?this.events[e]=this.events[e].filter(i=>i!==r):this.events[e]=[]}},Z2=(t,e)=>t==="success"?{status:Ne.Success,...e}:t==="progress"?{status:Ne.Progress,...e}:{status:Ne.Error,...e},Sd=class{key;disconnectTime;ws=void 0;queue=[];isConnected=!1;subscribers=0;emmitter=new Ed;disconnectTimeoutId=null;constructor(e,r=3e4){this.key=e,this.disconnectTime=r}connect(){if(this.disconnectTimeoutId&&clearTimeout(this.disconnectTimeoutId),!this.isConnected&&!this.ws){let e=`wss://ws.pusherapp.com/app/${this.key}?protocol=5&client=js&version=1.12.2`;this.ws=new Y2(e),this.ws.addEventListener("error",r=>{this.emmitter.emit("error",new Error(r.message))}),this.emmitter.on("connected",()=>{this.isConnected=!0,this.queue.forEach(r=>this.send(r.event,r.data)),this.queue=[]}),this.ws.addEventListener("message",r=>{let i=JSON.parse(r.data.toString());switch(i.event){case"pusher:connection_established":{this.emmitter.emit("connected",void 0);break}case"pusher:ping":{this.send("pusher:pong",{});break}case"progress":case"success":case"fail":this.emmitter.emit(i.channel,Z2(i.event,JSON.parse(i.data)))}})}}disconnect(){let e=()=>{this.ws?.close(),this.ws=void 0,this.isConnected=!1};this.disconnectTime?this.disconnectTimeoutId=setTimeout(()=>{e()},this.disconnectTime):e()}send(e,r){let i=JSON.stringify({event:e,data:r});this.ws?.send(i)}subscribe(e,r){this.subscribers+=1,this.connect();let i=`task-status-${e}`,n={event:"pusher:subscribe",data:{channel:i}};this.emmitter.on(i,r),this.isConnected?this.send(n.event,n.data):this.queue.push(n)}unsubscribe(e){this.subscribers-=1;let r=`task-status-${e}`,i={event:"pusher:unsubscribe",data:{channel:r}};this.emmitter.off(r),this.isConnected?this.send(i.event,i.data):this.queue=this.queue.filter(n=>n.data.channel!==r),this.subscribers===0&&this.disconnect()}onError(e){return this.emmitter.on("error",e),()=>this.emmitter.off("error",e)}},xd=null,Ld=t=>{if(!xd){let e=typeof window>"u"?0:3e4;xd=new Sd(t,e)}return xd},Q2=t=>{Ld(t).connect()};e5=({token:t,pusherKey:e,signal:r,onProgress:i})=>new Promise((n,o)=>{let s=Ld(e),a=s.onError(o),l=()=>{a(),s.unsubscribe(t)};qa(r,()=>{l(),o(new Pr("pusher cancelled"))}),s.subscribe(t,c=>{switch(c.status){case Ne.Progress:{i&&(c.total==="unknown"?i({isComputable:!1}):i({isComputable:!0,value:c.done/c.total}));break}case Ne.Success:{l(),i&&i({isComputable:!0,value:c.done/c.total}),n(c);break}case Ne.Error:l(),o(new Te(c.msg,c.error_code))}})}),t5=(t,{publicKey:e,fileName:r,baseURL:i,baseCDN:n,checkForUrlDuplicates:o,saveUrlForRecurrentUploads:s,secureSignature:a,secureExpire:l,store:c,signal:u,onProgress:d,source:h,integration:g,userAgent:y,retryThrottledRequestMaxTimes:b,pusherKey:S=R.pusherKey,metadata:f})=>Promise.resolve(Q2(S)).then(()=>N2(t,{publicKey:e,fileName:r,baseURL:i,checkForUrlDuplicates:o,saveUrlForRecurrentUploads:s,secureSignature:a,secureExpire:l,store:c,signal:u,source:h,integration:g,userAgent:y,retryThrottledRequestMaxTimes:b,metadata:f})).catch(p=>(Ld(S)?.disconnect(),Promise.reject(p))).then(p=>p.type===Cd.FileInfo?p:q2([({signal:m})=>J2({token:p.token,publicKey:e,baseURL:i,integration:g,userAgent:y,retryThrottledRequestMaxTimes:b,onProgress:d,signal:m}),({signal:m})=>e5({token:p.token,pusherKey:S,signal:m,onProgress:d})],{signal:u})).then(p=>{if(p instanceof Te)throw p;return p}).then(p=>Od(p.uuid,{publicKey:e,baseURL:i,integration:g,userAgent:y,retryThrottledRequestMaxTimes:b,onProgress:d,signal:u})).then(p=>new or(p,{baseCDN:n})),kd=new WeakMap,r5=async t=>{if(kd.has(t))return kd.get(t);let e=await fetch(t.uri).then(r=>r.blob());return kd.set(t,e),e},m0=async t=>{if(Qa(t)||Za(t))return t.size;if(Ja(t))return(await r5(t)).size;throw new Error("Unknown file type. Cannot determine file size.")},i5=(t,e=R.multipartMinFileSize)=>t>=e,g0=t=>{let e="[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}",r=new RegExp(e);return!Ji(t)&&r.test(t)},Md=t=>{let e="^(?:\\w+:)?\\/\\/([^\\s\\.]+\\.\\S{2}|localhost[\\:?\\d]*)\\S*$",r=new RegExp(e);return!Ji(t)&&r.test(t)},n5=(t,e)=>new Promise((r,i)=>{let n=[],o=!1,s=e.length,a=[...e],l=()=>{let c=e.length-a.length,u=a.shift();u&&u().then(d=>{o||(n[c]=d,s-=1,s?l():r(n))}).catch(d=>{o=!0,i(d)})};for(let c=0;c<t;c++)l()}),o5=(t,e,r,i)=>{let n=i*e,o=Math.min(n+i,r);return t.slice(n,o)},s5=async(t,e,r)=>i=>o5(t,i,e,r),a5=(t,e,{publicKey:r,contentType:i,onProgress:n,signal:o,integration:s,retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:l})=>H2(t,e,{publicKey:r,contentType:i,onProgress:n,signal:o,integration:s,retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:l}),l5=async(t,{publicKey:e,fileName:r,fileSize:i,baseURL:n,secureSignature:o,secureExpire:s,store:a,signal:l,onProgress:c,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,contentType:b,multipartChunkSize:S=R.multipartChunkSize,maxConcurrentRequests:f=R.maxConcurrentRequests,baseCDN:p,metadata:m})=>{let _=i??await m0(t),k,T=(C,A)=>{if(!c)return;k||(k=Array(C).fill(0));let N=O=>O.reduce((ce,In)=>ce+In,0);return O=>{O.isComputable&&(k[A]=O.value,c({isComputable:!0,value:N(k)/C}))}};return b||=h0(t),j2(_,{publicKey:e,contentType:b,fileName:r||p0(t),baseURL:n,secureSignature:o,secureExpire:s,store:a,signal:l,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,metadata:m,multipartChunkSize:S}).then(async({uuid:C,parts:A})=>{let N=await s5(t,_,S);return Promise.all([C,n5(f,A.map((O,ce)=>()=>a5(N(ce),O,{publicKey:e,contentType:b,onProgress:T(A.length,ce),signal:l,integration:d,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y})))])}).then(([C])=>W2(C,{publicKey:e,baseURL:n,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y})).then(C=>C.isReady?C:Od(C.uuid,{publicKey:e,baseURL:n,source:u,integration:d,userAgent:h,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,onProgress:c,signal:l})).then(C=>new or(C,{baseCDN:p}))};Ad=class{uuid;filesCount;totalSize;isStored;isImage;cdnUrl;files;createdAt;storedAt=null;constructor(e,{baseCDN:r=R.baseCDN}={}){this.uuid=e.id,this.filesCount=e.filesCount;let i=e.files.filter(Boolean);this.totalSize=Object.values(i).reduce((n,o)=>n+o.size,0),this.isStored=!!e.datetimeStored,this.isImage=!!Object.values(i).filter(n=>n.isImage).length,this.cdnUrl=e.cdnUrl,this.files=i.map(n=>new or(n,{baseCDN:r})),this.createdAt=e.datetimeCreated,this.storedAt=e.datetimeStored}},c5=t=>{for(let e of t)if(!Ji(e))return!1;return!0},u5=t=>{for(let e of t)if(!g0(e))return!1;return!0},d5=t=>{for(let e of t)if(!Md(e))return!1;return!0};Xa=class{_concurrency=1;_pending=[];_running=0;_resolvers=new Map;_rejectors=new Map;constructor(e){this._concurrency=e}_run(){let e=this._concurrency-this._running;for(let r=0;r<e;r++){let i=this._pending.shift();if(!i)return;let n=this._resolvers.get(i),o=this._rejectors.get(i);if(!n||!o)throw new Error("Unexpected behavior: resolver or rejector is undefined");this._running+=1,i().finally(()=>{this._resolvers.delete(i),this._rejectors.delete(i),this._running-=1,this._run()}).then(s=>n(s)).catch(s=>o(s))}}add(e){return new Promise((r,i)=>{this._resolvers.set(e,r),this._rejectors.set(e,i),this._pending.push(e),this._run()})}get pending(){return this._pending.length}get running(){return this._running}set concurrency(e){this._concurrency=e,this._run()}get concurrency(){return this._concurrency}}});var $d,Ud,tl,To=v(()=>{li();$d=()=>({}),Ud=t=>({...$d(),"*currentActivity":null,"*currentActivityParams":{},"*history":[],"*historyBack":null,"*closeModal":()=>{t.modalManager.close(t.$["*currentActivity"]),t.set$({"*currentActivity":null})}}),tl=t=>({...Ud(t),"*commonProgress":0,"*uploadList":[],"*uploadQueue":new Xa(1),"*collectionErrors":[],"*collectionState":null,"*groupInfo":null,"*uploadTrigger":new Set,"*secureUploadsManager":null})});var Io,Rd=v(()=>{Io={"locale-id":"en","social-source-lang":"en","upload-file":"Upload file","upload-files":"Upload files","choose-file":"Choose file","choose-files":"Choose files","drop-files-here":"Drop files here","select-file-source":"Select file source",selected:"Selected",upload:"Upload","add-more":"Add more",cancel:"Cancel","start-from-cancel":"Cancel",clear:"Clear","camera-shot":"Shot","upload-url":"Import","upload-url-placeholder":"Paste link here","edit-image":"Edit image","edit-detail":"Details",back:"Back",done:"Done",ok:"Ok","remove-from-list":"Remove",no:"No",yes:"Yes","confirm-your-action":"Confirm your action","are-you-sure":"Are you sure?","selected-count":"{{count}} of {{total}} selected","select-all":"Select all","deselect-all":"Deselect all","upload-error":"Upload error","validation-error":"Validation error","no-files":"No files selected",browse:"Browse","not-uploaded-yet":"Not uploaded yet...",file__one:"file",file__other:"files",error__one:"error",error__other:"errors","header-uploading":"Uploading {{count}} {{plural:file(count)}}","header-failed":"{{count}} {{plural:error(count)}}","header-succeed":"{{count}} {{plural:file(count)}} uploaded","header-total":"{{count}} {{plural:file(count)}} selected","src-type-local":"From device","src-type-from-url":"From link","src-type-camera":"Camera","src-type-mobile-video-camera":"Video","src-type-mobile-photo-camera":"Photo","src-type-draw":"Draw","src-type-facebook":"Facebook","src-type-dropbox":"Dropbox","src-type-gdrive":"Google Drive","src-type-ngdrive":"Google Drive","src-type-gphotos":"Google Photos","src-type-flickr":"Flickr","src-type-vk":"VK","src-type-evernote":"Evernote","src-type-box":"Box","src-type-onedrive":"Onedrive","src-type-huddle":"Huddle","src-type-other":"Other","caption-from-url":"Import from link","caption-camera":"Camera","caption-draw":"Draw","caption-edit-file":"Edit file","file-no-name":"No name...","toggle-fullscreen":"Toggle fullscreen","toggle-guides":"Toggle guides",rotate:"Rotate","flip-vertical":"Flip vertical","flip-horizontal":"Flip horizontal",apply:"Apply",brightness:"Brightness",contrast:"Contrast",saturation:"Saturation",exposure:"Exposure",gamma:"Gamma",vibrance:"Vibrance",warmth:"Warmth",enhance:"Enhance",original:"Original",resize:"Resize image",crop:"Crop","select-color":"Select color",text:"Text",draw:"Draw","cancel-edit":"Cancel edit","tab-view":"Preview","tab-details":"Details","file-name":"Name","file-size":"Size","cdn-url":"CDN URL","file-size-unknown":"Unknown","camera-permissions-denied":"Camera access denied","camera-permissions-prompt":"Please allow access to the camera","camera-permissions-request":"Request access","files-count-limit-error-title":"Files count limit overflow","files-count-limit-error-too-few":"You\u2019ve chosen {{total}} {{plural:file(total)}}. At least {{min}} {{plural:file(min)}} required.","files-count-limit-error-too-many":"You\u2019ve chosen too many files. {{max}} {{plural:file(max)}} is maximum.","files-max-size-limit-error":"File is too big. Max file size is {{maxFileSize}}.","has-validation-errors":"File validation error occurred. Please, check your files before upload.","images-only-accepted":"Only image files are accepted.","file-type-not-allowed":"Uploading of these file types is not allowed.","some-files-were-not-uploaded":"Some files were not uploaded.","file-item-edit-button":"Edit","file-item-remove-button":"Remove","a11y-editor-tab-filters":"Filters","a11y-editor-tab-tuning":"Tuning","a11y-editor-tab-crop":"Crop","a11y-activity-header-button-close":"Close",flip:"Flip",mirror:"Mirror","a11y-cloud-editor-apply-filter":"Apply {{name}} filter","a11y-cloud-editor-apply-crop":"Apply {{name}} operation","a11y-cloud-editor-apply-tuning":"Apply {{name}} tuning",finished:"Finished",failed:"Failed",uploading:"Uploading",idle:"Idle","a11y-file-item-status":"File {{fileName}} in status {{status}}","waiting-for":"Waiting for {{source}}",queued:"Queued"}});var rl,zd,y0,h5,Dd,b0,Nd=v(()=>{Rd();rl=new Map,zd=new Map,y0=(t,e)=>{rl.has(t)&&console.log(`Locale ${t} is already defined. Overwriting...`),rl.set(t,{...Io,...e})},h5=(t,e)=>{zd.set(t,e)},Dd=(t,e)=>{typeof e=="function"?h5(t,e):y0(t,e)},b0=async t=>{if(!rl.has(t)){if(!zd.has(t))throw new Error(`Locale ${t} is not defined`);let r=await zd.get(t)();y0(t,r)}return rl.get(t)};Dd("en",Io)});var bt,p5,il,Fd=v(()=>{Ye();Nd();Rd();bt=t=>`*l10n/${t}`,p5="en",il=class{_blockInstance=null;_localeName="";_callbacks=new Set;_boundBlocks=new Map;constructor(e){this._blockInstance=e;for(let[r,i]of Object.entries(Io)){let n=this._blockInstance.has(bt(r))?!this._blockInstance.$[bt(r)]:!0;this._blockInstance.add(bt(r),i,n)}setTimeout(()=>{e.subConfigValue("localeName",async r=>{if(!this._blockInstance||!r)return;this._localeName=r;let i=await b0(r);if(r!==p5&&this._localeName!==r)return;let n=this._blockInstance.cfg.localeDefinitionOverride?.[r];for(let[o,s]of Object.entries(i)){let a=n?.[o];this._blockInstance.add(bt(o),a??s,!0);for(let l of this._callbacks)l()}}),e.subConfigValue("localeDefinitionOverride",r=>{if(!r)return;let i=r[this._localeName];if(i)for(let[n,o]of Object.entries(i)){this._blockInstance?.add(bt(n),o,!0);for(let s of this._callbacks)s()}})})}onLocaleChange(e){let r=K(e,0);return this._callbacks.add(r),()=>{this._callbacks.delete(r)}}bindL10n(e,r,i){e.$[r]=i(),this._boundBlocks.has(e)||this._boundBlocks.set(e,new Map),this._boundBlocks.get(e)?.get(r)?.();let n=this.onLocaleChange(()=>{e.$[r]=i()});this._boundBlocks.get(e)?.set(r,n)}destroyL10nBindings(e){let r=this._boundBlocks.get(e);if(r){for(let i of r.values())i();this._boundBlocks.delete(e)}}destroy(){this._callbacks.clear()}}});function _0(t,e){[...t.querySelectorAll("[l10n]")].forEach(r=>{let i=r.getAttribute("l10n");if(!i)return;let n=i.split(";");for(let o of n)o&&f5(r,o,e)})}var f5,w0=v(()=>{Fd();f5=(t,e,r)=>{let i="textContent",n=!1;if(e.includes(":")){let a=e.split(":");i=a[0],e=a[1],i.startsWith("@")&&(i=i.slice(1),n=!0)}let o=e;r.has(o)&&r.sub(o,a=>{if(!a)return;r.l10nProcessorSubs.has(o)||r.l10nProcessorSubs.set(o,new Set);let l=r.l10nProcessorSubs.get(o);l?.forEach(d=>{d.remove(),l.delete(d),r.allSubs.delete(d)});let c=bt(a).replace("*","");r.nodeCtx.has(c)||r.nodeCtx.add(c,a);let u=r.nodeCtx.sub(c,()=>{t[i]=r.l10n(a)});l?.add(u),r.allSubs.add(u),t.removeAttribute("l10n")});let s=bt(e);r.has(s)||r.add(s,""),r.sub(s,()=>{e=e,n?t.setAttribute(i,r.l10n(e)):t[i]=r.l10n(e)}),t.removeAttribute("l10n")}});var Ie,Vd=v(()=>{Ie=t=>`*cfg/${t}`});var x0=v(()=>{});function Oo(t,e){e.tabIndex=0,e.focus(),t.tabIndex=-1}function Bd(t){let e=t.role||t.type||t.tagName;if(!e)return null;let r=m5[e.toLowerCase()];if(!r)return null;for(let i of r){let n=t.closest(`[role=${i}]`);if(n)return n}}function jd(t,e){return e.role==="toolbar"?g5(e):e.querySelectorAll(`[role=${t.role}]`)}function g5(t){return[...t.querySelectorAll("*")].filter(r=>r.role==="button"||r.type==="button"||r.role==="checkbox"||r.type==="checkbox")}function v5(t){let e=t.getAttribute("aria-orientation");if(e==="vertical")return!1;if(e==="horizontal")return!0;let r=t.role;return r==="menubar"||r==="tablist"||r==="toolbar"}function k0(t){return e=>{let r=!1,i=t?.searchDelayMs||300,n=0,o="";function s(d){let h=Bd(d.target);if(!h){a();return}let g=jd(d.target,h),y=Array.from(g).indexOf(d.target),b="ArrowDown",S="ArrowUp";if(v5(h)&&(e.document.dir==="rtl"?(b="ArrowLeft",S="ArrowRight"):(b="ArrowRight",S="ArrowLeft")),d.key===b)d.preventDefault(),Oo(d.target,g[y+1]||g[0]);else if(d.key===S)d.preventDefault(),Oo(d.target,g[y-1]||g[g.length-1]);else if(d.key==="Home")d.preventDefault(),Oo(d.target,g[0]);else if(d.key==="End")d.preventDefault(),Oo(d.target,g[g.length-1]);else if(d.key.length===1&&h.role!=="tablist"){let f=Date.now();f-n<=i?o+=d.key.toLowerCase():o=d.key.toLowerCase(),n=f;let p=Array.from(g).find(m=>m.textContent?.trim()?.toLowerCase()?.startsWith(o));p&&(d.preventDefault(),Oo(d.target,p))}}function a(){r=!1,e.removeEventListener("keydown",s)}function l(d){let h=Bd(d.target);if(h){r||(r=!0,e.addEventListener("keydown",s));let g=jd(d.target,h);for(let y of g)y!==d.target&&y.setAttribute("tabindex",-1)}else r&&a()}function c(d){(!d.relatedTarget||d.relatedTarget===e.document)&&a()}function u(d){let h=Bd(d.target);if(h){let g=jd(d.target,h);for(let y of g)y!==d.target&&y.setAttribute("tabindex",-1);d.target.setAttribute("tabindex",0)}}return e.addEventListener("click",u),e.addEventListener("focusin",l),e.addEventListener("focusout",c),()=>{a(),e.removeEventListener("click",u),e.removeEventListener("focusin",l),e.removeEventListener("focusout",c)}}}var m5,C0=v(()=>{m5={button:["toolbar"],checkbox:["toolbar"],menuitem:["menu","menubar"],option:["listbox"],tab:["tablist"]}});function E0(){return t=>{let e,r;function i(o){if(o.target.getAttribute("aria-hidden")==="true"){e=o.target,e.setAttribute("aria-hidden","false"),r=e.hidden,r&&(e.hidden=!1);let s=o.target.querySelector('a, button, select, textarea, input:not([type=radio]), [type=radio]:checked, [tabindex]:not([tabindex="-1"])');s&&(s.tabIndex=0)}}function n(o){e&&e.contains(o.target)&&(!o.relatedTarget||!e.contains(o.relatedTarget))&&(o.target.tabIndex=-1,e.setAttribute("aria-hidden","true"),r&&(e.hidden=!0),e=null)}return t.addEventListener("keyuxJump",i),t.addEventListener("focusout",n),()=>{t.removeEventListener("keyuxJump",i),t.removeEventListener("focusout",n)}}}var S0=v(()=>{});var A0=v(()=>{});function T0(){return t=>{let e=[];function r(l){let c=t.document.activeElement;c&&c!==t.document.body&&e.push(new WeakRef(c)),l.focus({focusVisible:!0})}function i(){let l=e.pop();if(!l){t.document.activeElement.blur();return}let c=l.deref();c&&c.isConnected?c.focus():i()}let n=0,o;function s(l){clearInterval(o);let c=l.getAttribute("aria-controls");o=setInterval(()=>{if(n++>50){clearInterval(o);return}let u=t.document.getElementById(c);if(u){let d=u.querySelector('a, button, select, textarea, input:not([type=radio]), [type=radio]:checked, [tabindex]:not([tabindex="-1"])');d&&(clearInterval(o),u.dispatchEvent(new t.CustomEvent("keyuxJump",{bubbles:!0})),r(d))}},50)}function a(l){l.target.getAttribute("aria-controls")&&l.key==="Enter"&&s(l.target),l.key==="Escape"&&i()}return t.addEventListener("keydown",a),()=>{t.removeEventListener("keydown",a)}}}var I0=v(()=>{});var O0=v(()=>{});function L0(t){let e,r=t.split(" "),i;function n(a){a.key==="Enter"&&(a.target.tagName==="BUTTON"||a.target.tagName==="A")&&(o(),a.target.classList.add(...r),e=a.target,i=a.target)}function o(){e&&e.classList.remove(...r),i=null}function s(a){a.clientX===0&&a.clientY===0&&i!==a.target&&(o(),a.target.classList.add(...r),e=a.target)}return a=>(a.addEventListener("click",s),a.addEventListener("keydown",n),a.addEventListener("keyup",o),()=>{a.removeEventListener("click",s),a.removeEventListener("keydown",n),a.removeEventListener("keyup",o)})}var M0=v(()=>{});function P0(t,e){let r=e.map(i=>i(t));return()=>{r.forEach(i=>i())}}var $0=v(()=>{x0();C0();S0();A0();I0();O0();M0()});var Hd,nl,U0=v(()=>{$0();Hd=class{_listeners=new Map;_scope=[];addEventListener(e,r){let i=n=>{let o=n.target;o&&this._scope.some(s=>s===n.target||s.contains(o))&&r(n)};this._listeners.set(r,i),window.addEventListener(e,i)}removeEventListener(e,r){let i=this._listeners.get(r);i&&window.removeEventListener(e,i),this._listeners.delete(r)}get CustomEvent(){return window.CustomEvent}get document(){return window.document}get navigator(){return window.navigator}registerScope(e){this._scope.push(e)}destroy(){this._scope=[],this._listeners.forEach((e,r)=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",e),this._listeners.delete(r)})}},nl=class{_destroyKeyUX;_scopedWindow;constructor(){this._scopedWindow=new Hd,this._destroyKeyUX=P0(this._scopedWindow,[k0(),L0("is-pressed"),T0(),E0()])}registerBlock(e){this._scopedWindow.registerScope(e)}destroy(){this._destroyKeyUX?.(),this._scopedWindow.destroy()}}});var oe,ol,Lo=v(()=>{oe=Object.freeze({ADD:"modal:add",DELETE:"modal:delete",OPEN:"modal:open",CLOSE:"modal:close",CLOSE_ALL:"modal:closeAll",DESTROY:"modal:destroy"}),ol=class{_modals=new Map;_activeModals=new Set;_subscribers=new Map;constructor(e){this._block=e}_debugPrint(...e){this._block.debugPrint("[modal-manager]",...e)}registerModal(e,r){this._modals.set(e,r),this._notify(oe.ADD,{id:e,modal:r})}deleteModal(e){if(!this._modals.has(e))return!1;let r=this._modals.get(e);return this._modals.delete(e),this._activeModals.delete(e),this._notify(oe.DELETE,{id:e,modal:r}),!0}open(e){if(!this._modals.has(e))return this._debugPrint(`Modal with ID "${e}" not found`),!1;let r=this._modals.get(e);return this._activeModals.add(e),this._notify(oe.OPEN,{modal:r,id:e}),!0}close(e){if(!this._modals.has(e)||!this._activeModals.has(e))return this._debugPrint(`Modal with ID "${e}" not found or not active`),!1;let r=this._modals.get(e);return this._activeModals.delete(e),this._notify(oe.CLOSE,{id:e,modal:r}),!0}toggle(e){return this._modals.has(e)?this._activeModals.has(e)?this.close(e):this.open(e):(this._debugPrint(`Modal with ID "${e}" not found`),!1)}get hasActiveModals(){return this._activeModals.size>0}back(){if(this._activeModals.size===0)return this._debugPrint("No active modals to go back from"),!1;let e=Array.from(this._activeModals).pop();return this.close(e)}closeAll(){let e=this._activeModals.size;return this._activeModals.clear(),this._notify(oe.CLOSE_ALL,{}),e}subscribe(e,r){return this._subscribers.has(e)||this._subscribers.set(e,new Set),this._subscribers.get(e)?.add(r),()=>this.unsubscribe(e,r)}unsubscribe(e,r){this._subscribers.has(e)&&this._subscribers.get(e)?.delete(r)}_notify(e,r){if(this._subscribers.has(e))for(let i of this._subscribers.get(e)??new Set)try{i(r)}catch(n){this._debugPrint("Error in modal subscriber:",n)}}destroy(){this.closeAll(),this._modals.clear(),this._subscribers.clear(),this._notify(oe.DESTROY,{})}}});function R0(t,e){let r=t.querySelectorAll("[data-testid]");if(r.length===0)return;let i=new WeakMap;for(let n of r){let o=n.getAttribute("data-testid");o&&i.set(n,o)}e.subConfigValue("testMode",n=>{if(!n){for(let s of r)s.removeAttribute("data-testid");return}let o=e.testId;for(let s of r){let a=i.get(s);a&&s.setAttribute("data-testid",`${o}--${a}`)}})}var z0=v(()=>{});var y5,I,ee=v(()=>{st();Zi();ir();Zg();At();Jg();bd();wd();n0();To();Fd();w0();Vd();U0();Lo();z0();y5="uc-",I=class extends Qt{static StateConsumerScope=null;static styleAttrs=[];requireCtxName=!1;activityType=null;init$=$d();l10n(e,r={}){if(!e)return"";let i=this.$[bt(e)]||e,n=r0(i);for(let s of n)r[s.variable]=this.pluralize(s.pluralKey,Number(r[s.countVariable]));return Ao(i,r)}pluralize(e,r){let i=this.l10n("locale-id")||"en",n=Ka(i,r);return this.l10n(`${e}__${n}`)}bindL10n(e,r){this.localeManager?.bindL10n(this,e,r)}constructor(){super(),this.l10nProcessorSubs=new Map,this.addTemplateProcessor(_0),this.addTemplateProcessor(R0)}emit(e,r,i){let n=this.has("*eventEmitter")&&this.$["*eventEmitter"];n&&n.emit(e,r,i)}hasBlockInCtx(e){for(let r of this.blocksRegistry)if(e(r))return!0;return!1}setOrAddState(e,r){this.add$({[e]:r},!0)}connectedCallback(){this.constructor.styleAttrs.forEach(r=>{this.setAttribute(r,"")}),this.hasAttribute("retpl")&&(this.constructor.template=null,this.processInnerHtml=!0),this.requireCtxName?i0({element:this,attribute:"ctx-name",onSuccess:()=>{super.connectedCallback()},onTimeout:()=>{console.error("Attribute `ctx-name` is required and it is not set.")}}):super.connectedCallback(),So.registerClient(this)}disconnectedCallback(){super.disconnectedCallback(),So.unregisterClient(this)}initCallback(){this.has("*blocksRegistry")||this.add("*blocksRegistry",new Set),this.$["*blocksRegistry"].add(this),this.has("*eventEmitter")||this.add("*eventEmitter",new Ga(this.debugPrint.bind(this))),this.has("*localeManager")||this.add("*localeManager",new il(this)),this.has("*a11y")||this.add("*a11y",new nl),this.has("*modalManager")||this.add("*modalManager",new ol(this)),this.sub(bt("locale-id"),r=>{let i=Qg(r);this.style.direction=i==="ltr"?"":i}),this.subConfigValue("testMode",r=>{if(!r||!this.testId){this.removeAttribute("data-testid");return}this.setAttribute("data-testid",this.testId)})}get testId(){return window.customElements.getName(this.constructor)}get modalManager(){return this.has("*modalManager")&&this.$["*modalManager"]}get localeManager(){return this.has("*localeManager")?this.$["*localeManager"]:null}get a11y(){return this.has("*a11y")?this.$["*a11y"]:null}get blocksRegistry(){return this.$["*blocksRegistry"]}destroyCallback(){super.destroyCallback();let e=this.blocksRegistry;e?.delete(this),this.localeManager?.destroyL10nBindings(this),this.l10nProcessorSubs=new Map,P.deleteCtx(this),e?.size===0&&setTimeout(()=>{this.destroyCtxCallback()},0)}destroyCtxCallback(){P.deleteCtx(this.ctxName),this.localeManager?.destroy(),this.modalManager&&this.modalManager?.destroy()}async proxyUrl(e){if(this.cfg.secureDeliveryProxy&&this.cfg.secureDeliveryProxyUrlResolver&&console.warn("Both secureDeliveryProxy and secureDeliveryProxyUrlResolver are set. The secureDeliveryProxyUrlResolver will be used."),this.cfg.secureDeliveryProxyUrlResolver)try{return await this.cfg.secureDeliveryProxyUrlResolver(e,{uuid:Ha(e),cdnUrlModifiers:yd(e),fileName:ja(e)})}catch(r){return console.error("Failed to resolve secure delivery proxy URL. Falling back to the default URL.",r),e}return this.cfg.secureDeliveryProxy?Ao(this.cfg.secureDeliveryProxy,{previewUrl:e},{transform:r=>window.encodeURIComponent(r)}):e}get cfg(){if(!this.__cfgProxy){let e=Object.create(null);this.__cfgProxy=new Proxy(e,{set:(r,i,n)=>{if(typeof i!="string")return!1;let o=Ie(i);return this.has(o)||this.add(o,yt[i]),this.$[o]=n,!0},get:(r,i)=>{let n=Ie(i);return this.has(n)||this.add(n,yt[i]),this.$[Ie(i)]}})}return this.__cfgProxy}subConfigValue(e,r){let i=Ie(e);this.has(i)||this.add(i,yt[e]),this.sub(i,r)}debugPrint(...e){if(!this.cfg.debug)return;let r=e;if(typeof e?.[0]=="function"){let i=e[0];r=i()}console.log(`[${this.ctxName}]`,...r)}static reg(e){if(!e){super.reg();return}e.startsWith(y5)&&super.reg(e)}}});var D0,N0=v(()=>{D0="<svg width='0' height='0' style='position:absolute'><symbol viewBox='0 0 24 24' id='uc-icon-about' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.152 14.12v.1h1.523v-.1c.007-.409.053-.752.138-1.028.086-.277.22-.517.405-.72.188-.202.434-.397.735-.586.32-.191.593-.412.82-.66.232-.249.41-.531.533-.847.125-.32.187-.678.187-1.076 0-.579-.137-1.085-.41-1.518a2.717 2.717 0 0 0-1.14-1.018c-.49-.245-1.062-.367-1.715-.367-.597 0-1.142.114-1.636.34-.49.228-.884.564-1.182 1.008-.299.44-.46.98-.485 1.619h1.62c.024-.377.118-.684.282-.922a1.48 1.48 0 0 1 .617-.532c.25-.114.51-.17.784-.17.301 0 .575.063.82.191.248.124.447.302.597.533.149.23.223.504.223.82 0 .263-.05.502-.149.72a1.91 1.91 0 0 1-.405.574 3.48 3.48 0 0 1-.575.453 4.22 4.22 0 0 0-.847.66c-.234.242-.415.558-.543.949-.125.39-.19.916-.197 1.577Zm.053 3.03c.21.206.46.31.75.31.196 0 .374-.049.534-.144a1.1 1.1 0 0 0 .383-.384c.1-.163.15-.343.15-.538a1 1 0 0 0-.32-.746 1.019 1.019 0 0 0-.746-.314c-.291 0-.542.105-.751.314-.21.206-.314.455-.314.746 0 .295.104.547.314.756ZM24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12Zm-1.5 0c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-add' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.75 21a.75.75 0 0 1-1.5 0v-8.25H3a.75.75 0 0 1 0-1.5h8.25V3a.75.75 0 0 1 1.5 0v8.25H21a.75.75 0 0 1 0 1.5h-8.25V21Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-arrow-down' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.5 23.03a.75.75 0 0 0 .999 0l9.29-8.276a.75.75 0 0 0-.998-1.12l-8.042 7.164V1.53a.75.75 0 0 0-1.5 0v19.267l-8.04-7.163a.75.75 0 0 0-.998 1.12z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-back' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M20.251 12a.75.75 0 0 1-.75.75H6.067l5.72 5.85a.75.75 0 1 1-1.072 1.05L4.136 12.92a1.292 1.292 0 0 1 0-1.842l6.579-6.728a.75.75 0 1 1 1.072 1.048l-5.72 5.851H19.5a.75.75 0 0 1 .75.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-badge-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13.6 18.4a1.6 1.6 0 1 1-3.2 0 1.6 1.6 0 0 1 3.2 0zM12 4.5A1.5 1.5 0 0 1 13.5 6v7a1.5 1.5 0 0 1-3 0V6A1.5 1.5 0 0 1 12 4.5z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-badge-success' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m10.5 18.204 7.6-8.183a1.5 1.5 0 0 0-2.2-2.042l-5.4 5.817-2.4-2.586a1.5 1.5 0 1 0-2.2 2.041l4.6 4.953Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-box' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M1.01 4.148a.75.75 0 0 1 .75.75v4.348a4.437 4.437 0 0 1 2.988-1.153c1.734 0 3.23.992 3.978 2.438a4.478 4.478 0 0 1 3.978-2.438c2.49 0 4.488 2.044 4.488 4.543 0 2.5-1.999 4.544-4.488 4.544a4.478 4.478 0 0 1-3.978-2.438 4.478 4.478 0 0 1-3.978 2.438C2.26 17.18.26 15.135.26 12.636V4.898a.75.75 0 0 1 .75-.75Zm.75 8.488c0 1.692 1.348 3.044 2.988 3.044s2.989-1.352 2.989-3.044c0-1.691-1.349-3.043-2.989-3.043S1.76 10.945 1.76 12.636Zm10.944-3.043c-1.64 0-2.988 1.352-2.988 3.043 0 1.692 1.348 3.044 2.988 3.044s2.988-1.352 2.988-3.044c0-1.69-1.348-3.043-2.988-3.043Zm4.328-1.23a.75.75 0 0 1 1.052.128l2.333 2.983 2.333-2.983a.75.75 0 0 1 1.181.924l-2.562 3.277 2.562 3.276a.75.75 0 1 1-1.181.924l-2.333-2.983-2.333 2.983a.75.75 0 1 1-1.181-.924l2.562-3.276-2.562-3.277a.75.75 0 0 1 .129-1.052Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.65 2.55a.75.75 0 0 1 .6-.3h7.5a.75.75 0 0 1 .6.3l2.025 2.7H21a3 3 0 0 1 3 3v10.5a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h2.625zm.975 1.2L6.6 6.45a.75.75 0 0 1-.6.3H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V8.25a1.5 1.5 0 0 0-1.5-1.5h-3a.75.75 0 0 1-.6-.3l-2.025-2.7zm3.375 6a3.375 3.375 0 1 0 0 6.75 3.375 3.375 0 0 0 0-6.75zm-4.875 3.375a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-camera-full' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M2 4.667a2 2 0 0 0-2 2V16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6.667a2 2 0 0 0-2-2h-2.667l-2-2.667H6.667l-2 2.667H2Zm8 10a3.667 3.667 0 1 0 0-7.334 3.667 3.667 0 0 0 0 7.334Z' fill='currentColor'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-close' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M4.604 4.604a.75.75 0 0 1 1.06 0L12 10.939l6.335-6.335a.75.75 0 1 1 1.061 1.06L13.061 12l6.335 6.335a.75.75 0 1 1-1.06 1.061L12 13.061l-6.335 6.335a.75.75 0 0 1-1.061-1.06L10.939 12 4.604 5.665a.75.75 0 0 1 0-1.061z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-collapse' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3.116 12a.75.75 0 0 1 .75-.75h16.268a.75.75 0 0 1 0 1.5H3.866a.75.75 0 0 1-.75-.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-default' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.501.392a.75.75 0 0 1 .998 0l6.704 5.972a.75.75 0 0 1-.998 1.12l-5.455-4.86v13.439a.75.75 0 0 1-1.5 0V2.625l-5.454 4.86a.75.75 0 1 1-.998-1.12zM.857 16.73a.75.75 0 0 1 .75.75v4.914h20.786v-4.914a.75.75 0 0 1 1.5 0v5.664a.75.75 0 0 1-.75.75H.857a.75.75 0 0 1-.75-.75v-5.664a.75.75 0 0 1 .75-.75z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-dropbox' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.019 1.92a.75.75 0 0 1 .806 0L12 5.219l5.176-3.297a.75.75 0 0 1 .806 0l5.577 3.553a.75.75 0 0 1 0 1.265l-4.574 2.914 4.574 2.914a.75.75 0 0 1 0 1.265l-5.577 3.554a.75.75 0 0 1-.806 0L12 14.089l-5.175 3.297a.75.75 0 0 1-.806 0L.44 13.833a.75.75 0 0 1 0-1.266l4.575-2.914L.44 6.74a.75.75 0 0 1 0-1.265zm.403 8.616L2.24 13.2l4.182 2.664 4.181-2.664zm6.975 2.664 4.182 2.664L21.76 13.2l-4.181-2.664zm2.776-3.547L12 12.311 7.828 9.653 12 6.995zm1.406-.882 4.181-2.664-4.181-2.664-4.182 2.664zm-6.976-2.664L6.422 3.443 2.24 6.107 6.422 8.77zM5.791 18.544a.75.75 0 0 1 1.035-.23l5.175 3.297 5.175-3.297a.75.75 0 1 1 .806 1.265l-5.578 3.554a.75.75 0 0 1-.806 0L6.02 19.579a.75.75 0 0 1-.23-1.035z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-edit-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M18.558 2.804a.78.78 0 0 0-.557.235l-.008.007-2.472 2.46 3.847 3.848 2.46-2.473.004-.003a.78.78 0 0 0 0-1.108l-.004-.003-2.712-2.728a.78.78 0 0 0-.558-.235Zm-.248 7.613-3.852-3.852-8.93 8.887-1.516 5.41 5.41-1.515 8.888-8.93Zm-.636-8.934a2.28 2.28 0 0 1 2.512.505l2.702 2.717.002.002a2.278 2.278 0 0 1 0 3.234l-.002.002-12.541 12.602a.75.75 0 0 1-.33.193l-6.884 1.928a.75.75 0 0 1-.925-.924l1.928-6.885a.75.75 0 0 1 .193-.33l12.603-12.54a2.28 2.28 0 0 1 .742-.504Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-evernote' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M9.804 2.27v-.048c.055-.263.313-.562.85-.562h.44c.142 0 .325.014.526.033.066.009.124.023.267.06l.13.032h.002c.319.079.515.275.644.482a1.461 1.461 0 0 1 .16.356l.004.012a.75.75 0 0 0 .603.577l1.191.207a1988.512 1988.512 0 0 0 2.332.402c.512.083 1.1.178 1.665.442.64.3 1.19.795 1.376 1.77.548 2.931.657 5.829.621 8a39.233 39.233 0 0 1-.125 2.602 17.518 17.518 0 0 1-.092.849.735.735 0 0 0-.024.112c-.378 2.705-1.269 3.796-2.04 4.27-.746.457-1.53.451-2.217.447h-.192c-.46 0-1.073-.23-1.581-.635-.518-.412-.763-.87-.763-1.217 0-.45.188-.688.355-.786.161-.095.436-.137.796.087a.75.75 0 1 0 .792-1.274c-.766-.476-1.64-.52-2.345-.108-.7.409-1.098 1.188-1.098 2.08 0 .996.634 1.84 1.329 2.392.704.56 1.638.96 2.515.96l.185.002c.667.009 1.874.025 3.007-.67 1.283-.786 2.314-2.358 2.733-5.276a4.213 4.213 0 0 0 .056-.335c.023-.184.051-.445.079-.772.055-.655.111-1.585.13-2.704.037-2.234-.074-5.239-.647-8.301v-.002c-.294-1.544-1.233-2.391-2.215-2.85-.777-.363-1.623-.496-2.129-.576a8.872 8.872 0 0 1-.25-.041l-.006-.001-1.99-.345-.761-.132a2.93 2.93 0 0 0-.182-.338A2.532 2.532 0 0 0 12.379.329l-.091-.023a3.967 3.967 0 0 0-.493-.103L11.769.2a7.846 7.846 0 0 0-.675-.04h-.44c-.733 0-1.368.284-1.795.742L2.416 7.431c-.468.428-.751 1.071-.751 1.81 0 .02 0 .041.003.062l.003.034c.017.21.038.468.096.796.107.715.275 1.47.391 1.994.029.13.055.245.075.342l.002.008c.258 1.141.641 1.94.978 2.466.168.263.323.456.444.589a2.808 2.808 0 0 0 .192.194c1.536 1.562 3.713 2.196 5.731 2.08.13-.005.35-.032.537-.073a2.627 2.627 0 0 0 .652-.24c.425-.26.75-.661.992-1.046.184-.294.342-.61.473-.915a3.8 3.8 0 0 0 .627.493 5.022 5.022 0 0 0 1.97.709l.023.002.018.003.11.016c.088.014.205.035.325.058l.056.014c.088.022.164.04.235.061a1.736 1.736 0 0 1 .145.048l.03.014c.765.34 1.302 1.09 1.302 1.871a.75.75 0 0 0 1.5 0c0-1.456-.964-2.69-2.18-3.235a3.595 3.595 0 0 0-.679-.217l-.063-.015a10.616 10.616 0 0 0-.606-.105l-.02-.003-.03-.003h-.002a3.542 3.542 0 0 1-1.331-.485c-.471-.298-.788-.692-.828-1.234a.75.75 0 0 0-1.48-.106l-.001.003-.004.017a8.23 8.23 0 0 1-.092.352 9.963 9.963 0 0 1-.298.892c-.132.34-.29.68-.47.966-.174.276-.339.454-.478.549a1.178 1.178 0 0 1-.221.072 1.949 1.949 0 0 1-.241.036h-.013l-.032.002c-1.684.1-3.423-.437-4.604-1.65a.746.746 0 0 0-.053-.05L4.84 14.6a1.348 1.348 0 0 1-.07-.073 2.99 2.99 0 0 1-.293-.392c-.242-.379-.558-1.014-.778-1.985a54.1 54.1 0 0 0-.083-.376 27.494 27.494 0 0 1-.367-1.872l-.003-.02a6.791 6.791 0 0 1-.08-.67c.004-.277.086-.475.2-.609l.067-.067a.63.63 0 0 1 .292-.145h.05c.18 0 1.095.055 2.013.115l1.207.08.534.037a.747.747 0 0 0 .052.002c.782 0 1.349-.206 1.759-.585l.005-.005c.553-.52.622-1.225.622-1.76V6.24l-.026-.565A774.97 774.97 0 0 1 9.885 4.4c-.042-.961-.081-1.939-.081-2.13ZM4.995 6.953a251.126 251.126 0 0 1 2.102.137l.508.035c.48-.004.646-.122.715-.185.07-.068.146-.209.147-.649l-.024-.548a791.69 791.69 0 0 1-.095-2.187L4.995 6.953Zm16.122 9.996Zm-5.479-5.323a.75.75 0 0 0 1.014.31 2.04 2.04 0 0 1 .304-.089 1.84 1.84 0 0 1 .544-.039c.215.023.321.06.37.085.033.016.039.026.047.04a.75.75 0 0 0 1.289-.767c-.337-.567-.906-.783-1.552-.85a3.334 3.334 0 0 0-1.002.062c-.27.056-.531.14-.705.234a.75.75 0 0 0-.31 1.014Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-expand' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m12 8.337-8.47 8.47a.75.75 0 0 1-1.06-1.06l8.605-8.606a1.29 1.29 0 0 1 1.85 0l8.605 8.605a.75.75 0 1 1-1.06 1.06L12 8.338Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-external-source-placeholder' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.341 3.27a10.5 10.5 0 0 1 5.834-1.77.75.75 0 0 0 0-1.5 12 12 0 1 0 12 12 .75.75 0 0 0-1.5 0A10.5 10.5 0 1 1 6.34 3.27Zm14.145 1.48a.75.75 0 1 0-1.06-1.062L9.925 13.19V7.95a.75.75 0 1 0-1.5 0V15c0 .414.336.75.75.75h7.05a.75.75 0 0 0 0-1.5h-5.24l9.501-9.5Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-facebook' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12 1.5C6.201 1.5 1.5 6.201 1.5 12c0 4.943 3.416 9.089 8.016 10.204v-6.108H7.383a.75.75 0 0 1-.75-.75v-3.281a.75.75 0 0 1 .75-.75h2.133V9.393c0-.958.225-2.511 1.38-3.65 1.194-1.177 3.174-1.718 6.254-1.056a.75.75 0 0 1 .592.733v2.754a.75.75 0 0 1-.75.75c-.692 0-1.203.026-1.584.082-.387.057-.578.137-.675.202-.109.073-.237.205-.237 1.029v1.078h2.39a.75.75 0 0 1 .742.866l-.516 3.281a.75.75 0 0 1-.74.634h-1.876v6.106C19.09 21.082 22.5 16.939 22.5 12c0-5.799-4.701-10.5-10.5-10.5zM0 12C0 5.373 5.373 0 12 0s12 5.373 12 12c0 5.995-4.395 10.961-10.138 11.856a.75.75 0 0 1-.866-.74v-7.77a.75.75 0 0 1 .75-.75h1.984l.28-1.781h-2.264a.75.75 0 0 1-.75-.75v-1.828c0-.829.089-1.729.9-2.274.363-.244.807-.37 1.293-.441a9.623 9.623 0 0 1 1.053-.086V6.04c-2.41-.405-3.645.132-4.293.771-.737.728-.933 1.793-.933 2.582v2.672a.75.75 0 0 1-.75.75H8.133v1.78h2.133a.75.75 0 0 1 .75.75v7.772a.75.75 0 0 1-.865.741C4.4 22.968 0 18 0 12z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M2.895 1.201c0-.473.383-.857.857-.857h8.4c.227 0 .445.09.606.251l8.4 8.4c.16.16.25.379.25.606v13.2a.857.857 0 0 1-.856.857h-16.8a.857.857 0 0 1-.857-.857zm1.714.857v19.886h15.085V10.458h-7.542a.857.857 0 0 1-.858-.857V2.058zm8.4 1.213 5.473 5.473H13.01z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-flickr' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M5.959 7.926c-2.298 0-4.14 1.834-4.14 4.073 0 2.241 1.842 4.075 4.14 4.075 2.302 0 4.145-1.834 4.145-4.075 0-2.238-1.843-4.073-4.145-4.073Zm-5.64 4.073c0-3.086 2.533-5.573 5.64-5.573 3.11 0 5.645 2.486 5.645 5.573 0 3.089-2.535 5.575-5.645 5.575-3.107 0-5.64-2.487-5.64-5.575Zm18.07-4.073c-2.301 0-4.144 1.835-4.144 4.073 0 2.24 1.843 4.075 4.145 4.075 2.299 0 4.141-1.834 4.141-4.075 0-2.239-1.842-4.073-4.141-4.073Zm-5.644 4.073c0-3.087 2.535-5.573 5.645-5.573 3.108 0 5.641 2.487 5.641 5.573 0 3.088-2.533 5.575-5.641 5.575-3.11 0-5.645-2.486-5.645-5.575Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-gdrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.736 1.818a.75.75 0 0 1 .647-.37h7.587a.75.75 0 0 1 .655.383l7.233 12.946a.75.75 0 0 1-.003.737l-3.794 6.66a.75.75 0 0 1-.651.378H4.59a.75.75 0 0 1-.651-.378l-3.794-6.66a.75.75 0 0 1 .005-.75zm.64 1.876L1.663 15.148l2.93 5.145 6.655-11.581zm3.736 6.526-2.398 4.173H14.5zm4.116 4.173h5.697L15.53 2.947H9.677zm5.685 1.5H8.852l-2.966 5.16h13.088z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-gphotos' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M12.51 0c-.702 0-1.272.57-1.272 1.273V7.35A6.381 6.381 0 0 0 0 11.489c0 .703.57 1.273 1.273 1.273H7.35A6.381 6.381 0 0 0 11.488 24c.704 0 1.274-.57 1.274-1.273V16.65A6.381 6.381 0 0 0 24 12.51c0-.703-.57-1.273-1.273-1.273H16.65A6.381 6.381 0 0 0 12.511 0Zm.252 11.232V1.53a4.857 4.857 0 0 1 0 9.702Zm-1.53.006H1.53a4.857 4.857 0 0 1 9.702 0Zm1.536 1.524a4.857 4.857 0 0 0 9.702 0h-9.702Zm-6.136 4.857c0-2.598 2.04-4.72 4.606-4.85v9.7a4.857 4.857 0 0 1-4.606-4.85Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-huddle' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.204 2.002c-.252.23-.357.486-.357.67V21.07c0 .15.084.505.313.812.208.28.499.477.929.477.519 0 .796-.174.956-.365.178-.212.286-.535.286-.924v-.013l.117-6.58c.004-1.725 1.419-3.883 3.867-3.883 1.33 0 2.332.581 2.987 1.364.637.762.95 1.717.95 2.526v6.47c0 .392.11.751.305.995.175.22.468.41 1.008.41.52 0 .816-.198 1.002-.437.207-.266.31-.633.31-.969V14.04c0-2.81-1.943-5.108-4.136-5.422a5.971 5.971 0 0 0-3.183.41c-.912.393-1.538.96-1.81 1.489a.75.75 0 0 1-1.417-.344v-7.5c0-.587-.47-1.031-1.242-1.031-.315 0-.638.136-.885.36ZM5.194.892A2.844 2.844 0 0 1 7.09.142c1.328 0 2.742.867 2.742 2.53v5.607a6.358 6.358 0 0 1 1.133-.629 7.47 7.47 0 0 1 3.989-.516c3.056.436 5.425 3.482 5.425 6.906v6.914c0 .602-.177 1.313-.627 1.89-.47.605-1.204 1.016-2.186 1.016-.96 0-1.698-.37-2.179-.973-.46-.575-.633-1.294-.633-1.933v-6.469c0-.456-.19-1.071-.602-1.563-.394-.471-.986-.827-1.836-.827-1.447 0-2.367 1.304-2.367 2.39v.014l-.117 6.58c-.001.64-.177 1.333-.637 1.881-.48.57-1.2.9-2.105.9-.995 0-1.7-.5-2.132-1.081-.41-.552-.61-1.217-.61-1.708V2.672c0-.707.366-1.341.847-1.78Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-info' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2v6Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-local' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M3 3.75a1.5 1.5 0 0 0-1.5 1.5v13.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V9A1.5 1.5 0 0 0 21 7.5h-9a.75.75 0 0 1-.643-.364L9.325 3.75zm-3 1.5a3 3 0 0 1 3-3h6.75a.75.75 0 0 1 .643.364L12.425 6H21a3 3 0 0 1 3 3v9.75a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-microphone' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' clip-rule='evenodd' d='M7.5 4.781a4.5 4.5 0 0 1 9 0v6.469a4.5 4.5 0 1 1-9 0V4.781Zm4.5-3a3 3 0 0 0-3 3v6.469a3 3 0 1 0 6 0V4.781a3 3 0 0 0-3-3Zm-8.156 8.11a.75.75 0 0 1 .75.75 7.406 7.406 0 1 0 14.812 0 .75.75 0 0 1 1.5 0 8.907 8.907 0 0 1-8.156 8.875v2.703h3.258a.75.75 0 1 1 0 1.5H7.992a.75.75 0 0 1 0-1.5h3.258v-2.703a8.907 8.907 0 0 1-8.156-8.875.75.75 0 0 1 .75-.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-microphone-mute' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' clip-rule='evenodd' d='M7.5 4.781a4.5 4.5 0 0 1 9 0V6l3.524-3.524a.75.75 0 1 1 1.061 1.06L5.036 19.585a.75.75 0 0 1-1.06-1.06l1.656-1.657a8.88 8.88 0 0 1-2.538-6.227.75.75 0 0 1 1.5 0c0 2.009.8 3.83 2.1 5.166l1.771-1.772A4.483 4.483 0 0 1 7.5 11.25V4.781Zm2.037 8.182L15 7.5V4.781a3 3 0 1 0-6 0v6.469c0 .637.198 1.227.537 1.713Zm10.62-3.072a.75.75 0 0 1 .75.75 8.907 8.907 0 0 1-8.157 8.875v2.703h3.258a.75.75 0 1 1 0 1.5H7.992a.75.75 0 0 1 0-1.5h3.258v-2.703a8.855 8.855 0 0 1-3.035-.811.75.75 0 1 1 .638-1.358 7.406 7.406 0 0 0 10.553-6.707.75.75 0 0 1 .75-.75ZM15 10.81a.75.75 0 0 1 1.5 0v.439a4.5 4.5 0 0 1-5 4.473.75.75 0 1 1 .166-1.491A3 3 0 0 0 15 11.25v-.44Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-mobile-photo-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.65 2.55a.75.75 0 0 1 .6-.3h7.5a.75.75 0 0 1 .6.3l2.025 2.7H21a3 3 0 0 1 3 3v10.5a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h2.625zm.975 1.2L6.6 6.45a.75.75 0 0 1-.6.3H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h18a1.5 1.5 0 0 0 1.5-1.5V8.25a1.5 1.5 0 0 0-1.5-1.5h-3a.75.75 0 0 1-.6-.3l-2.025-2.7zm3.375 6a3.375 3.375 0 1 0 0 6.75 3.375 3.375 0 0 0 0-6.75zm-4.875 3.375a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-mobile-video-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' clip-rule='evenodd' d='M0 6.75a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v1.078L22.873 5A.75.75 0 0 1 24 5.648v12.704a.75.75 0 0 1-1.123.65L18 16.207v1.043a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V6.75Zm18 7.728 4.5 2.58V6.95L18 9.562v4.916ZM16.5 6.75a1.5 1.5 0 0 0-1.5-1.5H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h12a1.5 1.5 0 0 0 1.5-1.5V6.75Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-ngdrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M7.736 1.818a.75.75 0 0 1 .647-.37h7.587a.75.75 0 0 1 .655.383l7.233 12.946a.75.75 0 0 1-.003.737l-3.794 6.66a.75.75 0 0 1-.651.378H4.59a.75.75 0 0 1-.651-.378l-3.794-6.66a.75.75 0 0 1 .005-.75zm.64 1.876L1.663 15.148l2.93 5.145 6.655-11.581zm3.736 6.526-2.398 4.173H14.5zm4.116 4.173h5.697L15.53 2.947H9.677zm5.685 1.5H8.852l-2.966 5.16h13.088z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-onedrive' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13.616 4.147a7.689 7.689 0 0 0-7.642 3.285A6.299 6.299 0 0 0 1.455 17.3c.684.894 2.473 2.658 5.17 2.658h12.141c.95 0 1.882-.256 2.697-.743.815-.486 1.514-1.247 1.964-2.083a5.26 5.26 0 0 0-3.713-7.612 7.69 7.69 0 0 0-6.098-5.373ZM3.34 17.15c.674.63 1.761 1.308 3.284 1.308h12.142a3.76 3.76 0 0 0 2.915-1.383l-7.494-4.489L3.34 17.15Zm10.875-6.25 2.47-1.038a5.239 5.239 0 0 1 1.427-.389 6.19 6.19 0 0 0-10.3-1.952 6.338 6.338 0 0 1 2.118.813l4.285 2.567Zm4.55.033c-.512 0-1.019.104-1.489.307l-.006.003-1.414.594 6.521 3.906a3.76 3.76 0 0 0-3.357-4.8l-.254-.01ZM4.097 9.617A4.799 4.799 0 0 1 6.558 8.9c.9 0 1.84.25 2.587.713l3.4 2.037-10.17 4.28a4.799 4.799 0 0 1 1.721-6.312Z'/></symbol><symbol fill='none' viewBox='0 0 10 10' id='uc-icon-pause' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' d='M1 0h2.5v10H1zM6.5 0H9v10H6.5z'/></symbol><symbol fill='none' viewBox='0 0 10 10' id='uc-icon-play' xmlns='http://www.w3.org/2000/svg'><path d='m1 0 9 5-9 5V0Z' fill='currentColor'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-remove-file' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.955 3.3A2.969 2.969 0 0 0 8.998 6h5.914a2.97 2.97 0 0 0-2.957-2.7zM16.416 6a4.47 4.47 0 0 0-8.922 0h-2.32a.755.755 0 0 0-.111.008H3.075a.75.75 0 1 0 0 1.5h1.35V19.35a2.85 2.85 0 0 0 2.85 2.85h9.45a2.85 2.85 0 0 0 2.85-2.85V7.508h1.35a.75.75 0 0 0 0-1.5h-1.989A.754.754 0 0 0 18.825 6zM5.925 7.508V19.35a1.35 1.35 0 0 0 1.35 1.35h9.45a1.35 1.35 0 0 0 1.35-1.35V7.508z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-select' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='m7 10 5 5 5-5H7Z'/></symbol><symbol fill='none' viewBox='0 0 20 20' id='uc-icon-square' xmlns='http://www.w3.org/2000/svg'><rect width='20' height='20' rx='4' fill='#fff'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-upload' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M11.501.392a.75.75 0 0 1 .998 0l6.704 5.972a.75.75 0 0 1-.998 1.12l-5.455-4.86v13.439a.75.75 0 0 1-1.5 0V2.625l-5.454 4.86a.75.75 0 1 1-.998-1.12zM.857 16.73a.75.75 0 0 1 .75.75v4.914h20.786v-4.914a.75.75 0 0 1 1.5 0v5.664a.75.75 0 0 1-.75.75H.857a.75.75 0 0 1-.75-.75v-5.664a.75.75 0 0 1 .75-.75z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-upload-error' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M13 13h-2V7h2m0 10h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-url' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M19.11 3.67c-1.71-1.709-4.578-1.682-6.408.148l-2.22 2.22a.75.75 0 0 1-1.062-1.06l2.222-2.221C14.018.381 17.836.276 20.17 2.61l1.22 1.22c2.335 2.334 2.23 6.153-.147 8.529l-2.22 2.22a.75.75 0 0 1-1.062-1.06l2.222-2.221c1.83-1.83 1.856-4.698.147-6.408zm-3.36 4.58a.75.75 0 0 1 0 1.06l-6.439 6.44a.75.75 0 0 1-1.06-1.06l6.439-6.44a.75.75 0 0 1 1.06 0zM6.04 9.42a.75.75 0 0 1 0 1.061l-2.222 2.222c-1.83 1.83-1.856 4.698-.147 6.407l1.22 1.22c1.71 1.71 4.578 1.683 6.408-.147l2.221-2.221a.75.75 0 1 1 1.06 1.06l-2.22 2.222c-2.377 2.376-6.195 2.481-8.53.147l-1.22-1.22c-2.334-2.334-2.228-6.153.148-8.53l2.221-2.22a.75.75 0 0 1 1.06 0z'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-video-camera' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' clip-rule='evenodd' d='M0 6.75a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v1.078L22.873 5A.75.75 0 0 1 24 5.648v12.704a.75.75 0 0 1-1.123.65L18 16.207v1.043a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V6.75Zm18 7.728 4.5 2.58V6.95L18 9.562v4.916ZM16.5 6.75a1.5 1.5 0 0 0-1.5-1.5H3a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h12a1.5 1.5 0 0 0 1.5-1.5V6.75Z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-video-camera-full' xmlns='http://www.w3.org/2000/svg'><path d='M2 3.333a2 2 0 0 0-2 2v9.334a2 2 0 0 0 2 2h10.938a2 2 0 0 0 2-2v-2.013L20 15.646V4.354l-5.063 3.03v-2.05a2 2 0 0 0-2-2H2Z' fill='currentColor'/></symbol><symbol viewBox='0 0 24 24' id='uc-icon-vk' xmlns='http://www.w3.org/2000/svg'><path fill='currentColor' fill-rule='evenodd' d='M6.341 3.27a10.5 10.5 0 0 1 5.834-1.77.75.75 0 0 0 0-1.5 12 12 0 1 0 12 12 .75.75 0 0 0-1.5 0A10.5 10.5 0 1 1 6.34 3.27Zm14.145 1.48a.75.75 0 1 0-1.06-1.062L9.925 13.19V7.95a.75.75 0 1 0-1.5 0V15c0 .414.336.75.75.75h7.05a.75.75 0 0 0 0-1.5h-5.24l9.501-9.5Z'/></symbol></svg>"});var Ot,Mo=v(()=>{N0();ee();To();Ot=class extends I{static styleAttrs=["uc-wgt-common"];requireCtxName=!0;init$=tl(this);_template=null;initCallback(){super.initCallback(),this.a11y?.registerBlock(this)}static set template(e){this._template=D0+e+"<slot></slot>"}static get template(){return this._template}}});var F0,Po,x,xe=v(()=>{Ye();ir();ee();To();F0="active",Po="___ACTIVITY_IS_ACTIVE___",x=class t extends I{historyTracked=!1;init$=Ud(this);_debouncedHistoryFlush=K(this._historyFlush.bind(this),10);_deactivate(){let e=t._activityCallbacks.get(this);this[Po]=!1,this.removeAttribute(F0),e?.deactivateCallback?.()}_activate(){let e=t._activityCallbacks.get(this);this.$["*historyBack"]=this.historyBack.bind(this),this[Po]=!0,this.setAttribute(F0,""),e?.activateCallback?.(),this._debouncedHistoryFlush(),this.emit(B.ACTIVITY_CHANGE,{activity:this.activityType})}initCallback(){super.initCallback(),this.activityType&&(this.hasAttribute("activity")||this.setAttribute("activity",this.activityType),this.sub("*currentActivity",e=>{try{this.activityType!==e&&this[Po]?this._deactivate():this.activityType===e&&!this[Po]&&this._activate()}catch(r){console.error(`Error in activity "${this.activityType}". `,r),this.$["*currentActivity"]=this.$["*history"][this.$["*history"].length-1]??null}e||(this.$["*history"]=[])}))}_historyFlush(){let e=this.$["*history"];e&&(e.length>10&&(e=e.slice(e.length-11,e.length-1)),this.historyTracked&&e[e.length-1]!==this.activityType&&e.push(this.activityType),this.$["*history"]=e)}_isActivityRegistered(){return this.activityType&&t._activityCallbacks.has(this)}static _activityCallbacks=new Map;get isActivityActive(){return this[Po]}get couldOpenActivity(){return!0}registerActivity(e,r={}){let{onActivate:i,onDeactivate:n}=r;t._activityCallbacks.set(this,{activateCallback:i,deactivateCallback:n})}unregisterActivity(){this.isActivityActive&&this._deactivate(),t._activityCallbacks.delete(this)}destroyCallback(){super.destroyCallback(),this._isActivityRegistered()&&this.unregisterActivity();let e=this.$["*currentActivity"];!![...this.blocksRegistry].find(i=>i instanceof t&&i.activityType===e)||(this.$["*currentActivity"]=null,this.modalManager.closeAll())}get activityKey(){return this.ctxName+this.activityType}get activityParams(){return this.$["*currentActivityParams"]}get initActivity(){return this.getCssData("--cfg-init-activity")}get doneActivity(){return this.getCssData("--cfg-done-activity")}historyBack(){let e=this.$["*history"];if(e){let r=e.pop();for(;r===this.activityType;)r=e.pop();let i=!!r;r&&(i=[...this.blocksRegistry].find(o=>o.activityType===r)?.couldOpenActivity??!1),r=i?r:void 0,r&&this.modalManager.open(r),this.$["*currentActivity"]=r,this.$["*history"]=e,r||this.modalManager.closeAll()}}};x.activities=Object.freeze({START_FROM:"start-from",CAMERA:"camera",DRAW:"draw",UPLOAD_LIST:"upload-list",URL:"url",CLOUD_IMG_EDIT:"cloud-image-edit",EXTERNAL:"external"})});var $o,L,Wd,V0,Gd=v(()=>{$o=33.333333333333336,L=1,Wd=24,V0=6});function Rr(t,e){for(let r in e)t.setAttributeNS(null,r,e[r].toString())}function Ze(t,e={}){let r=document.createElementNS("http://www.w3.org/2000/svg",t);return Rr(r,e),r}function B0(t,e,r){let{x:i,y:n,width:o,height:s}=t,a=e.includes("w")?0:1,l=e.includes("n")?0:1,c=[-1,1][a],u=[-1,1][l],d=[i+a*o+1.5*c,n+l*s+1.5*u-24*r*u],h=[i+a*o+1.5*c,n+l*s+1.5*u],g=[i+a*o-24*r*c+1.5*c,n+l*s+1.5*u];return{d:`M ${d[0]} ${d[1]} L ${h[0]} ${h[1]} L ${g[0]} ${g[1]}`,center:h}}function j0(t,e,r){let{x:i,y:n,width:o,height:s}=t,a=["n","s"].includes(e)?.5:{w:0,e:1}[e],l=["w","e"].includes(e)?.5:{n:0,s:1}[e],c=[-1,1][a],u=[-1,1][l],d,h;["n","s"].includes(e)?(d=[i+a*o-34*r/2,n+l*s+1.5*u],h=[i+a*o+34*r/2,n+l*s+1.5*u]):(d=[i+a*o+1.5*c,n+l*s-34*r/2],h=[i+a*o+1.5*c,n+l*s+34*r/2]);let g=`M ${d[0]} ${d[1]} L ${h[0]} ${h[1]}`,y=[h[0]-(h[0]-d[0])/2,h[1]-(h[1]-d[1])/2];return{d:g,center:y}}function H0(t){return t===""?"move":["e","w"].includes(t)?"ew-resize":["n","s"].includes(t)?"ns-resize":["nw","se"].includes(t)?"nwse-resize":"nesw-resize"}function W0({rect:t,delta:[e,r],imageBox:i}){return tn({...t,x:t.x+e,y:t.y+r},i)}function tn(t,e){let{x:r}=t,{y:i}=t;return t.x<e.x?r=e.x:t.x+t.width>e.x+e.width&&(r=e.x+e.width-t.width),t.y<e.y?i=e.y:t.y+t.height>e.y+e.height&&(i=e.y+e.height-t.height),{...t,x:r,y:i}}function b5({rect:t,delta:e,aspectRatio:r,imageBox:i}){let[,n]=e,{y:o,width:s,height:a}=t;o+=n,a-=n,r&&(s=a*r);let l=t.x+t.width/2-s/2;return o<=i.y&&(o=i.y,a=t.y+t.height-o,r&&(s=a*r,l=t.x+t.width/2-s/2)),l<=i.x&&(l=i.x,o=t.y+t.height-a),l+s>=i.x+i.width&&(l=Math.max(i.x,i.x+i.width-s),s=i.x+i.width-l,r&&(a=s/r),o=t.y+t.height-a),a<L&&(a=L,r&&(s=a*r,l=t.x+t.width/2-s/2),o=t.y+t.height-a),s<L&&(s=L,r&&(a=s/r,l=t.x+t.width/2-s/2),o=t.y+t.height-a),{x:l,y:o,width:s,height:a}}function _5({rect:t,delta:e,aspectRatio:r,imageBox:i}){let[n]=e,{x:o,width:s,height:a}=t;o+=n,s-=n,r&&(a=s/r);let l=t.y+t.height/2-a/2;return o<=i.x&&(o=i.x,s=t.x+t.width-o,r&&(a=s/r,l=t.y+t.height/2-a/2)),l<=i.y&&(l=i.y,o=t.x+t.width-s),l+a>=i.y+i.height&&(l=Math.max(i.y,i.y+i.height-a),a=i.y+i.height-l,r&&(s=a*r),o=t.x+t.width-s),a<L&&(a=L,r&&(s=a*r),l=t.y+t.height/2-a/2,o=t.x+t.width-s),s<L&&(s=L,r&&(a=s/r),l=t.y+t.height/2-a/2,o=t.x+t.width-s),{x:o,y:l,width:s,height:a}}function w5({rect:t,delta:e,aspectRatio:r,imageBox:i}){let[,n]=e,{y:o,width:s,height:a}=t;a+=n,r&&(s=a*r);let l=t.x+t.width/2-s/2;return o+a>=i.y+i.height&&(a=i.y+i.height-o,r&&(s=a*r),l=t.x+t.width/2-s/2),l<=i.x&&(l=i.x,o=t.y),l+s>=i.x+i.width&&(l=Math.max(i.x,i.x+i.width-s),s=i.x+i.width-l,r&&(a=s/r),o=t.y),a<L&&(a=L,r&&(s=a*r),l=t.x+t.width/2-s/2),s<L&&(s=L,r&&(a=s/r),l=t.x+t.width/2-s/2),{x:l,y:o,width:s,height:a}}function x5({rect:t,delta:e,aspectRatio:r,imageBox:i}){let[n]=e,{x:o,width:s,height:a}=t;s+=n,r&&(a=s/r);let l=t.y+t.height/2-a/2;return o+s>=i.x+i.width&&(s=i.x+i.width-o,r&&(a=s/r),l=t.y+t.height/2-a/2),l<=i.y&&(l=i.y,o=t.x),l+a>=i.y+i.height&&(l=Math.max(i.y,i.y+i.height-a),a=i.y+i.height-l,r&&(s=a*r),o=t.x),a<L&&(a=L,r&&(s=a*r),l=t.y+t.height/2-a/2),s<L&&(s=L,r&&(a=s/r),l=t.y+t.height/2-a/2),{x:o,y:l,width:s,height:a}}function k5({rect:t,delta:e,aspectRatio:r,imageBox:i}){let[n,o]=e,{x:s,y:a,width:l,height:c}=t;return s+n<i.x&&(n=i.x-s),a+o<i.y&&(o=i.y-a),s+=n,l-=n,a+=o,c-=o,r&&Math.abs(l/c)>r?(o=l/r-c,c+=o,a-=o,a<=i.y&&(c=c-(i.y-a),l=c*r,s=t.x+t.width-l,a=i.y)):r&&(n=c*r-l,l=l+n,s-=n,s<=i.x&&(l=l-(i.x-s),c=l/r,s=i.x,a=t.y+t.height-c)),c<L&&(c=L,r&&(l=c*r),s=t.x+t.width-l,a=t.y+t.height-c),l<L&&(l=L,r&&(c=l/r),s=t.x+t.width-l,a=t.y+t.height-c),{x:s,y:a,width:l,height:c}}function C5({rect:t,delta:e,aspectRatio:r,imageBox:i}){let[n,o]=e,{x:s,y:a,width:l,height:c}=t;return s+l+n>i.x+i.width&&(n=i.x+i.width-s-l),a+o<i.y&&(o=i.y-a),l+=n,a+=o,c-=o,r&&Math.abs(l/c)>r?(o=l/r-c,c+=o,a-=o,a<=i.y&&(c=c-(i.y-a),l=c*r,s=t.x,a=i.y)):r&&(n=c*r-l,l+=n,s+l>=i.x+i.width&&(l=i.x+i.width-s,c=l/r,s=i.x+i.width-l,a=t.y+t.height-c)),c<L&&(c=L,r&&(l=c*r),a=t.y+t.height-c),l<L&&(l=L,r&&(c=l/r),a=t.y+t.height-c),{x:s,y:a,width:l,height:c}}function E5({rect:t,delta:e,aspectRatio:r,imageBox:i}){let[n,o]=e,{x:s,y:a,width:l,height:c}=t;return s+n<i.x&&(n=i.x-s),a+c+o>i.y+i.height&&(o=i.y+i.height-a-c),s+=n,l-=n,c+=o,r&&Math.abs(l/c)>r?(o=l/r-c,c+=o,a+c>=i.y+i.height&&(c=i.y+i.height-a,l=c*r,s=t.x+t.width-l,a=i.y+i.height-c)):r&&(n=c*r-l,l+=n,s-=n,s<=i.x&&(l=l-(i.x-s),c=l/r,s=i.x,a=t.y)),c<L&&(c=L,r&&(l=c*r),s=t.x+t.width-l),l<L&&(l=L,r&&(c=l/r),s=t.x+t.width-l),{x:s,y:a,width:l,height:c}}function S5({rect:t,delta:e,aspectRatio:r,imageBox:i}){let[n,o]=e,{x:s,y:a,width:l,height:c}=t;return s+l+n>i.x+i.width&&(n=i.x+i.width-s-l),a+c+o>i.y+i.height&&(o=i.y+i.height-a-c),l+=n,c+=o,r&&Math.abs(l/c)>r?(o=l/r-c,c+=o,a+c>=i.y+i.height&&(c=i.y+i.height-a,l=c*r,s=t.x,a=i.y+i.height-c)):r&&(n=c*r-l,l+=n,s+l>=i.x+i.width&&(l=i.x+i.width-s,c=l/r,s=i.x+i.width-l,a=t.y)),c<L&&(c=L,r&&(l=c*r)),l<L&&(l=L,r&&(c=l/r)),{x:s,y:a,width:l,height:c}}function G0({direction:t,...e}){switch(t){case"n":return b5(e);case"w":return _5(e);case"s":return w5(e);case"e":return x5(e);case"nw":return k5(e);case"ne":return C5(e);case"sw":return E5(e);case"se":return S5(e);default:return e.rect}}function K0(t,[e,r]){return t.x<=e&&e<=t.x+t.width&&t.y<=r&&r<=t.y+t.height}function X0(t,e){return t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height}function q0(t,e){return Math.abs(t.width/t.height-e)<.1}function rn({width:t,height:e},r){let i=r/90%2!==0;return{width:i?e:t,height:i?t:e}}function Y0(t,e,r){let i=t/e,n,o;i>r?(n=Math.round(e*r),o=e):(n=t,o=Math.round(t/r));let s=Math.round((t-n)/2),a=Math.round((e-o)/2);return s+n>t&&(n=t-s),a+o>e&&(o=e-a),{x:s,y:a,width:n,height:o}}function nn(t){return{x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}}function zr(t,e,r){return Math.min(Math.max(t,e),r)}var al=v(()=>{Gd()});var ll,Kd=v(()=>{ll=t=>{if(!t)return[];let[e,r]=t.split(":").map(Number);if(!Number.isFinite(e)||!Number.isFinite(r)){console.error(`Invalid crop preset: ${t}`);return}return[{type:"aspect-ratio",width:e,height:r}]}});var ci,ui,Uo=v(()=>{ci="blocks",ui="1.19.5"});function Z0(t){return Td({...t,libraryName:ci,libraryVersion:ui})}var Q0=v(()=>{li();Uo()});var J0,ev,tv=v(()=>{J0=t=>Math.floor(t/1e3),ev=(t,{threshold:e})=>{let{secureExpire:r}=t,i=J0(Date.now()),n=Number(r),o=J0(e);return i+o>=n}});var cl,rv=v(()=>{tv();cl=class{_block;_secureToken=null;constructor(e){this._block=e}_debugPrint(...e){this._block.debugPrint("[secure-uploads]",...e)}async getSecureToken(){let{secureSignature:e,secureExpire:r,secureUploadsSignatureResolver:i}=this._block.cfg;if((e||r)&&i&&console.warn("Both secureSignature/secureExpire and secureUploadsSignatureResolver are set. secureUploadsSignatureResolver will be used."),i){if(!this._secureToken||ev(this._secureToken,{threshold:this._block.cfg.secureUploadsExpireThreshold})){this._secureToken?this._debugPrint("Secure signature is expired. Resolving a new one..."):this._debugPrint("Secure signature is not set yet.");try{let n=await i();n?!n.secureSignature||!n.secureExpire?console.error("Secure signature resolver returned an invalid result:",n):(this._debugPrint("Secure signature resolved:",n),this._debugPrint("Secure signature will expire in",new Date(Number(n.secureExpire)*1e3).toISOString()),this._secureToken=n):(this._debugPrint("Secure signature resolver returned nothing."),this._secureToken=null)}catch(n){console.error("Secure signature resolving failed. Falling back to the previous one.",n)}}return this._secureToken}return e&&r?(this._debugPrint("Secure signature and expire are set. Using them...",{secureSignature:e,secureExpire:r}),{secureSignature:e,secureExpire:r}):null}}});var iv,A5,ul,nv=v(()=>{st();iv="[Typed State] Wrong property name: ",A5="[Typed State] Wrong property type: ",ul=class{constructor(e,r){this.__typedSchema=e,this.__ctxId=r||Xe.generate(),this.__schema=Object.keys(e).reduce((i,n)=>(i[n]=e[n].value,i),{}),this.__data=P.registerCtx(this.__schema,this.__ctxId)}get uid(){return this.__ctxId}setValue(e,r){if(!this.__typedSchema.hasOwnProperty(e)){console.warn(iv+e);return}let i=this.__typedSchema[e],n=r?.constructor===i.type,o=r instanceof i.type,s=i.nullable&&r===null;if(n||o||s){this.__data.pub(e,r);return}console.warn(A5+e)}setMultipleValues(e){for(let[r,i]of Object.entries(e))this.setValue(r,i)}getValue(e){return this.__typedSchema.hasOwnProperty(e)||console.warn(iv+e),this.__data.read(e)}subscribe(e,r){return this.__data.sub(e,r)}remove(){P.deleteCtx(this.__ctxId)}}});var dl,ov=v(()=>{st();nv();dl=class{constructor(e){this.__typedSchema=e.typedSchema,this.__ctxId=e.ctxName||Xe.generate(),this.__data=P.registerCtx({},this.__ctxId),this.__watchList=e.watchList||[],this.__subsMap=Object.create(null),this.__propertyObservers=new Set,this.__collectionObservers=new Set,this.__items=new Set,this.__removed=new Set,this.__added=new Set;let r=Object.create(null);this.__notifyObservers=(i,n)=>{this.__observeTimeout&&window.clearTimeout(this.__observeTimeout),r[i]||(r[i]=new Set),r[i].add(n),this.__observeTimeout=window.setTimeout(()=>{Object.keys(r).length!==0&&(this.__propertyObservers.forEach(o=>{o({...r})}),r=Object.create(null))})}}notify(){this.__notifyTimeout&&window.clearTimeout(this.__notifyTimeout),this.__notifyTimeout=window.setTimeout(()=>{let e=new Set(this.__added),r=new Set(this.__removed);this.__added.clear(),this.__removed.clear();for(let i of this.__collectionObservers)i?.([...this.__items],e,r)})}observeCollection(e){return this.__collectionObservers.add(e),this.__items.size>0&&this.notify(),()=>{this.unobserveCollection(e)}}unobserveCollection(e){this.__collectionObservers?.delete(e)}add(e){let r=new ul(this.__typedSchema);for(let[i,n]of Object.entries(e))r.setValue(i,n);return this.__items.add(r.uid),this.notify(),this.__data.add(r.uid,r),this.__added.add(r),this.__watchList.forEach(i=>{this.__subsMap[r.uid]||(this.__subsMap[r.uid]=[]),this.__subsMap[r.uid].push(r.subscribe(i,()=>{this.__notifyObservers(i,r.uid)}))}),r.uid}read(e){return this.__data.read(e)}readProp(e,r){let i=this.read(e);return i?i.getValue(r):(console.warn(`Item with id ${e} not found`),null)}publishProp(e,r,i){let n=this.read(e);if(!n){console.warn(`Item with id ${e} not found`);return}n.setValue(r,i)}remove(e){let r=this.read(e);r&&this.__removed.add(r),this.__items.delete(e),this.notify(),this.__data.pub(e,null),delete this.__subsMap[e]}clearAll(){this.__items.forEach(e=>{this.remove(e)})}observeProperties(e){return this.__propertyObservers.add(e),()=>{this.unobserveProperties(e)}}unobserveProperties(e){this.__propertyObservers?.delete(e)}findItems(e){let r=[];return this.__items.forEach(i=>{let n=this.read(i);n&&e(n)&&r.push(i)}),r}items(){return[...this.__items]}get size(){return this.__items.size}destroy(){P.deleteCtx(this.__ctxId),this.__propertyObservers=new Set,this.__collectionObservers=new Set;for(let e in this.__subsMap)this.__subsMap[e].forEach(r=>{r.remove()}),delete this.__subsMap[e]}}});var U,at,on=v(()=>{U=Object.freeze({PHOTO:"photo",VIDEO:"video"}),at=Object.freeze({IDLE:"idle",SHOT:"shot",PLAY:"play",PAUSE:"pause",RESUME:"resume",STOP:"stop",RETAKE:"retake",ACCEPT:"accept"})});var Xd,sv=v(()=>{It();on();Xd=t=>({isVideoRecordingEnabled:De(t.cameraModes).includes(U.VIDEO),isPhotoEnabled:De(t.cameraModes).includes(U.PHOTO)})});var _t,qd,te,Mt=v(()=>{_t=Object.freeze({FACEBOOK:"facebook",DROPBOX:"dropbox",GDRIVE:"gdrive",GPHOTOS:"gphotos",FLICKR:"flickr",VK:"vk",EVERNOTE:"evernote",BOX:"box",ONEDRIVE:"onedrive",HUDDLE:"huddle"}),qd=Object.freeze({MOBILE_VIDEO_CAMERA:"mobile-video-camera",MOBILE_PHOTO_CAMERA:"mobile-photo-camera"}),te=Object.freeze({LOCAL:"local",DROP_AREA:"drop-area",CAMERA:"camera",EXTERNAL:"external",API:"js-api",URL:"url",DRAW:"draw",...qd,..._t})});var T5,I5,O5,L5,av,di,Ro=v(()=>{T5=()=>{let t=navigator.userAgent;return/Macintosh|Windows/.test(t)&&/Version\/[\d\.]+.*Safari/.test(t)&&!/Chrome|Chromium|Edg|OPR/.test(t)},I5=()=>"capture"in document.createElement("input"),O5=()=>({safariDesktop:T5()}),L5=()=>({htmlMediaCapture:I5()}),av=O5(),di=L5()});var zo,Yd,M5,P5,Do,hl,Zd,lv,cv,Qd=v(()=>{Ro();Jt();zo="image/*",Yd="video/*",M5=["image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/avif","image/avif-sequence",".heif",".heifs",".heic",".heics",".avif",".avifs"],P5=()=>av.safariDesktop?[zo]:[zo,...M5],Do=P5(),hl=t=>t?t.filter(e=>typeof e=="string").map(e=>me(e)).flat():[],Zd=(t,e)=>e.some(r=>r.endsWith("*")?(r=r.replace("*",""),t.startsWith(r)):t===r),lv=(t,e)=>e.some(r=>r.startsWith(".")?t.toLowerCase().endsWith(r.toLowerCase()):!1),cv=t=>{let e=t?.type;return e?Zd(e,Do):!1}});var $5,U5,uv,dv=v(()=>{Zi();$5=/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/i,U5=new RegExp(`^/?(${$5.source})(?:/(-/(?:[^/]+/)+)?([^/]*))?$`,"i"),uv=({url:t,cdnBase:e})=>{let r=new URL(e),i=new URL(Eo),n=new URL(t);if(r.host!==n.host&&i.host!==n.host)return null;let[,o,s,a]=U5.exec(n.pathname);return{uuid:o,cdnUrlModifiers:s||"",filename:a||null}}});var hv,pv=v(()=>{hv=t=>{let e=new Map;return(...r)=>{let i=JSON.stringify(r);if(e.has(i))return e.get(i);let n=t(...r);return e.set(i,n),n}}});function pl(t){fv.has(t)||(fv.add(t),console.warn(t))}var fv,Jd=v(()=>{fv=new Set});function R5(t){let e=!1;return setTimeout(()=>{e=!0},0),i=>(...n)=>(e&&pl(t),i(...n))}function mv(t){let e={progress:()=>t.$["*commonProgress"],errors:()=>t.$["*collectionErrors"],group:()=>t.$["*groupInfo"],totalCount:()=>t.uploadCollection.size,failedCount:()=>r.failedEntries.length,successCount:()=>r.successEntries.length,uploadingCount:()=>r.uploadingEntries.length,status:()=>r.isFailed?"failed":r.isUploading?"uploading":r.isSuccess?"success":"idle",isSuccess:()=>r.allEntries.length>0&&r.errors.length===0&&r.successEntries.length===r.allEntries.length,isUploading:()=>r.allEntries.some(n=>n.status==="uploading"),isFailed:()=>r.errors.length>0||r.failedEntries.length>0,allEntries:()=>t.getOutputData(),successEntries:()=>r.allEntries.filter(n=>n.status==="success"),failedEntries:()=>r.allEntries.filter(n=>n.status==="failed"),uploadingEntries:()=>r.allEntries.filter(n=>n.status==="uploading"),idleEntries:()=>r.allEntries.filter(n=>n.status==="idle")},r={},i=R5("You're trying to access the OutputCollectionState asynchronously. In this case, the data you retrieve will be newer than it was when the OutputCollectionState was created or when the event was dispatched. If you want to retain the state at a specific moment in time, you should use the spread operator like this: `{...outputCollectionState}` or `{...e.detail}`");for(let[n,o]of Object.entries(e)){let s=n,l=hv(i(o));Object.defineProperty(r,s,{get:l,enumerable:!0})}return r}var gv=v(()=>{pv();Jd()});var fl,vv=v(()=>{xe();st();sv();on();ir();Mt();It();Ro();Qd();dv();Jt();gv();fl=class{_ctx;constructor(e){this._ctx=e}get _uploadCollection(){return this._ctx.uploadCollection}get cfg(){return this._ctx.cfg}get l10n(){return this._ctx.l10n.bind(this._ctx)}addFileFromUrl=(e,{silent:r,fileName:i,source:n}={})=>{let o=this._uploadCollection.add({externalUrl:e,fileName:i??null,silent:r??!1,source:n??te.API});return this.getOutputItem(o)};addFileFromUuid=(e,{silent:r,fileName:i,source:n}={})=>{let o=this._uploadCollection.add({uuid:e,fileName:i??null,silent:r??!1,source:n??te.API});return this.getOutputItem(o)};addFileFromCdnUrl=(e,{silent:r,fileName:i,source:n}={})=>{let o=uv({url:e,cdnBase:this.cfg.cdnCname});if(!o)throw new Error("Invalid CDN URL");let s=this._uploadCollection.add({uuid:o.uuid,cdnUrl:e,cdnUrlModifiers:o.cdnUrlModifiers,fileName:i??o.filename??null,silent:r??!1,source:n??te.API});return this.getOutputItem(s)};addFileFromObject=(e,{silent:r,fileName:i,source:n,fullPath:o}={})=>{let s=this._uploadCollection.add({file:e,isImage:cv(e),mimeType:e.type,fileName:i??e.name,fileSize:e.size,silent:r??!1,source:n??te.API,fullPath:o??null});return this.getOutputItem(s)};removeFileByInternalId=e=>{if(!this._uploadCollection.read(e))throw new Error(`File with internalId ${e} not found`);this._uploadCollection.remove(e)};removeAllFiles(){this._uploadCollection.clearAll()}uploadAll=()=>{let e=this._uploadCollection.items().filter(r=>{let i=this._uploadCollection.read(r);return i?!i.getValue("isRemoved")&&!i.getValue("isUploading")&&!i.getValue("fileInfo"):!1});e.length!==0&&(this._ctx.$["*uploadTrigger"]=new Set(e),this._ctx.emit(B.COMMON_UPLOAD_START,this.getOutputCollectionState()))};openSystemDialog=(e={})=>{let r=rr(hl([this.cfg.accept??"",...this.cfg.imgOnly?Do:[]])),i="uploadcare-file-input",n=document.createElement("input");if(n.setAttribute(i,""),Co(n,{opacity:0,height:0,width:0,visibility:"hidden",position:"absolute",top:0,left:0}),n.type="file",n.multiple=this.cfg.multiple,e.captureCamera){n.capture=this.cfg.cameraCapture;let{isPhotoEnabled:o,isVideoRecordingEnabled:s}=Xd(this.cfg);e.modeCamera===U.PHOTO&&o?n.accept=zo:e.modeCamera===U.VIDEO&&s?n.accept=Yd:n.accept=[zo,s&&Yd].filter(Boolean).join(",")}else n.accept=r;n.addEventListener("change",()=>{n.files&&([...n.files].forEach(o=>this.addFileFromObject(o,{source:e.captureCamera?te.CAMERA:te.LOCAL})),this._ctx.modalManager.open(x.activities.UPLOAD_LIST),this._ctx.$["*currentActivity"]=x.activities.UPLOAD_LIST,n.remove())},{once:!0}),document.querySelectorAll(`[${i}]`).forEach(o=>o.remove()),document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click"))};getOutputItem(e){let r=P.getCtx(e).store,i=r.fileInfo,n=r.isRemoved?"removed":r.errors.length>0?"failed":r.fileInfo?"success":r.isUploading?"uploading":"idle";return{uuid:i?.uuid??r.uuid??null,internalId:e,name:i?.originalFilename??r.fileName,size:i?.size??r.fileSize,isImage:i?.isImage??r.isImage,mimeType:i?.mimeType??r.mimeType,file:r.file,externalUrl:r.externalUrl,cdnUrlModifiers:r.cdnUrlModifiers,cdnUrl:r.cdnUrl??i?.cdnUrl??null,fullPath:r.fullPath,uploadProgress:r.uploadProgress,fileInfo:i??null,metadata:r.metadata??i?.metadata??null,isSuccess:n==="success",isUploading:n==="uploading",isFailed:n==="failed",isRemoved:n==="removed",errors:r.errors,status:n,source:r?.source}}getOutputCollectionState(){return mv(this._ctx)}initFlow=(e=!1)=>{if(this._uploadCollection.size>0&&!e)this._ctx.modalManager?.open(x.activities.UPLOAD_LIST),this._ctx.set$({"*currentActivity":x.activities.UPLOAD_LIST});else if(this._sourceList?.length===1){let r=this._sourceList[0];if(r==="local"){this._ctx.$["*currentActivity"]=x.activities.UPLOAD_LIST,this.openSystemDialog();return}if(r==="camera"&&di.htmlMediaCapture){let{isPhotoEnabled:s,isVideoRecordingEnabled:a}=Xd(this.cfg);if(s&&a){this._ctx.set$({"*currentActivity":x.activities.START_FROM});return}else if(s||a){this.openSystemDialog({captureCamera:!0,modeCamera:s?U.PHOTO:U.VIDEO});return}else this.openSystemDialog({captureCamera:!0,modeCamera:U.PHOTO})}let i=this._ctx.$["*blocksRegistry"],n=s=>"type"in s&&s.type===r;[...i].find(n)?.activate(),this._ctx.$["*currentActivity"]&&this._ctx.modalManager?.open(this._ctx.$["*currentActivity"])}else this._ctx.modalManager?.open(x.activities.START_FROM),this._ctx.set$({"*currentActivity":x.activities.START_FROM})};doneFlow=()=>{this._ctx.set$({"*currentActivity":this._ctx.doneActivity,"*history":this._ctx.doneActivity?[this._ctx.doneActivity]:[]}),this._ctx.$["*currentActivity"]||this._ctx.modalManager.closeAll()};setCurrentActivity=(e,r=void 0)=>{if(this._ctx.hasBlockInCtx(i=>i.activityType===e)){this._ctx.set$({"*currentActivityParams":r??{},"*currentActivity":e});return}console.warn(`Activity type "${e}" not found in the context`)};getCurrentActivity=()=>this._ctx.$["*currentActivity"];setModalState=e=>{if(e&&!this._ctx.$["*currentActivity"]){console.warn(`Can't open modal without current activity. Please use "setCurrentActivity" method first.`);return}e?this._ctx.modalManager?.open(this._ctx.$["*currentActivity"]):(this._ctx.modalManager?.close(this._ctx.$["*currentActivity"]),this._ctx.$["*currentActivity"]=null)};get _sourceList(){let e=[];return this.cfg.sourceList&&(e=me(this.cfg.sourceList)),e}}});var eh,yv=v(()=>{eh=(t,e)=>{let r=e.cfg.imgOnly,i=t.isImage;if(!(!r||i)&&!(!t.fileInfo&&t.externalUrl)&&!(!t.fileInfo&&!t.mimeType))return{type:"NOT_AN_IMAGE",message:e.l10n("images-only-accepted"),payload:{entry:t}}}});var th,bv=v(()=>{Qd();th=(t,e)=>{let r=e.cfg.imgOnly,i=e.cfg.accept,n=hl([...r?Do:[],i]);if(!n.length)return;let o=t.mimeType,s=t.name;if(!o||!s)return;let a=Zd(o,n),l=lv(s,n);if(!a&&!l)return{type:"FORBIDDEN_FILE_TYPE",message:e.l10n("file-type-not-allowed"),payload:{entry:t}}}});var Pt,hi,No,_v,wv=v(()=>{bd();Pt=1e3,hi=Object.freeze({AUTO:"auto",BYTE:"byte",KB:"kb",MB:"mb",GB:"gb",TB:"tb",PB:"pb"}),No=t=>Math.ceil(t*100)/100,_v=(t,e=hi.AUTO)=>{let r=e===hi.AUTO;if(e===hi.BYTE||r&&t<Pt**1){let i=Ka("en-US",t),n={one:"byte",other:"bytes"}[i];return`${t} ${n}`}return e===hi.KB||r&&t<Pt**2?`${No(t/Pt**1)} KB`:e===hi.MB||r&&t<Pt**3?`${No(t/Pt**2)} MB`:e===hi.GB||r&&t<Pt**4?`${No(t/Pt**3)} GB`:e===hi.TB||r&&t<Pt**5?`${No(t/Pt**4)} TB`:`${No(t/Pt**5)} PB`}});var rh,xv=v(()=>{wv();rh=(t,e)=>{let r=e.cfg.maxLocalFileSizeBytes,i=t.size;if(r&&i&&i>r)return{type:"FILE_SIZE_EXCEEDED",message:e.l10n("files-max-size-limit-error",{maxFileSize:_v(r)}),payload:{entry:t}}}});var ih,kv=v(()=>{li();ih=(t,e)=>{let{internalId:r}=t,n=e._uploadCollection.read(r)?.getValue("uploadError");if(!n)return;if(n instanceof Te)return{type:"UPLOAD_ERROR",message:n.message,payload:{entry:t,error:n}};if(n instanceof Qi)return{type:"NETWORK_ERROR",message:n.message,payload:{entry:t,error:n}};let o=n instanceof Error?n:new Error("Unknown error",{cause:n});return{type:"UNKNOWN_ERROR",message:o.message,payload:{entry:t,error:o}}}});var Cv=v(()=>{yv();bv();xv();kv()});var nh,Ev=v(()=>{nh=(t,e)=>{if(t.failedCount>0)return{type:"SOME_FILES_HAS_ERRORS",message:e.l10n("some-files-were-not-uploaded")}}});var oh,Sv=v(()=>{oh=(t,e)=>{let r=t.totalCount,i=e.cfg.multiple?e.cfg.multipleMin:0,n=e.cfg.multiple?e.cfg.multipleMax:1;if(i&&r<i)return{type:"TOO_FEW_FILES",message:e.l10n("files-count-limit-error-too-few",{min:i,max:n,total:r}),payload:{total:r,min:i,max:n}};if(n&&r>n)return{type:"TOO_MANY_FILES",message:e.l10n("files-count-limit-error-too-many",{min:i,max:n,total:r}),payload:{total:r,min:i,max:n}}}});var Av=v(()=>{Ev();Sv()});var ml,gl,Tv=v(()=>{ir();Cv();Av();ml={file:"File validator execution has failed",collection:"Collection validator execution has failed",message:"Missing message. We recommend adding message: value."},gl=class{_blockInstance;_fileValidators=[eh,th,rh,ih];_collectionValidators=[oh,nh];constructor(e){this._blockInstance=e,this._uploadCollection=this._blockInstance.uploadCollection;let r=()=>{this.runFileValidators(),this.runCollectionValidators()};this._blockInstance.subConfigValue("maxLocalFileSizeBytes",r),this._blockInstance.subConfigValue("multipleMin",r),this._blockInstance.subConfigValue("multipleMax",r),this._blockInstance.subConfigValue("multiple",r),this._blockInstance.subConfigValue("imgOnly",r),this._blockInstance.subConfigValue("accept",r)}runFileValidators(e){let r=e??this._uploadCollection.items();for(let i of r){let n=this._uploadCollection.read(i);n&&this._runFileValidatorsForEntry(n)}}runCollectionValidators(){let e=this._blockInstance.api.getOutputCollectionState(),r=[];for(let i of[...this._collectionValidators,...this._addCustomTypeToValidators(this._blockInstance.cfg.collectionValidators)])try{let n=i(e,this._blockInstance.api);if(!n)continue;n&&(r.push(n),n.message||console.warn(ml.message))}catch(n){console.warn(ml.collection,n)}this._blockInstance.$["*collectionErrors"]=r,r.length>0&&this._blockInstance.emit(B.COMMON_UPLOAD_FAILED,()=>this._blockInstance.api.getOutputCollectionState(),{debounce:!0})}_runFileValidatorsForEntry(e){let r=this._blockInstance.api.getOutputItem(e.uid),i=[];for(let n of[...this._fileValidators,...this._addCustomTypeToValidators(this._blockInstance.cfg.fileValidators)])try{let o=n(r,this._blockInstance.api);if(!o)continue;o&&(i.push(o),o.message||console.warn(ml.message))}catch(o){console.warn(ml.file,o)}e.setValue("errors",i)}_addCustomTypeToValidators(e){return e.map(r=>(...i)=>{let n=r(...i);return n?{...n,type:"CUSTOM_ERROR"}:void 0})}}});var Iv,Ov=v(()=>{li();Iv=Object.freeze({file:Object.freeze({type:File,value:null,nullable:!0}),externalUrl:Object.freeze({type:String,value:null,nullable:!0}),fileName:Object.freeze({type:String,value:null,nullable:!0}),fileSize:Object.freeze({type:Number,value:null,nullable:!0}),lastModified:Object.freeze({type:Number,value:Date.now()}),uploadProgress:Object.freeze({type:Number,value:0}),uuid:Object.freeze({type:String,value:null,nullable:!0}),isImage:Object.freeze({type:Boolean,value:!1}),mimeType:Object.freeze({type:String,value:null,nullable:!0}),ctxName:Object.freeze({type:String,value:null,nullable:!0}),cdnUrl:Object.freeze({type:String,value:null,nullable:!0}),cdnUrlModifiers:Object.freeze({type:String,value:null,nullable:!0}),fileInfo:Object.freeze({type:or,value:null,nullable:!0}),isUploading:Object.freeze({type:Boolean,value:!1}),abortController:Object.freeze({type:AbortController,value:null,nullable:!0}),thumbUrl:Object.freeze({type:String,value:null,nullable:!0}),silent:Object.freeze({type:Boolean,value:!1}),source:Object.freeze({type:String,value:null,nullable:!0}),fullPath:Object.freeze({type:String,value:null,nullable:!0}),metadata:Object.freeze({type:Object,value:null,nullable:!0}),errors:Object.freeze({type:Array,value:[]}),uploadError:Object.freeze({type:Error,value:null,nullable:!0}),isRemoved:Object.freeze({type:Boolean,value:!1}),isQueued:Object.freeze({type:Boolean,value:!1})})});var F,Fe=v(()=>{xe();st();li();al();Kd();ir();Ye();Q0();At();To();rv();ov();vv();Tv();Ov();Mt();F=class t extends x{couldBeCtxOwner=!1;isCtxOwner=!1;init$=tl(this);get hasCtxOwner(){return this.hasBlockInCtx(e=>e instanceof t?e.isCtxOwner&&e.isConnected&&e!==this:!1)}initCallback(){if(super.initCallback(),!this.has("*uploadCollection")){let e=new dl({typedSchema:Iv,watchList:["uploadProgress","uploadError","fileInfo","errors","cdnUrl","isUploading"]});this.add("*uploadCollection",e)}this.has("*publicApi")||this.add("*publicApi",new fl(this)),this.has("*validationManager")||this.add("*validationManager",new gl(this)),!this.hasCtxOwner&&this.couldBeCtxOwner&&this.initCtxOwner()}get validationManager(){if(!this.has("*validationManager"))throw new Error("Unexpected error: ValidationManager is not initialized");return this.$["*validationManager"]}get api(){if(!this.has("*publicApi"))throw new Error("Unexpected error: UploaderPublicApi is not initialized");return this.$["*publicApi"]}getAPI(){return this.api}get uploadCollection(){if(!this.has("*uploadCollection"))throw new Error("Unexpected error: TypedCollection is not initialized");return this.$["*uploadCollection"]}destroyCtxCallback(){this._unobserveCollectionProperties?.(),this._unobserveCollection?.(),this.uploadCollection.destroy(),this.$["*uploadCollection"]=null,super.destroyCtxCallback()}destroyCallback(){super.destroyCallback(),this._flushOutputItems.cancel()}initCtxOwner(){this.isCtxOwner=!0,this._unobserveCollection=this.uploadCollection.observeCollection(this._handleCollectionUpdate),this._unobserveCollectionProperties=this.uploadCollection.observeProperties(this._handleCollectionPropertiesUpdate),this.subConfigValue("maxConcurrentRequests",e=>{this.$["*uploadQueue"].concurrency=Number(e)||1}),this.$["*secureUploadsManager"]||(this.$["*secureUploadsManager"]=new cl(this))}async _createGroup(e){let r=await this.getUploadClientOptions(),i=e.allEntries.map(a=>a.uuid+(a.cdnUrlModifiers?`/${a.cdnUrlModifiers}`:"")),n=new AbortController,o=await v0(i,{...r,signal:n.signal});if(this.$["*collectionState"]!==e){n.abort();return}this.$["*groupInfo"]=o;let s=this.api.getOutputCollectionState();this.emit(B.GROUP_CREATED,s),this.emit(B.CHANGE,()=>this.api.getOutputCollectionState(),{debounce:!0}),this.$["*collectionState"]=s}_flushOutputItems=K(async()=>{if(this.getOutputData().length!==this.uploadCollection.size)return;let r=this.api.getOutputCollectionState();this.$["*collectionState"]=r,this.emit(B.CHANGE,()=>this.api.getOutputCollectionState(),{debounce:!0}),this.cfg.groupOutput&&r.totalCount>0&&r.status==="success"&&this._createGroup(r)},300);_handleCollectionUpdate=(e,r,i)=>{(r.size||i.size)&&(this.$["*groupInfo"]=null),this.validationManager.runFileValidators(),this.validationManager.runCollectionValidators();for(let n of r)n.getValue("silent")||this.emit(B.FILE_ADDED,this.api.getOutputItem(n.uid));for(let n of i){this.$["*uploadTrigger"].delete(n.uid),n.getValue("abortController")?.abort(),n.setMultipleValues({isRemoved:!0,abortController:null,isUploading:!1,uploadProgress:0});let o=n?.getValue("thumbUrl");o&&URL.revokeObjectURL(o),this.emit(B.FILE_REMOVED,this.api.getOutputItem(n.uid))}this.$["*uploadList"]=e.map(n=>({uid:n})),this._flushCommonUploadProgress(),this._flushOutputItems()};_handleCollectionPropertiesUpdate=e=>{this._flushOutputItems();let r=this.uploadCollection,i=[...new Set(Object.entries(e).filter(([n])=>["uploadError","fileInfo"].includes(n)).map(([,n])=>[...n]).flat())];if(i.length>0&&setTimeout(()=>{this.validationManager.runFileValidators(i)}),e.uploadProgress){for(let n of e.uploadProgress){let{isUploading:o,silent:s}=P.getCtx(n).store;o&&!s&&this.emit(B.FILE_UPLOAD_PROGRESS,this.api.getOutputItem(n))}this._flushCommonUploadProgress()}if(e.isUploading)for(let n of e.isUploading){let{isUploading:o,silent:s}=P.getCtx(n).store;o&&!s&&this.emit(B.FILE_UPLOAD_START,this.api.getOutputItem(n))}if(e.fileInfo){for(let n of e.fileInfo){let{fileInfo:o,silent:s}=P.getCtx(n).store;o&&!s&&this.emit(B.FILE_UPLOAD_SUCCESS,this.api.getOutputItem(n))}this.cfg.cropPreset&&this.setInitialCrop(),this.cfg.cloudImageEditorAutoOpen&&this.openCloudImageEditor()}if(e.errors){for(let s of e.errors){let{errors:a}=P.getCtx(s).store;a.length>0&&(this.emit(B.FILE_UPLOAD_FAILED,this.api.getOutputItem(s)),this.emit(B.COMMON_UPLOAD_FAILED,()=>this.api.getOutputCollectionState(),{debounce:!0}))}let n=r.findItems(s=>!!s.getValue("fileInfo")),o=r.findItems(s=>s.getValue("errors").length>0);r.size>0&&o.length===0&&r.size===n.length&&this.$["*collectionErrors"].length===0&&this.emit(B.COMMON_UPLOAD_SUCCESS,this.api.getOutputCollectionState())}e.cdnUrl&&([...e.cdnUrl].filter(o=>!!this.uploadCollection.read(o)?.getValue("cdnUrl")).forEach(o=>{this.emit(B.FILE_URL_CHANGED,this.api.getOutputItem(o))}),this.$["*groupInfo"]=null)};_flushCommonUploadProgress=()=>{let e=0,i=[...this.$["*uploadTrigger"]].filter(o=>!!this.uploadCollection.read(o));i.forEach(o=>{let s=this.uploadCollection.readProp(o,"uploadProgress");typeof s=="number"&&(e+=s)});let n=i.length?Math.round(e/i.length):0;this.$["*commonProgress"]!==n&&(this.$["*commonProgress"]=n,this.emit(B.COMMON_UPLOAD_PROGRESS,this.api.getOutputCollectionState()))};openCloudImageEditor(){let[e]=this.uploadCollection.findItems(r=>!!r.getValue("fileInfo")&&r.getValue("isImage")).map(r=>this.uploadCollection.read(r));e&&this.uploadCollection.size===1&&this.cfg.useCloudImageEditor&&this.hasBlockInCtx(r=>r.activityType===x.activities.CLOUD_IMG_EDIT)&&(this.$["*currentActivityParams"]={internalId:e.uid},this.$["*currentActivity"]=x.activities.CLOUD_IMG_EDIT,this.modalManager.open(x.activities.CLOUD_IMG_EDIT))}setInitialCrop(){let e=ll(this.cfg.cropPreset);if(e){let[r]=e,i=this.uploadCollection.findItems(n=>!!n.getValue("fileInfo")&&n.getValue("isImage")&&!n.getValue("cdnUrlModifiers")?.includes("/crop/")).map(n=>this.uploadCollection.read(n)).filter(Boolean);for(let n of i){let o=n.getValue("fileInfo");if(!o||!o.imageInfo){console.warn("Failed to get image info for entry",n.uid);continue}let{width:s,height:a}=o.imageInfo,l=r.width/r.height,c=Y0(s,a,l),u=Ae(`crop/${c.width}x${c.height}/${c.x},${c.y}`,"preview"),d=n.getValue("cdnUrl");if(!d){console.warn("Failed to get cdnUrl for entry",n.uid);continue}n.setMultipleValues({cdnUrlModifiers:u,cdnUrl:le(d,u)}),this.uploadCollection.size===1&&this.cfg.useCloudImageEditor&&this.hasBlockInCtx(h=>h.activityType===x.activities.CLOUD_IMG_EDIT)&&(this.$["*currentActivityParams"]={internalId:n.uid},this.$["*currentActivity"]=x.activities.CLOUD_IMG_EDIT,this.modalManager.open(x.activities.CLOUD_IMG_EDIT))}}}async getMetadataFor(e){let r=this.cfg.metadata||void 0;if(typeof r=="function"){let i=this.api.getOutputItem(e);return await r(i)}return r}async getUploadClientOptions(){let r=await this.$["*secureUploadsManager"].getSecureToken().catch(()=>null);return{store:this.cfg.store,publicKey:this.cfg.pubkey,baseCDN:this.cfg.cdnCname,baseURL:this.cfg.baseUrl,userAgent:Z0,integration:this.cfg.userAgentIntegration,secureSignature:r?.secureSignature,secureExpire:r?.secureExpire,retryThrottledRequestMaxTimes:this.cfg.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:this.cfg.retryNetworkErrorMaxTimes,multipartMinFileSize:this.cfg.multipartMinFileSize,multipartChunkSize:this.cfg.multipartChunkSize,maxConcurrentRequests:this.cfg.multipartMaxConcurrentRequests,multipartMaxAttempts:this.cfg.multipartMaxAttempts,checkForUrlDuplicates:!!this.cfg.checkForUrlDuplicates,saveUrlForRecurrentUploads:!!this.cfg.saveUrlForRecurrentUploads}}getOutputData(){return this.uploadCollection.items().map(i=>this.api.getOutputItem(i))}};F.extSrcList=Object.freeze({..._t});F.sourceTypes=Object.freeze({...te})});var sn,sh=v(()=>{sn=t=>t.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)?.map(e=>e.toLowerCase()).join("-")});var X,Ve,D,Lv,Mv,Pv,$v,Uv,ah,vl,lh,Rv,Fo=v(()=>{on();It();X=t=>String(t),Ve=t=>{let e=Number(t);if(Number.isNaN(e))throw new Error(`Invalid number: "${t}"`);return e},D=t=>{if(typeof t>"u"||t===null)return!1;if(typeof t=="boolean")return t;if(t==="true"||t==="")return!0;if(t==="false")return!1;throw new Error(`Invalid boolean: "${t}"`)},Lv=t=>t==="auto"?t:D(t),Mv=t=>{let e=X(t);if(e!=="user"&&e!=="environment"&&e!=="")throw new Error(`Invalid value: "${e}"`);return e},Pv=t=>{let e=X(t);if(!Object.values(U).includes(e))throw new Error(`Invalid value: "${e}"`);return e},$v=t=>{let e=X(t),r=De(e);if(r.some(i=>!Object.values(U).includes(i)))throw new Error(`Invalid value: "${JSON.stringify(r)}"`);return e},Uv=t=>{if(typeof t=="object"&&!Array.isArray(t)||typeof t=="function")return t;throw new Error("Invalid metadata value. Must be an object or function.")},ah=t=>{if(typeof t=="object")return t;throw new Error("Invalid value. Must be an object.")},vl=t=>{if(typeof t=="function")return t;throw new Error("Invalid value. Must be a function.")},lh=t=>{if(Array.isArray(t))return t;throw new Error("Must be an array.")},Rv=t=>{let e=X(t);if(["grid","list"].includes(e))return e;throw new Error(`Invalid value: "${e}"`)}});var z5,zv,Dv=v(()=>{Zi();Fo();z5={pubkey:X,multiple:D,multipleMin:Ve,multipleMax:Ve,confirmUpload:D,imgOnly:D,accept:X,externalSourcesPreferredTypes:X,externalSourcesEmbedCss:X,store:Lv,cameraMirror:D,cameraCapture:Mv,sourceList:X,topLevelOrigin:X,maxLocalFileSizeBytes:Ve,thumbSize:Ve,showEmptyList:D,useLocalImageEditor:D,useCloudImageEditor:D,cloudImageEditorTabs:X,removeCopyright:D,cropPreset:X,imageShrink:X,modalScrollLock:D,modalBackdropStrokes:D,sourceListWrap:D,remoteTabSessionKey:X,cdnCname:X,cdnCnamePrefixed:X,baseUrl:X,socialBaseUrl:X,secureSignature:X,secureExpire:X,secureDeliveryProxy:X,retryThrottledRequestMaxTimes:Ve,retryNetworkErrorMaxTimes:Ve,multipartMinFileSize:Ve,multipartChunkSize:Ve,maxConcurrentRequests:Ve,multipartMaxConcurrentRequests:Ve,multipartMaxAttempts:Ve,checkForUrlDuplicates:D,saveUrlForRecurrentUploads:D,groupOutput:D,userAgentIntegration:X,debug:D,localeName:X,metadata:Uv,secureUploadsExpireThreshold:Ve,localeDefinitionOverride:ah,secureUploadsSignatureResolver:vl,secureDeliveryProxyUrlResolver:vl,iconHrefResolver:vl,fileValidators:lh,collectionValidators:lh,cameraModes:$v,defaultCameraMode:Pv,enableAudioRecording:D,enableVideoRecording:D,mediaRecorderOptions:ah,maxVideoRecordingDuration:Ve,filesViewMode:Rv,gridShowFileNames:D,cloudImageEditorAutoOpen:D,cloudImageEditorMaskHref:X,testMode:D},zv=(t,e)=>{if(!(typeof e>"u"||e===null))try{return z5[t](e)}catch(r){return console.error(`Invalid value for config key "${t}".`,r),yt[t]}}});var D5,Nv,Fv=v(()=>{Jd();Ye();D5=[{test:t=>t.accept&&!!t.imgOnly,message:"There could be a mistake.\nBoth `accept` and `imgOnly` parameters are set.\nThe value of `accept` will be concatenated with the internal image mime types list."},{test:t=>t.enableVideoRecording!==null,message:"The `enableVideoRecording` parameter is deprecated and will be removed in the next major release.\nPlease use the `cameraModes` parameter instead."},{test:t=>t.defaultCameraMode!==null,message:"The `defaultCameraMode` parameter is deprecated and will be removed in the next major release.\nPlease use the `cameraModes` parameter instead."}],Nv=K(t=>{for(let{test:e,message:r}of D5)e(t)&&pl(r)},0)});var Vv,N5,Bv,ch,uh=v(()=>{Vv=(t,e)=>{let r=new URL(e);return r.hostname=`${t}.${r.hostname}`,r.toString().replace(/\/$/,"")},N5="0123456789abcdefghijklmnopqrstuvwxyz",Bv=t=>{if(t<=0n)return"0";let e="";for(;t>0n;){let r=t%36n;e=N5[Number(r)]+e,t=t/36n}return e},ch=(t,e)=>{try{let r=new URL(t),i=new URL(e);return r.hostname.endsWith(i.hostname)}catch{return!1}}});var F5,V5,B5,jv,Hv=v(()=>{uh();uh();F5=async t=>{let e=new TextEncoder().encode(t),r=await window.crypto.subtle.digest("SHA-256",e),i=Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("");return BigInt(`0x${i}`)},V5=10,B5=async t=>{let e=await F5(t);return Bv(e).slice(0,V5)},jv=async(t,e)=>{let r=await B5(t);return Vv(r,e)}});var Wv,Gv=v(()=>{Wv=t=>t instanceof Promise||!!(t&&typeof t=="object"&&"then"in t&&typeof t.then=="function")});var j5,dh,Kv=v(()=>{Hv();It();Zi();Gv();j5=[{key:"cameraModes",deps:["enableVideoRecording"],fn:({cameraModes:t,enableVideoRecording:e})=>{if(e===null)return t;let r=De(t);return e&&!r.includes("video")?r=r.concat("video"):e||(r=r.filter(i=>i!=="video")),rr(r)}},{key:"cameraModes",deps:["defaultCameraMode"],fn:({cameraModes:t,defaultCameraMode:e})=>{if(e===null)return t;let r=De(t);return r=r.sort((i,n)=>i===e?-1:n===e?1:0),rr(r)}},{key:"cdnCname",deps:["pubkey","cdnCnamePrefixed"],fn:({pubkey:t,cdnCname:e,cdnCnamePrefixed:r})=>t&&(e===Eo||ch(e,r))?jv(t,r):e}],dh=({key:t,setValue:e,getValue:r})=>{for(let i of j5)if(i.deps.includes(t)){let n={[i.key]:r(i.key),...i.deps.reduce((s,a)=>({...s,[a]:r(a)}),{})},o=i.fn(n);if(Wv(o)){let s=r(i.key);o.then(a=>{r(i.key)===s&&e(i.key,a)}).catch(a=>{console.error(`Failed to compute value for "${i.key}"`,a)})}else e(i.key,o)}}});var hh,H5,W5,an,G5,K5,Xv,Vo,yl,qv=v(()=>{ee();Zi();Vd();sh();Dv();Fv();Kv();hh=[...new Set(["debug",...Object.keys(yt)])],H5=["metadata","localeDefinitionOverride","secureUploadsSignatureResolver","secureDeliveryProxyUrlResolver","iconHrefResolver","fileValidators","collectionValidators","mediaRecorderOptions"],W5=t=>H5.includes(t),an=hh.filter(t=>!W5(t)),G5={...Object.fromEntries(an.map(t=>[sn(t),t])),...Object.fromEntries(an.map(t=>[t.toLowerCase(),t]))},K5={...Object.fromEntries(an.map(t=>[sn(t),Ie(t)])),...Object.fromEntries(an.map(t=>[t.toLowerCase(),Ie(t)]))},Xv=t=>"__"+t,Vo=class extends I{requireCtxName=!0;constructor(){super(),this.init$={...this.init$,...Object.fromEntries(Object.entries(yt).map(([e,r])=>[Ie(e),r]))}}_flushValueToAttribute(e,r){if(an.includes(e)){let i=[...new Set([sn(e),e.toLowerCase()])];for(let n of i)typeof r>"u"||r===null?this.removeAttribute(n):this.getAttribute(n)!==r.toString()&&this.setAttribute(n,r.toString())}}_flushValueToState(e,r){this.$[Ie(e)]!==r&&(typeof r>"u"||r===null?this.$[Ie(e)]=yt[e]:this.$[Ie(e)]=r)}_setValue(e,r){let i=this,n=zv(e,r),o=Xv(e);i[o]!==n&&(this._assertSameValueDifferentReference(e,i[o],n),i[o]=n,this._flushValueToAttribute(e,n),this._flushValueToState(e,n),this.debugPrint(`[uc-config] "${e}"`,n),Nv(this.cfg),dh({key:e,setValue:this._setValue.bind(this),getValue:this._getValue.bind(this)}))}_getValue(e){let r=this,i=Xv(e);return r[i]??this.$[Ie(e)]}_assertSameValueDifferentReference(e,r,i){this.cfg.debug&&i!==r&&typeof i=="object"&&typeof r=="object"&&JSON.stringify(i)===JSON.stringify(r)&&(console.warn(`[uc-config] Option "${e}" value is the same as the previous one but the reference is different`),console.warn("[uc-config] You should avoid changing the reference of the object to prevent unnecessary calculations"),console.warn(`[uc-config] "${e}" previous value:`,r),console.warn(`[uc-config] "${e}" new value:`,i))}initCallback(){super.initCallback();let e=this;for(let r of an)this.sub(Ie(r),i=>{this._setValue(r,i)},!1);for(let r of hh){let i=e[r]??this.$[Ie(r)];i!==yt[r]&&this._setValue(r,i),Object.defineProperty(this,r,{set:n=>{this._setValue(r,n)},get:()=>this._getValue(r)}),dh({key:r,setValue:this._setValue.bind(this),getValue:this._getValue.bind(this)})}}attributeChangedCallback(e,r,i){if(r===i)return;let n=this,o=G5[e];n[o]=i}};Vo.bindAttributes(K5);for(let t of hh)Vo.prototype[t]=void 0;yl=Vo});var ln,Yv=v(()=>{ee();ln=class extends I{constructor(){super(),this.init$={...this.init$,name:"",href:""}}initCallback(){super.initCallback(),this.sub("name",e=>{if(!e)return;let r=`#uc-icon-${e}`;this.subConfigValue("iconHrefResolver",i=>{i&&(r=i(e)??r),this.$.href=r})}),this.setAttribute("aria-hidden","true")}};ln.template=`
  <svg ref="svg" xmlns="http://www.w3.org/2000/svg">
    <use set="@href: href;"></use>
  </svg>
`;ln.bindAttributes({name:"name"})});var Zv,Qv=v(()=>{Zv=t=>[...new Set(t)]});var Jv,e1=v(()=>{Jv=t=>Object.entries(t).filter(([e,r])=>r!==void 0&&r!=="").map(([e,r])=>e==="cdn-operations"||e==="analytics"?r:`${e}/${r}`)});var X5,Bo,t1=v(()=>{X5="https://ucarecdn.com",Bo=Object.freeze({"dev-mode":{},pubkey:{},uuid:{},src:{},lazy:{default:1},intersection:{},breakpoints:{},"cdn-cname":{default:X5},"proxy-cname":{},"secure-delivery-proxy":{},"hi-res-support":{default:1},"ultra-res-support":{},format:{},"cdn-operations":{},progressive:{},quality:{},"is-background-for":{},"is-preview-blur":{default:1}})});var cn,ph,fh,mh,gh,vh,yh=v(()=>{cn="--uc-img-",ph="unresolved",fh=!window.location.host.trim()||window.location.host.includes(":")||window.location.hostname.includes("localhost"),mh=3e3,gh=5e3,vh=Object.freeze({PREVIEW:"PREVIEW",MAIN:"MAIN"})});var r1,bl,i1=v(()=>{st();t1();yh();Uo();r1=Object.create(null);for(let t in Bo)r1[cn+t]=Bo[t]?.default||"";bl=class extends Qt{cssInit$=r1;$$(e){return this.$[cn+e]}set$$(e){for(let r in e)this.$[cn+r]=e[r]}sub$$(e,r){this.sub(cn+e,i=>{i===null||i===""||r(i)})}analyticsParams(){return`-/@clib/${ci}/${ui}/uc-img/`}initAttributes(e){[...this.attributes].forEach(r=>{Bo[r.name]||e.setAttribute(r.name,r.value)})}initIntersection(e,r){let i={root:null,rootMargin:"0px"};this._isnObserver=new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&(r(),this._isnObserver.unobserve(e))})},i),this._isnObserver.observe(e),this._observed||(this._observed=new Set),this._observed.add(e)}destroyCallback(){super.destroyCallback(),this._isnObserver&&(this._observed.forEach(e=>{this._isnObserver.unobserve(e)}),this._isnObserver=null),P.deleteCtx(this)}static get observedAttributes(){return Object.keys(Bo)}attributeChangedCallback(e,r,i){window.setTimeout(()=>{this.$[cn+e]=i})}}});var xl,n1=v(()=>{wd();At();Jt();Qv();e1();i1();yh();xl=class extends bl{_img=new Image;_imgPreview=new Image;_fmtAbs(e){return!e.includes("//")&&!fh&&(e=new URL(e,document.baseURI).href),e}_validateSize(e){if(e?.trim()!==""){let r=e.match(/\d+/)[0],i=e.match(/[a-zA-Z]+/)[0],n=parseInt(r,10);if(Number(n)>gh&&this.hasFormatJPG)return gh+i;if(Number(n)>mh&&!this.hasFormatJPG)return mh+i}return e}_getCdnModifiers(e,r){let i={format:this.$$("format"),quality:this.$$("quality"),resize:this._validateSize(e),blur:r,"cdn-operations":this.$$("cdn-operations"),analytics:this.analyticsParams()};return Ae(...Jv(i))}_getUrlBase(e="",r=""){if(this.$$("src").startsWith("data:")||this.$$("src").startsWith("blob:"))return this.$$("src");if(fh&&this.$$("src")&&!this.$$("src").includes("//"))return this._proxyUrl(this.$$("src"));let i=this._getCdnModifiers(e,r);if(this.$$("src").startsWith(this.$$("cdn-cname")))return le(this.$$("src"),i);if(this.$$("cdn-cname")&&this.$$("uuid"))return this._proxyUrl(le(Lr(this.$$("cdn-cname"),this.$$("uuid")),i));if(this.$$("uuid"))return this._proxyUrl(le(Lr(this.$$("cdn-cname"),this.$$("uuid")),i));if(this.$$("proxy-cname"))return this._proxyUrl(le(this.$$("proxy-cname"),i,this._fmtAbs(this.$$("src"))));if(this.$$("pubkey"))return this._proxyUrl(le(`https://${this.$$("pubkey")}.ucr.io/`,i,this._fmtAbs(this.$$("src"))))}_proxyUrl(e){return this.$$("secure-delivery-proxy")?Ao(this.$$("secure-delivery-proxy"),{previewUrl:e},{transform:i=>window.encodeURIComponent(i)}):e}_getElSize(e,r=1,i=!0){let n=e.getBoundingClientRect(),o=r*Math.round(n.width),s=i?"":r*Math.round(n.height);return o||s?`${o||""}x${s||""}`:null}_setupEventProxy(e){let r=n=>{n.stopPropagation();let o=new Event(n.type,n);this.dispatchEvent(o)},i=["load","error"];for(let n of i)e.addEventListener(n,r)}get img(){return this.hasPreviewImage||(this._setupConfigForImage({elNode:this._img}),this.appendChild(this._img)),this._img}get currentImg(){return this.hasPreviewImage?{type:vh.PREVIEW,img:this._imgPreview}:{type:vh.MAIN,img:this.img}}get hasPreviewImage(){return this.$$("is-preview-blur")}get bgSelector(){return this.$$("is-background-for")}get breakpoints(){if(this.$$("breakpoints")){let e=me(this.$$("breakpoints"));return Zv(e.map(r=>parseInt(r,10)))}else return null}get hasFormatJPG(){return this.$$("format").toLowerCase()==="jpeg"}renderBg(e){let r=new Set;r.add(`url("${this._getUrlBase(this._getElSize(e))}") 1x`),this.$$("hi-res-support")&&r.add(`url("${this._getUrlBase(this._getElSize(e,2))}") ${2}x`),this.$$("ultra-res-support")&&r.add(`url("${this._getUrlBase(this._getElSize(e,3))}") ${3}x`);let i=`image-set(${[...r].join(", ")})`;e.style.setProperty("background-image",i),e.style.setProperty("background-image","-webkit-"+i)}getSrcset(){let e=new Set;return this.breakpoints?this.breakpoints.forEach(r=>{e.add(this._getUrlBase(r+"x")+` ${this._validateSize(r+"w")}`),this.$$("hi-res-support")&&e.add(this._getUrlBase(r*2+"x")+` ${this._validateSize(r*2+"w")}`),this.$$("ultra-res-support")&&e.add(this._getUrlBase(r*3+"x")+` ${this._validateSize(r*3+"w")}`)}):(e.add(this._getUrlBase(this._getElSize(this.currentImg.img))+" 1x"),this.$$("hi-res-support")&&e.add(this._getUrlBase(this._getElSize(this.currentImg.img,2))+" 2x"),this.$$("ultra-res-support")&&e.add(this._getUrlBase(this._getElSize(this.currentImg.img,3))+" 3x")),[...e].join()}getSrc(){return this._getUrlBase()}get srcUrlPreview(){return this._getUrlBase("100x","100")}renderBackground(){[...document.querySelectorAll(this.bgSelector)].forEach(e=>{this.$$("intersection")?this.initIntersection(e,()=>{this.renderBg(e)}):this.renderBg(e)})}_appendURL({elNode:e,src:r,srcset:i}){r&&(e.src=r),i&&(e.srcset=i)}_setupConfigForImage({elNode:e}){this._setupEventProxy(e),this.initAttributes(e)}loaderImage({src:e,srcset:r,elNode:i}){return new Promise((n,o)=>{this._setupConfigForImage({elNode:i}),i.setAttribute(ph,""),i.addEventListener("load",()=>{i.removeAttribute(ph),n(i)}),i.addEventListener("error",()=>{o(!1)}),this._appendURL({elNode:i,src:e,srcset:r})})}async renderImage(){if(this.$$("intersection")){this.hasPreviewImage&&(this._setupConfigForImage({elNode:this._imgPreview}),this.appendChild(this._imgPreview)),this.initIntersection(this.currentImg.img,async()=>{this.hasPreviewImage&&(this._imgPreview.src=this.srcUrlPreview);try{await this.loaderImage({src:this.getSrc(),srcset:this.getSrcset(),elNode:this._img}),this.hasPreviewImage&&await this._imgPreview.remove(),this.appendChild(this._img)}catch{this.hasPreviewImage&&await this._imgPreview?.remove(),this.appendChild(this._img)}});return}try{this.hasPreviewImage&&(await this.loaderImage({src:this.srcUrlPreview,elNode:this._imgPreview}),this.appendChild(this._imgPreview)),await this.loaderImage({src:this.getSrc(),srcset:this.getSrcset(),elNode:this._img}),this.hasPreviewImage&&await this._imgPreview?.remove(),this.appendChild(this._img)}catch{this.hasPreviewImage&&await this._imgPreview?.remove(),this.appendChild(this._img)}}init(){this.bgSelector?this.renderBackground():this.renderImage()}}});var kl,o1=v(()=>{n1();kl=class extends xl{initCallback(){super.initCallback(),this.sub$$("src",()=>{this.init()}),this.sub$$("uuid",()=>{this.init()}),this.sub$$("lazy",e=>{!this.$$("is-background-for")&&!this.$$("is-preview-blur")&&(this.img.loading=e?"lazy":"eager")})}}});var un,s1=v(()=>{Fe();Fo();un=class extends F{static styleAttrs=[...super.styleAttrs,"uc-simple-btn"];couldBeCtxOwner=!0;constructor(){super(),this.init$={...this.init$,withDropZone:!0,onClick:()=>{this.api.initFlow()},"button-text":""}}initCallback(){super.initCallback(),this.defineAccessor("dropzone",e=>{typeof e>"u"||(this.$.withDropZone=D(e))}),this.subConfigValue("multiple",e=>{this.$["button-text"]=e?"upload-files":"upload-file"})}};un.template=`
  <uc-drop-area set="@disabled: !withDropZone">
    <button type="button" set="onclick: onClick">
      <uc-icon name="upload"></uc-icon>
      <span l10n="button-text"></span>
      <slot></slot>
      <div class="uc-visual-drop-area" l10n="drop-files-here"></div>
    </button>
  </uc-drop-area>
`;un.bindAttributes({dropzone:null})});var jo,a1=v(()=>{xe();jo=class extends x{historyTracked=!0;activityType=x.activities.START_FROM;initCallback(){super.initCallback(),this.registerActivity(this.activityType)}};jo.template=' <div class="uc-content"><slot></slot></div> '});function q5(t){return new Promise(e=>{typeof window.FileReader!="function"&&e(!1);try{let r=new FileReader;r.onerror=()=>{e(!0)};let i=n=>{n.type!=="loadend"&&r.abort(),e(!1)};r.onloadend=i,r.onprogress=i,r.readAsDataURL(t)}catch{e(!1)}})}function Y5(t,e){return new Promise(r=>{let i=0,n=[],o=a=>{a||(console.warn("Unexpectedly received empty content entry",{scope:"drag-and-drop"}),r(null)),a.isFile?(i++,a.file(l=>{i--;let c=new File([l],l.name,{type:l.type||e});n.push({type:"file",file:c,fullPath:a.fullPath}),i===0&&r(n)})):a.isDirectory&&s(a.createReader())},s=a=>{i++,a.readEntries(l=>{i--;for(let c of l)o(c);i===0&&r(n)})};o(t)})}function l1(t){let e=[],r=[];for(let i=0;i<t.items.length;i++){let n=t.items[i];if(n)if(n.kind==="file"){let o=n.type;if(typeof n.webkitGetAsEntry=="function"||typeof n.getAsEntry=="function"){let a=typeof n.webkitGetAsEntry=="function"?n.webkitGetAsEntry():n.getAsEntry();r.push(Y5(a,o).then(l=>{l&&e.push(...l)}));continue}let s=n.getAsFile();s&&r.push(q5(s).then(a=>{a||e.push({type:"file",file:s})}))}else n.kind==="string"&&n.type.match("^text/uri-list")&&r.push(new Promise(o=>{n.getAsString(s=>{e.push({type:"url",url:s}),o(void 0)})}))}return Promise.all(r).then(()=>e)}var c1=v(()=>{});function Q5(t,e){let r=Math.max(Math.min(t[0],e.x+e.width),e.x),i=Math.max(Math.min(t[1],e.y+e.height),e.y);return Math.sqrt((t[0]-r)*(t[0]-r)+(t[1]-i)*(t[1]-i))}function _h(t){let e=0,r=document.body,i=new Set,n=y=>i.add(y),o=Oe.INACTIVE,s=y=>{t.shouldIgnore()&&y!==Oe.INACTIVE||(o!==y&&i.forEach(b=>b(y)),o=y)},a=()=>e>0;n(y=>t.onChange(y));let l=()=>{e=0,s(Oe.INACTIVE)},c=()=>{e+=1,o===Oe.INACTIVE&&s(Oe.ACTIVE)},u=()=>{e-=1,a()||s(Oe.INACTIVE)},d=y=>{y.preventDefault(),e=0,s(Oe.INACTIVE)},h=y=>{if(t.shouldIgnore())return;a()||(e+=1);let b=[y.x,y.y],S=t.element.getBoundingClientRect(),f=Math.floor(Q5(b,S)),p=f<Z5,m=y.composedPath().includes(t.element);bh.set(t.element,f);let _=Math.min(...bh.values())===f;m&&_?(y.preventDefault(),s(Oe.OVER)):s(p&&_?Oe.NEAR:Oe.ACTIVE)},g=async y=>{if(t.shouldIgnore())return;y.preventDefault();let b=await l1(y.dataTransfer);t.onItems(b),s(Oe.INACTIVE)};return r.addEventListener("drop",d),r.addEventListener("dragleave",u),r.addEventListener("dragenter",c),r.addEventListener("dragover",h),t.element.addEventListener("drop",g),u1.forEach(y=>{window.addEventListener(y,l)}),()=>{bh.delete(t.element),r.removeEventListener("drop",d),r.removeEventListener("dragleave",u),r.removeEventListener("dragenter",c),r.removeEventListener("dragover",h),t.element.removeEventListener("drop",g),u1.forEach(y=>{window.removeEventListener(y,l)})}}var Oe,u1,Z5,bh,d1=v(()=>{c1();Oe={ACTIVE:0,INACTIVE:1,NEAR:2,OVER:3},u1=["focus"],Z5=100,bh=new Map});var h1,dn,hn,p1=v(()=>{st();xe();Fe();Jt();Fo();Mt();d1();h1="uc-drop-area",dn=`${h1}/registry`,hn=class extends F{static styleAttrs=[...super.styleAttrs,"uc-drop-area"];constructor(){super(),this.init$={...this.init$,state:Oe.INACTIVE,withIcon:!1,isClickable:!1,isFullscreen:!1,isEnabled:!0,isVisible:!0,isInitFlow:!1,text:"",[dn]:null}}isActive(){if(!this.$.isEnabled)return!1;let e=this.getBoundingClientRect(),r=e.width>0&&e.height>0,i=e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth),n=window.getComputedStyle(this),o=n.visibility!=="hidden"&&n.display!=="none";return r&&o&&i}initCallback(){super.initCallback(),this.bindL10n("text",()=>this.l10n("drop-files-here")),this.$[dn]||(this.$[dn]=new Set),this.$[dn].add(this),this.defineAccessor("disabled",r=>{this.set$({isEnabled:!D(r)})}),this.defineAccessor("clickable",r=>{this.set$({isClickable:D(r)})}),this.defineAccessor("initflow",r=>{this.set$({isInitFlow:D(r)})}),this.defineAccessor("with-icon",r=>{this.set$({withIcon:D(r)})}),this.defineAccessor("fullscreen",r=>{this.set$({isFullscreen:D(r)})}),this.defineAccessor("text",r=>{typeof r=="string"?this.bindL10n("text",()=>this.l10n(r)||r):this.bindL10n("text",()=>this.l10n("drop-files-here"))}),this._destroyDropzone=_h({element:this,shouldIgnore:()=>this._shouldIgnore(),onChange:r=>{this.$.state=r},onItems:r=>{r.length&&(r.forEach(i=>{i.type==="url"?this.api.addFileFromUrl(i.url,{source:te.DROP_AREA}):i.type==="file"&&this.api.addFileFromObject(i.file,{source:te.DROP_AREA,fullPath:i.fullPath})}),this.uploadCollection.size&&(this.modalManager.open(x.activities.UPLOAD_LIST),this.set$({"*currentActivity":x.activities.UPLOAD_LIST})))}});let e=this.ref["content-wrapper"];e&&(this._destroyContentWrapperDropzone=_h({element:e,onChange:r=>{let i=Object.entries(Oe).find(([,n])=>n===r)?.[0].toLowerCase();i&&e.setAttribute("drag-state",i)},onItems:()=>{},shouldIgnore:()=>this._shouldIgnore()})),this.sub("state",r=>{let i=Object.entries(Oe).find(([,n])=>n===r)?.[0].toLowerCase();i&&this.setAttribute("drag-state",i)}),this.subConfigValue("sourceList",r=>{let i=me(r);this.$.isEnabled=i.includes(te.LOCAL),this.$.isVisible=this.$.isEnabled||!this.querySelector("[data-default-slot]")}),this.sub("isVisible",r=>{this.toggleAttribute("hidden",!r)}),this.sub("isClickable",r=>{this.toggleAttribute("clickable",r)}),this.$.isClickable&&(this._onAreaClicked=r=>{if(r.type==="keydown"){if(r.code==="Space"||r.code==="Enter"){if(this.$.isInitFlow){this.api.initFlow();return}this.api.openSystemDialog()}}else if(r.type==="click"){if(this.$.isInitFlow){this.api.initFlow();return}this.api.openSystemDialog()}},this.addEventListener("keydown",this._onAreaClicked),this.addEventListener("click",this._onAreaClicked))}_shouldIgnore(){return!this.$.isEnabled||!this._couldHandleFiles()?!0:this.$.isFullscreen?[...this.$[dn]].filter(i=>i!==this).filter(i=>i.isActive()).length>0:!1}_couldHandleFiles(){let e=this.cfg.multiple,r=this.cfg.multipleMax,i=this.uploadCollection.size;return!(e&&r&&i>=r||!e&&i>0)}destroyCallback(){super.destroyCallback();let e=this.$[dn];e&&(e.delete(this),e.size===0&&P.deleteCtx(h1)),this._destroyDropzone?.(),this._destroyContentWrapperDropzone?.(),this._onAreaClicked&&(this.removeEventListener("keydown",this._onAreaClicked),this.removeEventListener("click",this._onAreaClicked))}};hn.template=`
  <slot>
    <div data-default-slot hidden></div>
    <div ref="content-wrapper" class="uc-content-wrapper" set="@hidden: !isVisible">
      <div class="uc-icon-container" set="@hidden: !withIcon">
        <uc-icon name="default"></uc-icon>
        <uc-icon name="arrow-down"></uc-icon>
      </div>
      <span class="uc-text">{{text}}</span>
    </div>
  </slot>
`;hn.bindAttributes({"with-icon":null,clickable:null,text:null,fullscreen:null,disabled:null,initflow:null})});var J5,pn,f1=v(()=>{xe();Fe();Ro();on();Mt();J5="src-type-",pn=class extends F{couldBeCtxOwner=!0;type=void 0;_registeredTypes={};constructor(){super(),this.init$={...this.init$,iconName:"default","src-type":""}}initTypes(){this.registerType({type:te.LOCAL,activate:()=>(this.api.openSystemDialog(),!1)}),this.registerType({type:te.URL,activity:x.activities.URL,textKey:"from-url"}),this.registerType({type:te.CAMERA,activity:x.activities.CAMERA,activate:()=>{let e=di.htmlMediaCapture;return e&&this.api.openSystemDialog({captureCamera:!0}),!e}}),this.registerType({type:"draw",activity:x.activities.DRAW,icon:"edit-draw"});for(let e of Object.values(qd))this.registerType({type:e,activity:x.activities.CAMERA,activate:()=>{let r=di.htmlMediaCapture;return r&&this.api.openSystemDialog({captureCamera:!0,modeCamera:e==="mobile-photo-camera"?U.PHOTO:U.VIDEO}),!r}});for(let e of Object.values(_t))this.registerType({type:e,activity:x.activities.EXTERNAL,activityParams:{externalSourceType:e}})}initCallback(){super.initCallback(),this.initTypes(),this.defineAccessor("type",e=>{e&&this.applyType(e)})}registerType(e){this._registeredTypes[e.type]=e}getType(e){return this._registeredTypes[e]}activate(){if(!this.type)return;let e=this._registeredTypes[this.type],{activity:r,activate:i,activityParams:n={}}=e;(i?i():!!r)&&(this.modalManager.open(r),this.set$({"*currentActivityParams":n,"*currentActivity":r}))}applyType(e){let r=this._registeredTypes[e];if(!r){console.warn("Unsupported source type: "+e);return}let{textKey:i=e,icon:n=e}=r;this.$["src-type"]=`${J5}${i}`,this.$.iconName=n,this.onclick=()=>{this.activate()}}};pn.template=`
  <button type="button">
    <uc-icon set="@name: iconName"></uc-icon>
    <div class="uc-txt" l10n="src-type"></div>
  </button>
`;pn.bindAttributes({type:null})});var Cl,m1=v(()=>{ee();Ro();Jt();It();Cl=class extends I{initCallback(){super.initCallback(),this.subConfigValue("sourceList",e=>{let r=me(e),i="";r.forEach(n=>{if(n==="instagram"){console.error("Instagram source was removed because the Instagram Basic Display API hasn't been available since December 4, 2024. Official statement, see here:https://developers.facebook.com/blog/post/2024/09/04/update-on-instagram-basic-display-api/?locale=en_US");return}if(n==="camera"&&di.htmlMediaCapture){this.subConfigValue("cameraModes",o=>{let s=De(o);s.forEach(a=>{i+=`<uc-source-btn role="listitem" type="mobile-${a}-camera"></uc-source-btn>`}),s.length===0&&(i+='<uc-source-btn role="listitem" type="mobile-photo-camera"></uc-source-btn>')});return}i+=`<uc-source-btn role="listitem" type="${n}"></uc-source-btn>`}),this.cfg.sourceListWrap?this.innerHTML=i:this.outerHTML=i})}}});function x1(t){return(...e)=>new Promise(r=>{setTimeout(()=>{let i=t(...e);r(i)},0)})}var Sl,ex,v1,y1,tx,rx,Ho,ix,nx,ox,El,sx,ax,lx,cx,ux,dx,hx,px,g1,fx,b1,_1,Dr,mx,w1,gx,vx,k1,C1,yx,bx,_x,wx,xx,wh,kx,E1,S1=v(()=>{Sl=()=>{let t=[];return{stack:t,promiseReadJpegChunks:r=>new Promise((i,n)=>{let o=2,s=(c,u)=>{let d=new FileReader;d.addEventListener("load",()=>{u(new DataView(d.result))}),d.addEventListener("error",h=>{n(`Reader error: ${h}`)}),d.readAsArrayBuffer(c)},a=()=>s(r.slice(o,o+128),c=>{let u,d,h;for(u=d=0,h=c.byteLength;h>=0?d<h:d>h;u=h>=0?++d:--d)if(c.getUint8(u)===255){o+=u;break}l()}),l=()=>{let c=o;return s(r.slice(o,o+=4),u=>{if(u.byteLength!==4||u.getUint8(0)!==255){n("Corrupted");return}let d=u.getUint8(1);if(d===218){i(!0);return}let h=u.getUint16(2)-2;return s(r.slice(o,o+=h),g=>{if(g.byteLength!==h){n("Corrupted");return}t.push({startPos:c,length:h,marker:d,view:g}),a()})})};FileReader&&DataView||n("Not Support"),s(r.slice(0,2),c=>{c.getUint16(0)!==65496&&n("Not jpeg"),a()})})}},ex=async t=>{let e=[],{promiseReadJpegChunks:r,stack:i}=Sl();return await r(t),i.forEach(({marker:n,view:o})=>{n===226&&o.getUint32(0)===1229144927&&o.getUint32(4)===1347571526&&o.getUint32(8)===1229735168&&e.push(o)}),e},v1=async(t,e,r)=>{{let i=[],n=[],{promiseReadJpegChunks:o,stack:s}=Sl();await o(t),s.forEach(c=>{if(c.marker===e)return i.push(c.startPos),n.push(c.length)});let a=[t.slice(0,2)];for(let c of r){let u=new DataView(new ArrayBuffer(4));u.setUint16(0,65280+e),u.setUint16(2,c.byteLength+2),a.push(u.buffer),a.push(c)}let l=2;for(let c=0;c<i.length;c++)i[c]>l&&a.push(t.slice(l,i[c])),l=i[c]+n[c]+4;return a.push(t.slice(l,t.size)),new Blob(a,{type:t.type})}},y1=(t,e)=>v1(t,226,e.map(r=>r.buffer)),tx=async t=>{try{return await y1(t,[])}catch(e){throw new Error(`Failed to strip ICC profile: ${e}`)}},rx=(t,e,r)=>new Promise((i,n)=>{let o=s=>{if(!s){n("Failed to convert canvas to blob");return}i(s)};t.toBlob(o,e,r),t.width=t.height=1}),Ho=()=>{let t=document.createElement("canvas"),e=t.getContext("2d");return{canvas:t,ctx:e}},ix=t=>{let{ctx:r,canvas:i}=Ho();i.width=i.height=50,r.drawImage(t,0,0,50,50);let n=r.getImageData(0,0,50,50).data;i.width=i.height=1;for(let o=3;o<n.length;o+=4)if(n[o]<254)return!0;return!1},nx=async t=>{let e=null,{promiseReadJpegChunks:r,stack:i}=Sl();return await r(t),i.forEach(({marker:n,view:o})=>{if(!e&&n===225&&o.byteLength>=14&&o.getUint32(0)===1165519206&&o.getUint16(4)===0){e=o;return}}),e},ox="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=",sx=()=>new Promise(t=>{if(El!==void 0)t(El);else{let e=new Image;e.addEventListener("load",()=>{El=e.naturalWidth<e.naturalHeight,e.src="//:0",t(El)}),e.src=ox}}),ax=(t,e)=>{let r,i,n,o;if(!t||t.byteLength<14||t.getUint32(0)!==1165519206||t.getUint16(4)!==0)return;if(t.getUint16(6)===18761)i=!0;else if(t.getUint16(6)===19789)i=!1;else return;if(t.getUint16(8,i)!==42)return;n=8+t.getUint32(10,i);let s=t.getUint16(n-2,i);for(r=0,o=s;o>=0?r<o:r>o;o>=0?++r:--r){if(t.byteLength<n+10)return;t.getUint16(n,i)===274&&e(n+8,i),n+=12}},lx=(t,e)=>{ax(t,(r,i)=>t.setUint16(r,e,i))},cx=async(t,e,r)=>(r&&lx(e,1),v1(t,225,[e.buffer])),ux=(t,e)=>new Promise((r,i)=>{e&&(t.src=e),t.complete?r(t):(t.addEventListener("load",()=>{r(t)}),t.addEventListener("error",()=>{i(new Error("Failed to load image. Probably not an image."))}))}),dx=t=>ux(new Image,t),hx=[1,3],px=[192,193,194,195,197,198,199,201,202,203,205,206,207],g1={squareSide:[Math.floor(Math.sqrt(5*1e3*1e3)),4096,8192,11180,10836,11402,14188,16384],dimension:[4096,8192,16384,32767,65535]},fx=async t=>{let e=!1,{promiseReadJpegChunks:r,stack:i}=Sl();return await r(t).then(()=>(i.forEach(({marker:n,view:o})=>{if(!e&&px.indexOf(n)>=0){let s=o.getUint8(5);hx.indexOf(s)<0&&(e=!0)}}),e)).catch(()=>e)},b1=(t,e)=>{let r={};return(...i)=>{let n=e(i,r);return n in r?r[n]:r[n]=t(...i)}},_1=(t,e)=>{let[r]=t,i=Object.keys(e).map(n=>parseInt(n,10)).sort((n,o)=>n-o);for(let n=0;n<i.length;n++){let o=i[n],s=!!e[o];if(o>r&&s||o<r&&!s)return o}return r},Dr={R:55,G:110,B:165,A:255},mx=`rgba(${Dr.R}, ${Dr.G}, ${Dr.B}, ${Dr.A/255})`,w1=(t,e)=>{try{let r=[t-1,e-1,1,1],{canvas:i,ctx:n}=Ho();i.width=1,i.height=1;let{canvas:o,ctx:s}=Ho();o.width=t,o.height=e,s&&(s.fillStyle=mx,s.fillRect(...r),n.drawImage(o,t-1,e-1,1,1,0,0,1,1));let a=n&&n.getImageData(0,0,1,1).data,l=!1;return a&&(l=a[0]===Dr.R&&a[1]===Dr.G&&a[2]===Dr.B&&a[3]===Dr.A),o.width=o.height=1,l}catch{return console.error(`Failed to test for max canvas size of ${t}x${e}.`),!1}};gx=x1(b1(w1,_1)),vx=x1(b1(w1,_1)),k1=async(t,e)=>{let r=g1.squareSide.find(s=>s*s>=t*e),i=g1.dimension.find(s=>s>=t&&s>=e);if(!r||!i)throw new Error("Not supported");let[n,o]=await Promise.all([gx(r,r),vx(i,1)]);if(n&&o)return!0;throw new Error("Not supported")},C1=async(t,e,r)=>{try{let{ctx:i,canvas:n}=Ho();return n.width=e,n.height=r,i.imageSmoothingQuality="high",i.drawImage(t,0,0,e,r),t instanceof HTMLImageElement&&(t.src="//:0"),t instanceof HTMLCanvasElement&&(t.width=t.height=1),n}catch(i){throw new Error("Canvas resize error",{cause:i})}},yx=({img:t,targetW:e,targetH:r})=>C1(t,e,r),bx=function({sourceW:t,targetW:e,targetH:r,step:i}){let n=[],o=e,s=r;do n.push([o,s]),o=Math.round(o/i),s=Math.round(s/i);while(o<t*i);return n.reverse()},_x=({img:t,sourceW:e,targetW:r,targetH:i,step:n})=>{let o=bx({sourceW:e,targetW:r,targetH:i,step:n});return o.reduce((s,[a,l],c)=>s.then(u=>k1(a,l).then(()=>C1(u,a,l)).catch(()=>{if(c===o.length-1)throw new Error("Not supported");return u})),Promise.resolve(t))},wx=()=>/iPad|iPhone|iPod/.test(navigator.platform)?!0:navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),xx=navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),wh=.71,kx=(t,e)=>{if(t.width*wh*t.height*wh<e.size)throw new Error("Not required");let r=t.width,i=t.height,n=r/i,o=Math.floor(Math.sqrt(e.size*n)),s=Math.floor(e.size/Math.sqrt(e.size*n));return k1(o,s).then(()=>{let{ctx:a}=Ho();return"imageSmoothingQuality"in a&&!wx()&&!xx?yx({img:t,targetW:o,targetH:s}):_x({img:t,sourceW:r,targetW:o,targetH:s,step:wh})}).catch(()=>Promise.reject("Not supported"))},E1=async(t,e)=>{try{if(await fx(t))throw new Error("Should skipped");let i=await Promise.allSettled([nx(t),sx(),ex(t)]),o=!i.some(b=>b.status==="rejected"),[s,a,l]=i,c=await tx(t).catch(()=>t),u=await dx(URL.createObjectURL(c));URL.revokeObjectURL(u.src);let d=await kx(u,e),h="image/jpeg",g=e?.quality||.8;!o&&ix(d)&&(h="image/png",g=void 0);let y=await rx(d,h,g);if(o&&s.status==="fulfilled"&&s.value){let b=s.value,S=a.status==="fulfilled"?a.value:!1;y=await cx(y,b,S)}return o&&l.status==="fulfilled"&&l.value.length>0&&(y=await y1(y,l.value)),y}catch(r){let i;throw r instanceof Error&&(i=r.message),typeof r=="string"&&(i=r),new Error(`Failed to shrink image. ${i?`Message: "${i}".`:""}`,{cause:r})}}});var Cx,A1,T1=v(()=>{Cx=/^([0-9]+)x([0-9]+)(?:\s+(\d{1,2}|100)%)?$/i,A1=t=>{let e=Cx.exec(t?.toLocaleLowerCase())||[];if(!e.length)return!1;let r=e[1]*e[2],i=16384*16384;return r>i?(console.warn(`Shrinked size can not be larger than ${Math.floor(i/1e3/1e3)}MP. You have set ${e[1]}x${e[2]} (${Math.ceil(r/1e3/100)/10}MP).`),!1):{quality:e[3]?e[3]/100:void 0,size:r}}});var fn,Al=v(()=>{fn=(t,e)=>{let r,i,n,o=(...s)=>{r?(clearTimeout(i),i=setTimeout(()=>{Date.now()-n>=e&&(t(...s),n=Date.now())},Math.max(e-(Date.now()-n),0))):(t(...s),n=Date.now(),r=!0)};return Object.defineProperty(o,"cancel",{configurable:!1,writable:!1,enumerable:!1,value:()=>{clearTimeout(i)}}),o}});var mn,xh=v(()=>{Fe();mn=class extends F{_entrySubs=new Set;_entry=null;_withEntry(e){return(...i)=>{let n=this._entry;if(!n){console.warn("No entry found");return}return e(n,...i)}}_subEntry(e,r){return this._withEntry((i,n,o)=>{let s=i.subscribe(n,a=>{this.isConnected&&o(a)});this._entrySubs.add(s)})(e,r)}_reset(){for(let e of this._entrySubs)e.remove();this._entrySubs=new Set,this._entry=null}disconnectedCallback(){super.disconnectedCallback(),this._entrySubs=new Set}}});var Qe,gn,I1=v(()=>{S1();li();xe();T1();Mt();Ye();Al();xh();Qe=Object.freeze({FINISHED:Symbol("FINISHED"),FAILED:Symbol("FAILED"),UPLOADING:Symbol("UPLOADING"),IDLE:Symbol("IDLE")}),gn=class t extends mn{couldBeCtxOwner=!0;pauseRender=!0;_renderedOnce=!1;constructor(){super(),this.init$={...this.init$,uid:"",itemName:"",errorText:"",hint:"",thumbUrl:"",progressValue:0,progressVisible:!1,badgeIcon:"",isFinished:!1,isFailed:!1,isUploading:!1,isFocused:!1,isEditable:!1,showFileNames:!1,state:Qe.IDLE,ariaLabelStatusFile:"",onEdit:this._withEntry(e=>{this.$["*currentActivityParams"]={internalId:e.uid},this.modalManager.open(x.activities.CLOUD_IMG_EDIT),this.$["*currentActivity"]=x.activities.CLOUD_IMG_EDIT}),onRemove:()=>{this.uploadCollection.remove(this.$.uid)},onUpload:()=>{this.upload()}}}_reset(){super._reset(),this._debouncedCalculateState.cancel()}_observerCallback(e){let[r]=e;this._isIntersecting=r.isIntersecting,this._thumbRect=r.boundingClientRect,r.isIntersecting&&!this._renderedOnce&&(this.render(),this._renderedOnce=!0)}_calculateState=this._withEntry(e=>{let r=Qe.IDLE;e.getValue("errors").length>0?r=Qe.FAILED:e.getValue("isUploading")?r=Qe.UPLOADING:e.getValue("fileInfo")&&(r=Qe.FINISHED),this.$.state=r});_debouncedCalculateState=K(this._calculateState.bind(this),100);_updateHint=this._withEntry(fn(e=>{let r=e.getValue("source"),i=e.getValue("externalUrl"),n=e.getValue("errors").length===0,o=this.$.progressValue===0,s=this.$.state===Qe.UPLOADING,a=e.getValue("isQueued");if(!n||!s||!o){this.$.hint="";return}if(a){let l=this.l10n("queued");this.$.hint=l;return}if(i&&r&&Object.values(_t).includes(r)){let l=this.l10n("waiting-for",{source:this.l10n(`src-type-${r}`)});this.$.hint=l;return}this.$.hint=""},100));_handleEntryId(e){this._reset();let r=this.uploadCollection?.read(e);this._entry=r,r&&(this._subEntry("uploadProgress",i=>{this.$.progressValue=i,this._updateHint()}),this._subEntry("isQueued",()=>{this._updateHint()}),this._subEntry("fileName",i=>{this.$.itemName=i||r.getValue("externalUrl")||this.l10n("file-no-name"),this._debouncedCalculateState()}),this._subEntry("externalUrl",i=>{this.$.itemName=r.getValue("fileName")||i||this.l10n("file-no-name")}),this._subEntry("fileInfo",()=>{this._debouncedCalculateState()}),this._subEntry("errors",()=>this._debouncedCalculateState()),this._subEntry("isUploading",()=>this._debouncedCalculateState()),this._subEntry("fileSize",()=>this._debouncedCalculateState()),this._subEntry("mimeType",()=>this._debouncedCalculateState()),this._subEntry("isImage",()=>this._debouncedCalculateState()))}_updateShowFileNames(e){if(this.cfg.filesViewMode==="list"){this.$.showFileNames=!0;return}this.$.showFileNames=e}initCallback(){super.initCallback(),this.sub("uid",e=>{this._handleEntryId(e)}),this.sub("state",e=>{this._handleState(e)}),this.subConfigValue("useCloudImageEditor",()=>this._debouncedCalculateState()),this.subConfigValue("filesViewMode",e=>{this._updateShowFileNames(this.cfg.gridShowFileNames),this.setAttribute("mode",e)}),this.subConfigValue("gridShowFileNames",e=>{this._updateShowFileNames(e)}),this.onclick=()=>{t.activeInstances.forEach(e=>{e===this?e.setAttribute("focused",""):e.removeAttribute("focused")})},this.sub("*uploadTrigger",e=>{this._entry&&!e.has(this._entry.uid)||setTimeout(()=>this.isConnected&&this.upload())}),t.activeInstances.add(this)}_handleState=this._withEntry((e,r)=>{r===Qe.FAILED?this.$.badgeIcon="badge-error":r===Qe.FINISHED&&(this.$.badgeIcon="badge-success"),r===Qe.UPLOADING&&(this.$.isFocused=!1);let i=e.getValue("fileName");this.set$({isFailed:r===Qe.FAILED,isUploading:r===Qe.UPLOADING,isFinished:r===Qe.FINISHED,progressVisible:r===Qe.UPLOADING,isEditable:this.cfg.useCloudImageEditor&&this._entry?.getValue("isImage")&&this._entry?.getValue("cdnUrl"),errorText:e.getValue("errors")?.[0]?.message,ariaLabelStatusFile:i&&this.l10n("a11y-file-item-status",{fileName:i,status:this.l10n(r?.description?.toLocaleLowerCase()??"").toLocaleLowerCase()})}),this._updateHint()});destroyCallback(){super.destroyCallback(),t.activeInstances.delete(this),this._reset()}connectedCallback(){super.connectedCallback(),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:[0,1]}),this._observer.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this._observer?.disconnect()}_settingsOfShrink(){return A1(this.cfg.imageShrink)}_processShrink(e){return E1(e,this._settingsOfShrink())}upload=this._withEntry(async e=>{if(!this.uploadCollection.read(e.uid)||e.getValue("fileInfo")||e.getValue("isUploading")||e.getValue("errors").length>0)return;let r=this.cfg.multiple?this.cfg.multipleMax:1;if(!(r&&this.uploadCollection.size>r)){this._debouncedCalculateState(),e.setMultipleValues({isUploading:!0,errors:[],isQueued:!0});try{let i=new AbortController;e.setValue("abortController",i);let n=async()=>{e.setValue("isQueued",!1);let s=e.getValue("file");s&&this.cfg.imageShrink&&(s=await this._processShrink(s).catch(()=>s));let a=s||e.getValue("externalUrl")||e.getValue("uuid");if(!a)throw new Error("No file input");let c={...await this.getUploadClientOptions(),fileName:e.getValue("fileName")??void 0,source:e.getValue("source")??void 0,onProgress:u=>{if(u.isComputable){let d=u.value*100;e.setValue("uploadProgress",d)}},signal:i.signal,metadata:await this.getMetadataFor(e.uid)};return this.debugPrint("upload options",a,c),Pd(a,c)},o=await this.$["*uploadQueue"].add(n);e.setMultipleValues({fileInfo:o,isQueued:!1,isUploading:!1,fileName:o.originalFilename,fileSize:o.size,isImage:o.isImage??!1,mimeType:o.contentInfo?.mime?.mime??o.mimeType,uuid:o.uuid,cdnUrl:e.getValue("cdnUrl")??o.cdnUrl,cdnUrlModifiers:e.getValue("cdnUrlModifiers")??"",uploadProgress:100,source:e.getValue("source")??null}),e===this._entry&&this._debouncedCalculateState()}catch(i){i instanceof Pr&&i.isCancel?e.setMultipleValues({isUploading:!1,uploadProgress:0}):i instanceof si?e.setMultipleValues({isUploading:!1,uploadProgress:0,uploadError:i}):(console.error("Unknown upload error",i),e.setMultipleValues({isUploading:!1,uploadProgress:0,uploadError:new Error("Something went wrong",{cause:i})})),e===this._entry&&this._debouncedCalculateState()}}})};gn.template=`
  <div class="uc-inner" set="@finished: isFinished; @uploading: isUploading; @failed: isFailed; @focused: isFocused">
    <uc-thumb set="uid:uid;badgeIcon:badgeIcon"></uc-thumb>

    <div aria-atomic="true" aria-live="polite" class="uc-file-name-wrapper" set="@aria-label:ariaLabelStatusFile;">
      <span class="uc-file-name" set="@hidden: !showFileNames">{{itemName}}</span>
      <span class="uc-file-error" set="@hidden: !errorText;">{{errorText}}</span>
      <span class="uc-file-hint" set="@hidden: !hint">{{hint}}</span>
    </div>
    <div class="uc-file-actions">
      <button
        type="button"
        l10n="@title:file-item-edit-button;@aria-label:file-item-edit-button"
        class="uc-edit-btn uc-mini-btn"
        set="onclick: onEdit; @hidden: !isEditable"
      >
        <uc-icon name="edit-file"></uc-icon>
      </button>
      <button
        type="button"
        l10n="@title:file-item-remove-button;@aria-label:file-item-remove-button"
        class="uc-remove-btn uc-mini-btn"
        set="onclick: onRemove;"
      >
        <uc-icon name="remove-file"></uc-icon>
      </button>
      <button type="button" class="uc-upload-btn uc-mini-btn" set="onclick: onUpload;">
        <uc-icon name="upload"></uc-icon>
      </button>
    </div>
    <uc-progress-bar
      class="uc-progress-bar"
      set="value: progressValue; visible: progressVisible; @hasFileName: showFileNames;"
    >
    </uc-progress-bar>
  </div>
`;gn.activeInstances=new Set});var kh,Wo,O1=v(()=>{ee();Lo();ir();kh=null,Wo=class extends I{static styleAttrs=[...super.styleAttrs,"uc-modal"];static StateConsumerScope="modal";constructor(){super(),this.init$={...this.init$,closeClicked:this._handleDialogClose}}_handleBackdropClick=()=>{this._closeDialog()};_closeDialog=()=>{this.modalManager?.close(this.id),this.modalManager.hasActiveModals||(document.body.style.overflow="")};_handleDialogClose=()=>{this._closeDialog()};_handleDialogMouseDown=e=>{this._mouseDownTarget=e.target};_handleDialogMouseUp=e=>{e.target===this.ref.dialog&&e.target===this._mouseDownTarget&&this._closeDialog()};show(){this.ref.dialog.showModal?(this.setAttribute("aria-modal","true"),this.ref.dialog.showModal()):this.ref.dialog.setAttribute("open",""),this.cfg.modalScrollLock&&(document.body.style.overflow="hidden")}hide(){this.ref.dialog.close?(this.setAttribute("aria-modal","false"),this.ref.dialog.close()):this.ref.dialog.removeAttribute("open")}_handleModalOpen({id:e}){e===this.id?(kh=e,this.show()):this.hide(),this.emit(B.MODAL_OPEN,{modalId:e},{debounce:!0})}_handleModalClose({id:e}){e===this.id&&this.hide(),this.emit(B.MODAL_CLOSE,{modalId:e,hasActiveModals:this.modalManager.hasActiveModals},{debounce:!0})}_handleModalCloseAll(){this.hide(),kh===this.id&&this.emit(B.MODAL_CLOSE,{modalId:kh,hasActiveModals:this.modalManager.hasActiveModals},{debounce:!0})}initCallback(){super.initCallback(),this.modalManager?.registerModal(this.id,this),this.ref.dialog.addEventListener("close",this._handleDialogClose),this.ref.dialog.addEventListener("mousedown",this._handleDialogMouseDown),this.ref.dialog.addEventListener("mouseup",this._handleDialogMouseUp),this.subConfigValue("modalBackdropStrokes",e=>{e?this.setAttribute("strokes",""):this.removeAttribute("strokes")}),this.handleModalOpen=this._handleModalOpen.bind(this),this.handleModalClose=this._handleModalClose.bind(this),this.handleModalCloseAll=this._handleModalCloseAll.bind(this),this.modalManager.subscribe(oe.OPEN,this.handleModalOpen),this.modalManager.subscribe(oe.CLOSE,this.handleModalClose),this.modalManager.subscribe(oe.CLOSE_ALL,this.handleModalCloseAll)}destroyCallback(){super.destroyCallback(),document.body.style.overflow="",this._mouseDownTarget=void 0,this.ref.dialog.removeEventListener("close",this._handleDialogClose),this.ref.dialog.removeEventListener("mousedown",this._handleDialogMouseDown),this.ref.dialog.removeEventListener("mouseup",this._handleDialogMouseUp),this.modalManager.unsubscribe(oe.OPEN,this.handleModalOpen),this.modalManager.unsubscribe(oe.CLOSE,this.handleModalClose),this.modalManager.unsubscribe(oe.CLOSE_ALL,this.handleModalCloseAll)}};Wo.template=`
  <dialog ref="dialog">
    <slot></slot>
  </dialog>
`});var Go,L1=v(()=>{xe();Fe();ir();Al();Go=class extends F{couldBeCtxOwner=!0;historyTracked=!0;activityType=x.activities.UPLOAD_LIST;constructor(){super(),this.init$={...this.init$,doneBtnVisible:!1,doneBtnEnabled:!1,uploadBtnVisible:!1,addMoreBtnVisible:!1,addMoreBtnEnabled:!1,headerText:"",commonErrorMessage:"",hasFiles:!1,onAdd:()=>{this.api.initFlow(!0)},onUpload:()=>{this.emit(B.UPLOAD_CLICK),this.api.uploadAll(),this._throttledHandleCollectionUpdate()},onDone:()=>{this.emit(B.DONE_CLICK,this.api.getOutputCollectionState()),this.api.doneFlow()},onCancel:()=>{this.uploadCollection.clearAll()}}}_throttledHandleCollectionUpdate=fn(()=>{this.isConnected&&(this._updateUploadsState(),!this.couldOpenActivity&&this.$["*currentActivity"]===this.activityType&&this.historyBack())},300);_updateUploadsState(){let e=this.api.getOutputCollectionState(),r={total:e.totalCount,succeed:e.successCount,uploading:e.uploadingCount,failed:e.failedCount},i=!e.errors.some(d=>d.type==="TOO_MANY_FILES"||d.type==="TOO_FEW_FILES"),n=e.errors.some(d=>d.type==="TOO_MANY_FILES"),o=e.totalCount===(this.cfg.multiple?this.cfg.multipleMax:1),s=r.failed===0&&e.errors.length===0,a=!1,l=!1,c=!1;if(r.total-r.succeed-r.uploading-r.failed>0&&i)a=!0;else{l=!0;let d=this.cfg.groupOutput?!!e.group:!0;c=r.total===r.succeed&&i&&s&&d}this.set$({doneBtnVisible:l,doneBtnEnabled:c,uploadBtnVisible:a,addMoreBtnEnabled:r.total===0||!n&&!o,addMoreBtnVisible:!o||this.cfg.multiple}),this.bindL10n("headerText",()=>this._getHeaderText(r))}_getHeaderText(e){let r=i=>{let n=e[i];return this.l10n(`header-${i}`,{count:n})};return e.uploading>0?r("uploading"):e.failed>0?r("failed"):e.succeed>0?r("succeed"):r("total")}get couldOpenActivity(){return this.cfg.showEmptyList||this.uploadCollection.size>0}initCallback(){super.initCallback(),this.registerActivity(this.activityType),this.subConfigValue("multiple",this._throttledHandleCollectionUpdate),this.subConfigValue("multipleMin",this._throttledHandleCollectionUpdate),this.subConfigValue("multipleMax",this._throttledHandleCollectionUpdate),this.sub("*groupInfo",e=>{e&&this._throttledHandleCollectionUpdate()}),this.subConfigValue("filesViewMode",e=>{this.setAttribute("mode",e)}),this.sub("*currentActivity",e=>{!this.couldOpenActivity&&e===this.activityType&&(this.$["*currentActivity"]=this.initActivity)}),this.uploadCollection.observeProperties(this._throttledHandleCollectionUpdate),this.sub("*uploadList",e=>{this._throttledHandleCollectionUpdate(),this.set$({hasFiles:e.length>0}),this.cfg.confirmUpload||this.api.uploadAll()},!1),this.sub("*collectionErrors",e=>{let r=e.filter(i=>i.type!=="SOME_FILES_HAS_ERRORS")[0];if(!r){this.set$({commonErrorMessage:null});return}this.set$({commonErrorMessage:r.message})})}destroyCallback(){super.destroyCallback(),this.uploadCollection.unobserveProperties(this._throttledHandleCollectionUpdate)}};Go.template=`
  <uc-activity-header>
    <span aria-live="polite" class="uc-header-text">{{headerText}}</span>
    <button
      type="button"
      class="uc-mini-btn uc-close-btn"
      set="onclick: *closeModal"
      l10n="@title:a11y-activity-header-button-close;@aria-label:a11y-activity-header-button-close"
    >
      <uc-icon name="close"></uc-icon>
    </button>
  </uc-activity-header>

  <div class="uc-no-files" set="@hidden: hasFiles">
    <slot name="empty"><span l10n="no-files"></span></slot>
  </div>

  <div class="uc-files">
    <div class="uc-files-wrapper" repeat="*uploadList" repeat-item-tag="uc-file-item"></div>
    <button
      type="button"
      class="uc-add-more-btn uc-secondary-btn"
      set="onclick: onAdd; @disabled: !addMoreBtnEnabled; @hidden: !addMoreBtnVisible"
    >
      <uc-icon name="add"></uc-icon><span l10n="add-more"></span>
    </button>
  </div>

  <div class="uc-common-error" set="@hidden: !commonErrorMessage; textContent: commonErrorMessage;"></div>

  <div class="uc-toolbar">
    <button type="button" class="uc-cancel-btn uc-secondary-btn" set="onclick: onCancel;" l10n="clear"></button>
    <div class="uc-toolbar-spacer"></div>
    <button
      type="button"
      class="uc-add-more-btn uc-secondary-btn"
      set="onclick: onAdd; @disabled: !addMoreBtnEnabled; @hidden: !addMoreBtnVisible"
    >
      <uc-icon name="add"></uc-icon><span l10n="add-more"></span>
    </button>
    <button
      type="button"
      class="uc-upload-btn uc-primary-btn"
      set="@hidden: !uploadBtnVisible; onclick: onUpload;"
      l10n="upload"
    ></button>
    <button
      type="button"
      class="uc-done-btn uc-primary-btn"
      set="@hidden: !doneBtnVisible; onclick: onDone;  @disabled: !doneBtnEnabled"
      l10n="done"
    ></button>
  </div>

  <uc-drop-area ghost></uc-drop-area>
`});var Ko,M1=v(()=>{Fe();xe();Mt();Ko=class extends F{couldBeCtxOwner=!0;activityType=x.activities.URL;init$={...this.init$,importDisabled:!0,onUpload:e=>{e.preventDefault();let r=this.ref.input.value;this.api.addFileFromUrl(r,{source:te.URL}),this.modalManager.open(x.activities.UPLOAD_LIST),this.$["*currentActivity"]=x.activities.UPLOAD_LIST},onCancel:()=>{this.historyBack()},onInput:e=>{let r=e.target.value;this.set$({importDisabled:!r})}};initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{this.ref.input.value="",this.ref.input.focus()}})}};Ko.template=`
  <uc-activity-header>
    <button type="button" class="uc-mini-btn" set="onclick: *historyBack" l10n="@title:back;@aria-label:back">
      <uc-icon name="back"></uc-icon>
    </button>
    <div>
      <uc-icon name="url"></uc-icon>
      <span l10n="caption-from-url"></span>
    </div>
    <button
      type="button"
      class="uc-mini-btn uc-close-btn"
      set="onclick: *closeModal"
      l10n="@title:a11y-activity-header-button-close;@aria-label:a11y-activity-header-button-close"
    >
      <uc-icon name="close"></uc-icon>
    </button>
  </uc-activity-header>
  <form class="uc-content">
    <label>
      <input placeholder="https://" class="uc-url-input" type="text" ref="input" set="oninput: onInput" />
    </label>
    <button
      type="submit"
      class="uc-url-upload-btn uc-primary-btn"
      set="onclick: onUpload; @disabled: importDisabled"
      l10n="upload-url"
    ></button>
  </form>
`});var P1,$1=v(()=>{P1=()=>typeof navigator.permissions<"u"});function Tl(t){let e=Math.floor(t/60).toString().padStart(2,"0"),r=Math.floor(t%60).toString().padStart(2,"0");return`${e}:${r}`}var Ex,U1,R1,z1,Xo,D1=v(()=>{xe();Fe();Jt();$1();It();Ye();Mt();on();Ex={width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},U1=["camera","microphone"];R1="image/jpeg",z1="video/webm",Xo=class extends F{couldBeCtxOwner=!0;activityType=x.activities.CAMERA;_unsubPermissions=null;_chunks=[];_mediaRecorder=null;_stream=null;_selectedAudioId=null;_selectedCameraId=null;constructor(){super(),this.init$={...this.init$,video:null,videoTransformCss:null,videoHidden:!0,messageHidden:!0,requestBtnHidden:P1(),cameraSelectOptions:null,cameraSelectHidden:!0,l10nMessage:"",switcher:null,panels:null,timer:null,timerHidden:!0,cameraHidden:!0,cameraActionsHidden:!0,audioSelectOptions:null,audioSelectHidden:!0,audioSelectDisabled:!0,audioToggleMicrophoneHidden:!0,tabCameraHidden:!0,tabVideoHidden:!0,currentIcon:"camera-full",currentTimelineIcon:"play",toggleMicrophoneIcon:"microphone",_startTime:0,_elapsedTime:0,_animationFrameId:null,mutableClassButton:"uc-shot-btn uc-camera-action",onCameraSelectChange:e=>{this._selectedCameraId=e.target.value,this._capture()},onAudioSelectChange:e=>{this._selectedAudioId=e.target.value,this._capture()},onCancel:()=>{this.historyBack()},onShot:()=>this._shot(),onRequestPermissions:()=>this._capture(),onStartCamera:()=>this._chooseActionWithCamera(),onStartRecording:()=>this._startRecording(),onStopRecording:()=>this._stopRecording(),onToggleRecording:()=>this._toggleRecording(),onToggleAudio:()=>this._toggleEnableAudio(),onRetake:()=>this._retake(),onAccept:()=>this._accept(),onClickTab:e=>{let r=e.currentTarget.getAttribute("data-id");r&&this._handleActiveTab(r)}}}_chooseActionWithCamera=()=>{if(this._activeTab===U.PHOTO&&this._shot(),this._activeTab===U.VIDEO){if(this._mediaRecorder?.state==="recording"){this._stopRecording();return}this._startRecording()}};_updateTimer=()=>{let e=Math.floor((performance.now()-this.$._startTime+this.$._elapsedTime)/1e3);if(typeof this.cfg.maxVideoRecordingDuration=="number"&&this.cfg.maxVideoRecordingDuration>0){let r=this.cfg.maxVideoRecordingDuration-e;if(r<=0){this.ref.timer.textContent=Tl(r),this._stopRecording();return}this.ref.timer.textContent=Tl(r)}else this.ref.timer.textContent=Tl(e);this._animationFrameId=requestAnimationFrame(this._updateTimer)};_startTimer=()=>{this.$._startTime=performance.now(),this.$._elapsedTime=0,this._updateTimer()};_stopTimer=()=>{this._animationFrameId&&cancelAnimationFrame(this._animationFrameId)};_startTimeline=()=>{let e=this.ref.video.currentTime,r=this.ref.video.duration;this.ref.line.style.transform=`scaleX(${e/r})`,this.ref.timer.textContent=Tl(e),this._animationFrameId=requestAnimationFrame(this._startTimeline)};_stopTimeline=()=>{this._animationFrameId&&cancelAnimationFrame(this._animationFrameId)};_startRecording=()=>{try{this._chunks=[],this._options={...this.cfg.mediaRecorderOptions};let{mimeType:e}=this.cfg.mediaRecorderOptions||{};e&&MediaRecorder.isTypeSupported(e)?this._options.mimeType=e:MediaRecorder.isTypeSupported(z1)?this._options.mimeType=z1:this._options.mimeType="video/mp4",this._stream&&(this._mediaRecorder=new MediaRecorder(this._stream,this._options),this._mediaRecorder.start(),this._mediaRecorder.addEventListener("dataavailable",r=>{this._chunks.push(r.data)}),this._startTimer(),this.classList.add("uc-recording"),this._setCameraState(at.PLAY))}catch(e){console.error("Failed to start recording",e)}};_stopRecording=()=>{this._mediaRecorder?.addEventListener("stop",()=>{this._previewVideo(),this._stopTimer(),this._setCameraState(at.STOP)}),this._mediaRecorder?.stop(),this.classList.remove("uc-recording")};_toggleRecording=()=>{this._mediaRecorder?.state!=="recording"&&(!this.ref.video.paused&&!this.ref.video.ended&&this.ref.video.readyState>2?this.ref.video.pause():this.ref.video.paused&&this.ref.video.play())};_toggleEnableAudio=()=>{this._stream?.getAudioTracks().forEach(e=>{e.enabled=!e.enabled,this.$.toggleMicrophoneIcon=e.enabled?"microphone":"microphone-mute",this.$.audioSelectDisabled=!e.enabled})};_previewVideo=()=>{try{let e=new Blob(this._chunks,{type:this._mediaRecorder?.mimeType}),r=URL.createObjectURL(e);this.ref.video.muted=!1,this.ref.video.volume=1,this.$.video=null,this.ref.video.src=r,this.ref.video.addEventListener("play",()=>{this._startTimeline(),this.set$({currentTimelineIcon:"pause"})}),this.ref.video.addEventListener("pause",()=>{this.set$({currentTimelineIcon:"play"}),this._stopTimeline()})}catch(e){console.error("Failed to preview video",e)}};_retake=()=>{this._setCameraState(at.RETAKE),this._activeTab===U.VIDEO&&(this.$.video=this._stream,this.ref.video.muted=!0),this.ref.video.play()};_accept=()=>{if(this._setCameraState(at.ACCEPT),this._activeTab===U.PHOTO){this._canvas?.toBlob(n=>{let o=this._createFile("camera","jpeg",R1,n);this._toSend(o)},R1);return}let e=new Blob(this._chunks,{type:this._mediaRecorder?.mimeType}),r=this._guessExtensionByMime(this._mediaRecorder?.mimeType),i=this._createFile("video",r,`video/${r}`,e);this._toSend(i),this._chunks=[]};_handlePhoto=e=>{e===at.SHOT&&this.set$({tabVideoHidden:!0,cameraHidden:!0,tabCameraHidden:!0,cameraActionsHidden:!1,cameraSelectHidden:!0}),(e===at.RETAKE||e===at.ACCEPT)&&this.set$({tabVideoHidden:!this._cameraModes.includes(U.VIDEO),tabCameraHidden:!this._cameraModes.includes(U.PHOTO),cameraHidden:!1,cameraActionsHidden:!0,cameraSelectHidden:this._cameraDevices.length<=1})};_handleVideo=e=>{e===at.PLAY&&this.set$({timerHidden:!1,tabCameraHidden:!0,cameraSelectHidden:!0,audioSelectHidden:!0,currentTimelineIcon:"pause",currentIcon:"square",mutableClassButton:"uc-shot-btn uc-camera-action uc-stop-record"}),e===at.STOP&&this.set$({timerHidden:!1,cameraHidden:!0,audioToggleMicrophoneHidden:!0,cameraActionsHidden:!1}),(e===at.RETAKE||e===at.ACCEPT)&&this.set$({timerHidden:!0,tabVideoHidden:!this._cameraModes.includes(U.VIDEO),tabCameraHidden:!this._cameraModes.includes(U.PHOTO),cameraHidden:!1,cameraActionsHidden:!0,audioToggleMicrophoneHidden:!this.cfg.enableAudioRecording,currentIcon:"video-camera-full",mutableClassButton:"uc-shot-btn uc-camera-action",audioSelectHidden:!this.cfg.enableAudioRecording||this._audioDevices.length<=1,cameraSelectHidden:this._cameraDevices.length<=1})};_setCameraState=e=>{this._activeTab===U.PHOTO&&(e==="shot"||e==="retake"||e==="accept")&&this._handlePhoto(e),this._activeTab===U.VIDEO&&(e==="play"||e==="stop"||e==="retake"||e==="accept"||e==="pause"||e==="resume")&&this._handleVideo(e)};_shot(){if(this._setCameraState("shot"),this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),!this._ctx)throw new Error("Failed to get canvas context");this._canvas.height=this.ref.video.videoHeight,this._canvas.width=this.ref.video.videoWidth,this.cfg.cameraMirror&&(this._ctx.translate(this._canvas.width,0),this._ctx.scale(-1,1)),this._ctx.drawImage(this.ref.video,0,0),this.ref.video.pause()}_handleActiveTab=e=>{this.ref.switcher.querySelectorAll("button").forEach(r=>{r.classList.toggle("uc-active",r.getAttribute("data-id")===e)}),e===U.PHOTO&&this.set$({currentIcon:"camera-full",audioSelectHidden:!0,audioToggleMicrophoneHidden:!0}),e===U.VIDEO&&this.set$({currentTimelineIcon:"play",currentIcon:"video-camera-full",audioSelectHidden:!this.cfg.enableAudioRecording||this._audioDevices.length<=1,audioToggleMicrophoneHidden:!this.cfg.enableAudioRecording}),this._activeTab=e};_createFile=(e,r,i,n)=>{let o=Date.now(),s=`${e}-${o}.${r}`;return new File([n],s,{lastModified:o,type:i})};_guessExtensionByMime(e){let r={mp4:"mp4",ogg:"ogg",webm:"webm",quicktime:"mov","x-matroska":"mkv"};if(e==="")return"webm";if(e&&(e=e.split("/"),e?.[0]==="video")){e=e.slice(1).join("/");let i=e?.split(";")[0];if(r[i])return r[i]}return"avi"}_toSend=e=>{this.api.addFileFromObject(e,{source:te.CAMERA}),this.set$({"*currentActivity":x.activities.UPLOAD_LIST}),this.modalManager.open(x.activities.UPLOAD_LIST)};get _cameraModes(){return me(this.cfg.cameraModes)}_setPermissionsState=K(e=>{this.classList.toggle("uc-initialized",e==="granted");let r=this._activeTab===U.VIDEO&&this.cfg.enableAudioRecording,i=this._activeTab===U.PHOTO?"camera-full":"video-camera-full";e==="granted"?this.set$({videoHidden:!1,cameraHidden:!1,tabCameraHidden:!this._cameraModes.includes(U.PHOTO),tabVideoHidden:!this._cameraModes.includes(U.VIDEO),messageHidden:!0,timerHidden:!0,currentIcon:i,audioToggleMicrophoneHidden:!r,audioSelectHidden:!r}):e==="prompt"?(this.$.l10nMessage="camera-permissions-prompt",this.set$({videoHidden:!0,cameraHidden:!0,tabCameraHidden:!0,messageHidden:!1}),this._stopCapture()):(this.$.l10nMessage="camera-permissions-denied",this.set$({videoHidden:!0,messageHidden:!1,tabCameraHidden:!this._cameraModes.includes(U.PHOTO),tabVideoHidden:!this._cameraModes.includes(U.VIDEO),cameraActionsHidden:!0,mutableClassButton:"uc-shot-btn uc-camera-action"}),this._stopCapture())},300);_makeStreamInactive=()=>{if(!this._stream)return!1;let e=this._stream?.getAudioTracks(),r=this._stream?.getVideoTracks();e.forEach(i=>i.stop()),r.forEach(i=>i.stop())};_stopCapture=()=>{this._capturing&&(this.ref.video.volume=0,this.$.video?.getTracks()[0].stop(),this.$.video=null,this._makeStreamInactive(),this._stopTimer(),this._capturing=!1)};_capture=async()=>{let e={video:Ex,audio:this.cfg.enableAudioRecording?{}:!1};this._selectedCameraId&&(e.video={deviceId:{exact:this._selectedCameraId}}),this._selectedAudioId&&this.cfg.enableAudioRecording&&(e.audio={deviceId:{exact:this._selectedAudioId}}),this.ref.video.volume=0;try{this._setPermissionsState("prompt"),this._stream=await navigator.mediaDevices.getUserMedia(e),this._stream.addEventListener("inactive",()=>{this._setPermissionsState("denied")}),this.$.video=this._stream,this._capturing=!0,this._setPermissionsState("granted")}catch(r){this._setPermissionsState("denied"),console.log("Failed to capture camera",r)}};_handlePermissionsChange=()=>{this._capture()};_permissionAccess=async()=>{try{for(let e of U1)this[`${e}Response`]=await navigator.permissions.query({name:e}),this[`${e}Response`].addEventListener("change",this._handlePermissionsChange)}catch(e){console.log("Failed to use permissions API. Fallback to manual request mode.",e),this._capture()}};_getPermission=()=>{};_requestDeviceAccess=async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0,audio:this.cfg.enableAudioRecording}),await this._getDevices(),navigator.mediaDevices.addEventListener("devicechange",this._getDevices)}catch(e){console.log("Failed to get user media",e)}};_getDevices=async()=>{try{let e=await navigator.mediaDevices.enumerateDevices();this._cameraDevices=e.filter(r=>r.kind==="videoinput").map((r,i)=>({text:r.label.trim()||`${this.l10n("caption-camera")} ${i+1}`,value:r.deviceId})),this._audioDevices=this.cfg.enableAudioRecording&&e.filter(r=>r.kind==="audioinput").map(r=>({text:r.label.trim(),value:r.deviceId})),this._cameraDevices.length>1&&this.set$({cameraSelectOptions:this._cameraDevices,cameraSelectHidden:!1}),this._selectedCameraId=this._cameraDevices[0]?.value,this._audioDevices.length>1&&this.set$({audioSelectOptions:this._audioDevices,audioSelectHidden:!1}),this._selectedAudioId=this._audioDevices[0]?.value}catch(e){console.log("Failed to get devices",e)}};_onActivate=async()=>{await this._permissionAccess(),await this._requestDeviceAccess(),await this._capture(),this._handleCameraModes(this._cameraModes)};_onDeactivate=async()=>{this._unsubPermissions&&this._unsubPermissions(),!!window.chrome||this._setPermissionsState("denied"),this._stopCapture()};_handleCameraModes=e=>{this.$.tabVideoHidden=!e.includes(U.VIDEO),this.$.tabCameraHidden=!e.includes(U.PHOTO);let r=e[0];(!this._activeTab||!e.includes(this._activeTab))&&this._handleActiveTab(r)};initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:this._onActivate,onDeactivate:this._onDeactivate}),this.subConfigValue("cameraMirror",e=>{this.$.videoTransformCss=e?"scaleX(-1)":null}),this.subConfigValue("enableAudioRecording",e=>{this.$.audioToggleMicrophoneHidden=!e,this.$.audioSelectDisabled=!e}),this.subConfigValue("cameraModes",e=>{if(!this.isActivityActive)return;let r=De(e);this._handleCameraModes(r)})}_destroy(){for(let e of U1)this[`${e}Response`]?.removeEventListener("change",this._handlePermissionsChange);navigator.mediaDevices?.removeEventListener("devicechange",this._getDevices)}async destroyCallback(){super.destroyCallback(),this._destroy()}};Xo.template=`
  <uc-activity-header>
    <button type="button" class="uc-mini-btn" set="onclick: *historyBack" l10n="@title:back">
      <uc-icon name="back"></uc-icon>
    </button>
    <div set="@hidden: !cameraSelectHidden">
      <uc-icon name="camera"></uc-icon>
      <span l10n="caption-camera"></span>
    </div>
    <uc-select
      class="uc-camera-select"
      set="$.options: cameraSelectOptions; @hidden: cameraSelectHidden; onchange: onCameraSelectChange"
    >
    </uc-select>
    <button
      type="button"
      class="uc-mini-btn uc-close-btn"
      set="onclick: *closeModal"
      l10n="@title:a11y-activity-header-button-close;@aria-label:a11y-activity-header-button-close"
    >
      <uc-icon name="close"></uc-icon>
    </button>
  </uc-activity-header>
  <div class="uc-content">
    <video
      muted
      autoplay
      playsinline
      set="srcObject: video; style.transform: videoTransformCss; @hidden: videoHidden"
      ref="video"
    ></video>
    <div class="uc-message-box" set="@hidden: messageHidden">
      <span l10n="l10nMessage"></span>
      <button
        type="button"
        set="onclick: onRequestPermissions; @hidden: requestBtnHidden"
        l10n="camera-permissions-request"
      ></button>
    </div>
  </div>

  <div class="uc-controls">
    <div ref="switcher" class="uc-switcher" set="@hidden:!timerHidden">
      <button
        data-id="photo"
        type="button"
        class="uc-switch uc-mini-btn"
        set="onclick: onClickTab;  @hidden: tabCameraHidden"
      >
        <uc-icon name="camera"></uc-icon>
      </button>
      <button
        data-id="video"
        type="button"
        class="uc-switch uc-mini-btn"
        set="onclick: onClickTab; @hidden: tabVideoHidden"
      >
        <uc-icon name="video-camera"></uc-icon>
      </button>
    </div>

    <button class="uc-secondary-btn uc-recording-timer" set="@hidden:timerHidden; onclick: onToggleRecording">
      <uc-icon set="@name: currentTimelineIcon"></uc-icon>
      <span ref="timer"> 00:00 </span>
      <span ref="line" class="uc-line"></span>
    </button>

    <div class="uc-camera-actions uc-camera-action" set="@hidden: cameraActionsHidden">
      <button type="button" class="uc-secondary-btn" set="onclick: onRetake">Retake</button>
      <button type="button" class="uc-primary-btn" set="onclick: onAccept" data-testid="accept">Accept</button>
    </div>

    <button
      type="button"
      class="uc-shot-btn uc-camera-action"
      data-testid="shot"
      set="onclick: onStartCamera; @class: mutableClassButton; @hidden: cameraHidden;"
    >
      <uc-icon set="@name: currentIcon"></uc-icon>
    </button>

    <div class="uc-select">
      <button class="uc-mini-btn uc-btn-microphone" set="onclick: onToggleAudio; @hidden: audioToggleMicrophoneHidden;">
        <uc-icon set="@name:toggleMicrophoneIcon"></uc-icon>
      </button>

      <uc-select
        class="uc-audio-select"
        set="$.options: audioSelectOptions; onchange: onAudioSelectChange; @hidden: audioSelectHidden; @disabled: audioSelectDisabled"
      >
      </uc-select>
    </div>
  </div>
`});var Il,qo,N1=v(()=>{Fe();ir();Il=class extends F{static styleAttrs=["uc-wgt-common"];requireCtxName=!0;initCallback(){super.initCallback(),this.$["*eventEmitter"].bindTarget(this)}destroyCallback(){super.destroyCallback(),this.$["*eventEmitter"].unbindTarget(this)}};Il.EventType=B;qo=Il});var Yo,F1=v(()=>{Fe();Yo=class extends F{init$={...this.init$,visible:!1,value:0,"*commonProgress":0};initCallback(){super.initCallback(),this._unobserveCollection=this.uploadCollection.observeProperties(()=>{let e=this.uploadCollection.items().some(r=>this.uploadCollection.read(r).getValue("isUploading"));this.$.visible=e}),this.sub("visible",e=>{e?this.setAttribute("active",""):this.removeAttribute("active")}),this.sub("*commonProgress",e=>{this.$.value=e})}destroyCallback(){super.destroyCallback(),this._unobserveCollection?.()}};Yo.template=' <uc-progress-bar set="visible: visible; value: value"></uc-progress-bar> '});var Zo,V1=v(()=>{ee();Zo=class extends I{_value=0;_prevValue=0;_visible=!0;constructor(){super(),this.init$={...this.init$,width:0,opacity:0}}initCallback(){super.initCallback();let e=()=>{let r=this.ref.fakeProgressLine;if(!this._visible){r.classList.add("uc-fake-progress--hidden");return}this._value>0&&r.classList.add("uc-fake-progress--hidden")};this.ref.fakeProgressLine.addEventListener("animationiteration",e),this.defineAccessor("value",r=>{r!=null&&(this._prevValue=this._value,this._value=r,this._visible&&this.style.setProperty("--l-progress-value",this._value.toString()))}),this.defineAccessor("visible",r=>{this._visible=r,this.classList.toggle("uc-progress-bar--hidden",!r)})}};Zo.template=`
  <div ref="fakeProgressLine" class="uc-fake-progress"></div>
  <div ref="realProgressLine" class="uc-progress"></div>
`});var $t,Qo=v(()=>{$t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="});function B1(...t){return t.reduce((e,r)=>{if(typeof r=="string")return e[r]=!0,e;for(let i of Object.keys(r))e[i]=r[i];return e},{})}function ge(...t){let e=B1(...t);return Object.keys(e).reduce((r,i)=>(e[i]&&r.push(i),r),[]).join(" ")}function j1(t,...e){let r=B1(...e);for(let i of Object.keys(r))t.classList.toggle(i,r[i])}var Nr=v(()=>{});var H1,W1=v(()=>{It();tr();H1=t=>{if(!t)return ze;let e=De(t).filter(r=>ze.includes(r));return e.length===0?ze:e}});function G1(t){return{"*originalUrl":null,"*faderEl":null,"*cropperEl":null,"*imgEl":null,"*imgContainerEl":null,"*networkProblems":!1,"*imageSize":null,"*editorTransformations":{},"*cropPresetList":[],"*tabList":ze,"*tabId":Y.CROP,entry:null,extension:null,editorMode:!1,modalCaption:"",isImage:!1,msg:"",src:$t,fileType:"",showLoader:!1,uuid:null,cdnUrl:null,cropPreset:"",tabs:rr(ze),"presence.networkProblems":!1,"presence.modalCaption":!0,"presence.editorToolbar":!1,"presence.viewerToolbar":!0,"*on.retryNetwork":()=>{let e=t.querySelectorAll("img");for(let r of e){let i=r.src;r.src=$t,r.src=i}t.$["*networkProblems"]=!1},"*on.apply":e=>{if(!e)return;let r=t.$["*originalUrl"],i=Ae(Mr(e),"preview"),n=le(r,i),o={originalUrl:r,cdnUrlModifiers:i,cdnUrl:n,transformations:e};t.dispatchEvent(new CustomEvent("apply",{detail:o,bubbles:!0,composed:!0})),t.remove()},"*on.cancel":()=>{t.remove(),t.dispatchEvent(new CustomEvent("cancel",{bubbles:!0,composed:!0}))}}}var K1=v(()=>{At();Qo();It();Yi();tr()});var X1,q1=v(()=>{X1="<svg width='0' height='0' style='position:absolute'><symbol viewBox='0 0 20 20' id='uc-icon-brightness' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M15 10a5 5 0 0 1-5 5m5-5a5 5 0 0 0-5-5m5 5h-5m0 5a5 5 0 0 1 0-10m0 10V5m0 15v-3M2.93 2.929 5.05 5.05M0 10h3m-.07 7.071 2.12-2.121M10 0v3m7.07 14.071-2.12-2.121M20 10h-3m.07-7.071L14.95 5.05m-.626 2.45H10m4.324 5H10'/></symbol><symbol fill='currentColor' viewBox='0 0 20 20' id='uc-icon-closeMax' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M8.232 10 3.585 5.353l1.768-1.768L10 8.232l4.648-4.647 1.767 1.768L11.768 10l4.647 4.648-1.767 1.767L10 11.768l-4.647 4.647-1.768-1.767L8.232 10Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-contrast' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M2 10a8 8 0 1 0 16 0 8 8 0 1 0-16 0m8-8v16m8-8h-8m7.598 2.5H10m6.24 2.5H10m7.6-7.5H10M16.242 5H10'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-crop' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M20 14H7.005C6.45 14 6 13.55 6 12.995V0M0 6h13.067c.515 0 .933.418.933.933V20M14.5.4 13 2l1.5 1.6M13 2h2a3 3 0 0 1 3 3v2M5.5 19.6 7 18l-1.5-1.6M7 18H5a3 3 0 0 1-3-3v-2'/></symbol><symbol fill='currentColor' viewBox='0 0 20 20' id='uc-icon-done' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='m18.057 6.333-9.365 9.125a1.25 1.25 0 0 1-1.768-.023L1.92 10.296l1.791-1.744 4.132 4.243 8.47-8.253 1.744 1.79Z' clip-rule='evenodd'/></symbol><symbol fill='currentColor' viewBox='0 0 25 24' id='uc-icon-edit-file' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M18.558 2.804a.78.78 0 0 0-.557.235l-.008.007-2.472 2.46 3.847 3.848 2.46-2.473.004-.003a.78.78 0 0 0 0-1.108l-.004-.003-2.712-2.728a.78.78 0 0 0-.558-.235Zm-.248 7.613-3.852-3.852-8.93 8.887-1.516 5.41 5.41-1.515 8.888-8.93Zm-.636-8.934a2.28 2.28 0 0 1 2.512.505l2.702 2.717.002.002a2.278 2.278 0 0 1 0 3.234l-.002.002-12.541 12.602a.75.75 0 0 1-.33.193l-6.884 1.928a.75.75 0 0 1-.925-.924l1.928-6.885a.75.75 0 0 1 .193-.33l12.603-12.54a2.28 2.28 0 0 1 .742-.504Z' clip-rule='evenodd'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-enhance' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M19 13h-2m0 0a4 4 0 0 1-4-4m4 4a4 4 0 0 0-4 4m0-8V7m0 2a4 4 0 0 1-4 4m-2 0h2m0 0a4 4 0 0 1 4 4m0 0v2M8 8.5H6.5m0 0a2 2 0 0 1-2-2m2 2a2 2 0 0 0-2 2m0-4V5m0 1.5a2 2 0 0 1-2 2M1 8.5h1.5m0 0a2 2 0 0 1 2 2m0 0V12M12 3h-1m0 0a1 1 0 0 1-1-1m1 1a1 1 0 0 0-1 1m0-2V1m0 1a1 1 0 0 1-1 1M8 3h1m0 0a1 1 0 0 1 1 1m0 0v1'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-exposure' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M10 20v-3M2.93 2.929 5.05 5.05M0 10h3m-.07 7.071 2.12-2.121M10 0v3m7.07 14.071-2.12-2.121M20 10h-3m.07-7.071L14.95 5.05M5 10a5 5 0 1 0 10 0 5 5 0 1 0-10 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-filters' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M4.5 6.5a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0m-3.5 6a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0m7 0a5.5 5.5 0 1 0 11 0 5.5 5.5 0 1 0-11 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-flip' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M19.6 5 18 3.5 16.4 5m3.2 10L18 16.5 16.4 15M18 3.523v12.954M3.3 8.5h10.654c.301 0 .415-.395.159-.554L3.459 1.286A.3.3 0 0 0 3 1.542V8.2a.3.3 0 0 0 .3.3zm0 3h10.654c.301 0 .415.395.159.554l-10.654 6.66A.3.3 0 0 1 3 18.458v-6.66a.3.3 0 0 1 .3-.3z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-gamma' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M17 3C9 6 2.5 11.5 2.5 17.5m0 0h1m-1 0v-1m14 1h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3-14v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-mirror' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M5 .4 3.5 2 5 3.6M15 .4 16.5 2 15 3.6M3.52 2h12.957M8.5 16.7V6.046c0-.301-.394-.415-.554-.159L1.287 16.541a.3.3 0 0 0 .255.459H8.2a.3.3 0 0 0 .3-.3zm3 0V6.046c0-.301.395-.415.555-.159l6.659 10.654a.3.3 0 0 1-.255.459H11.8a.3.3 0 0 1-.3-.3z'/></symbol><symbol viewBox='0 0 40 40' id='uc-icon-original' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.5' d='M0 40 40 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-rotate' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M13.5.4 12 2l1.5 1.6M12.023 2H14.4A3.6 3.6 0 0 1 18 5.6V8M4 17h9a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-sad' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M2 17c4.418-4 11.582-4 16 0M16.5 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-11 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-saturation' xmlns='http://www.w3.org/2000/svg'><defs><linearGradient id='puc-icon-id__a' x1='10.001' y1='1' x2='10.001' y2='19' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient></defs><circle cx='10.001' cy='10' r='9' transform='rotate(90 10 10)' fill='url(#puc-icon-id__a)'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-slider' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M0 10h11m0 0a2 2 0 1 0 4 0m-4 0a2 2 0 1 1 4 0m0 0h5'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-tuning' xmlns='http://www.w3.org/2000/svg'><path stroke-linejoin='round' fill='none' stroke='currentColor' stroke-width='1.2' d='M8 10h11M1 10h4M1 4.5h11m3 0h4m-18 11h11m3 0h4m-7-11a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 5.5a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0'/></symbol><symbol viewBox='0 0 20 20' id='uc-icon-vibrance' xmlns='http://www.w3.org/2000/svg'><path d='M2.125 5.64A8.96 8.96 0 0 0 1.001 10a8.96 8.96 0 0 0 1.124 4.36V5.64z' fill='url(#suc-icon-id__a)'/><path d='M2.875 15.499V4.502a9.053 9.053 0 0 1 1.75-1.72v14.437a9.05 9.05 0 0 1-1.75-1.72z' fill='url(#suc-icon-id__b)'/><path d='M5.375 17.722c.548.33 1.134.601 1.75.809V1.469a8.956 8.956 0 0 0-1.75.81v15.443z' fill='url(#suc-icon-id__c)'/><path d='M7.875 1.253v17.495c.564.136 1.15.22 1.75.244V1.008a9 9 0 0 0-1.75.245z' fill='url(#suc-icon-id__d)'/><path d='M10.375 1.008v17.984a9 9 0 0 0 1.75-.244V1.252a9 9 0 0 0-1.75-.244z' fill='url(#suc-icon-id__e)'/><path d='M12.875 1.469V18.53a8.957 8.957 0 0 0 1.75-.808V2.277a8.957 8.957 0 0 0-1.75-.808z' fill='url(#suc-icon-id__f)'/><path d='M15.375 2.78v14.44a9.053 9.053 0 0 0 1.75-1.72v-11a9.054 9.054 0 0 0-1.75-1.72z' fill='url(#suc-icon-id__g)'/><path d='M17.875 5.638v8.724A8.959 8.959 0 0 0 19.001 10a8.96 8.96 0 0 0-1.126-4.362z' fill='url(#suc-icon-id__h)'/><defs><linearGradient id='suc-icon-id__a' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__b' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__c' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__d' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__e' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__f' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__g' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient><linearGradient id='suc-icon-id__h' x1='19.001' y1='10' x2='1.001' y2='10' gradientUnits='userSpaceOnUse'><stop stop-color='#DE15FF'/><stop offset='.203' stop-color='#0029FF'/><stop offset='.479' stop-color='#2AE4F0'/><stop offset='.604' stop-color='#15EF11'/><stop offset='.75' stop-color='#FAE528'/><stop offset='1' stop-color='#EB2A2A'/></linearGradient></defs></symbol><symbol viewBox='0 0 20 20' id='uc-icon-warmth' xmlns='http://www.w3.org/2000/svg'><path d='m7.5 13.05.429.42.171-.175v-.244h-.6zm5 0h-.6v.245l.172.175.428-.42zM8.1 3.5c0-1.05.85-1.9 1.9-1.9V.4a3.1 3.1 0 0 0-3.1 3.1h1.2zm0 9.55V3.5H6.9v9.55h1.2zm-1 2.45c0-.79.315-1.506.829-2.03l-.858-.84A4.088 4.088 0 0 0 5.9 15.5h1.2zm2.9 2.9a2.9 2.9 0 0 1-2.9-2.9H5.9a4.1 4.1 0 0 0 4.1 4.1v-1.2zm2.9-2.9a2.9 2.9 0 0 1-2.9 2.9v1.2a4.1 4.1 0 0 0 4.1-4.1h-1.2zm-.829-2.03c.514.524.829 1.24.829 2.03h1.2c0-1.117-.447-2.13-1.171-2.87l-.858.84zM11.9 3.5v9.55h1.2V3.5h-1.2zM10 1.6c1.05 0 1.9.85 1.9 1.9h1.2A3.1 3.1 0 0 0 10 .4v1.2z' fill='currentColor'/><path d='M10 14V8' stroke='currentColor' stroke-width='1.2' stroke-linecap='round'/><path d='M14 3h3m-3 3h3m-3 3h3m-8 6.5a1 1 0 1 0 2 0 1 1 0 1 0-2 0' stroke='currentColor' stroke-width='1.2'/></symbol></svg>"});var Y1,Z1=v(()=>{Qo();q1();Y1=`
  ${X1}
  <div class="uc-wrapper uc-wrapper_desktop">
    <uc-presence-toggle class="uc-network_problems_splash" set="visible: presence.networkProblems;">
      <div class="uc-network_problems_content">
        <div class="uc-network_problems_icon">
          <uc-icon name="sad"></uc-icon>
        </div>
        <div class="uc-network_problems_text">Network error</div>
      </div>
      <div class="uc-network_problems_footer">
        <uc-btn-ui theme="primary" text="Retry" set="onclick: *on.retryNetwork"></uc-btn-ui>
      </div>
    </uc-presence-toggle>
    <div class="uc-viewport">
      <div class="uc-file_type_outer">
        <div class="uc-file_type">{{fileType}}</div>
      </div>
      <div class="uc-image_container" ref="img-container-el">
        <img src="${$t}" class="uc-image uc-image_visible_from_editor" ref="img-el" />
        <uc-editor-image-cropper ref="cropper-el"></uc-editor-image-cropper>
        <uc-editor-image-fader ref="fader-el"></uc-editor-image-fader>
      </div>
      <div class="uc-info_pan">{{msg}}</div>
    </div>
    <div class="uc-toolbar">
      <uc-line-loader-ui set="active: showLoader"></uc-line-loader-ui>
      <div class="uc-toolbar_content uc-toolbar_content__editor">
        <uc-editor-toolbar></uc-editor-toolbar>
      </div>
    </div>
  </div>
`});var Ut,Ch=v(()=>{ee();At();Qo();Ye();Nr();Kd();W1();Yi();K1();Z1();tr();Ut=class extends I{ctxOwner=!0;static styleAttrs=["uc-cloud-image-editor"];constructor(){super(),this.init$={...this.init$,...G1(this)}}_debouncedShowLoader=K(this._showLoader.bind(this),300);_showLoader(e){this.$.showLoader=e}_waitForSize(){return new Promise((r,i)=>{let n=setTimeout(()=>{i(new Error("[cloud-image-editor] timeout waiting for non-zero container size"))},3e3),o=new ResizeObserver(([s])=>{s.contentRect.width>0&&s.contentRect.height>0&&(r(),clearTimeout(n),o.disconnect())});o.observe(this)})}initCallback(){super.initCallback(),this.$["*faderEl"]=this.ref["fader-el"],this.$["*cropperEl"]=this.ref["cropper-el"],this.$["*imgContainerEl"]=this.ref["img-container-el"],this.initEditor()}async updateImage(){if(this.isConnected){if(await this._waitForSize(),this.$.cdnUrl){let e=Ha(this.$.cdnUrl),r=Lr(this.$.cdnUrl,e);if(r===this.$["*originalUrl"])return;this.$["*originalUrl"]=r;let i=Fg(this.$.cdnUrl),n=Gg(i);this.$["*editorTransformations"]=n}else if(this.$.uuid){let e=Lr(this.cfg.cdnCname,this.$.uuid);if(e===this.$["*originalUrl"])return;this.$["*originalUrl"]=e,this.$["*editorTransformations"]={}}else throw new Error("No UUID nor CDN URL provided");this.$["*tabId"]===Y.CROP?this.$["*cropperEl"].deactivate({reset:!0}):this.$["*faderEl"].deactivate();try{let e=await this.proxyUrl(le(this.$["*originalUrl"],Ae("json"))),r=await fetch(e).then(o=>o.json()),{width:i,height:n}=r;this.$["*imageSize"]={width:i,height:n},this.$["*tabId"]===Y.CROP?this.$["*cropperEl"].activate(this.$["*imageSize"]):this.$["*faderEl"].activate({url:this.$["*originalUrl"]})}catch(e){e&&console.error("Failed to load image info",e)}}}async initEditor(){try{await this._waitForSize()}catch(e){this.isConnected&&console.error(e.message);return}this.ref["img-el"].addEventListener("load",()=>{this._imgLoading=!1,this._debouncedShowLoader(!1),this.$.src!==$t&&(this.$["*networkProblems"]=!1)}),this.ref["img-el"].addEventListener("error",()=>{this._imgLoading=!1,this._debouncedShowLoader(!1),this.$["*networkProblems"]=!0}),this.sub("src",e=>{let r=this.ref["img-el"];r.src!==e&&(this._imgLoading=!0,r.src=e||$t)}),this.sub("cropPreset",e=>{this.$["*cropPresetList"]=ll(e)}),this.sub("tabs",e=>{this.$["*tabList"]=H1(e)}),this.sub("*tabId",e=>{this.ref["img-el"].className=ge("uc-image",{"uc-image_hidden_to_cropper":e===Y.CROP,"uc-image_hidden_effects":e!==Y.CROP})}),this.classList.add("uc-editor_ON"),this.sub("*networkProblems",e=>{this.$["presence.networkProblems"]=e,this.$["presence.modalCaption"]=!e}),this.sub("*editorTransformations",e=>{if(Object.keys(e).length===0)return;let r=this.$["*originalUrl"],i=Ae(Mr(e),"preview"),n=le(r,i),o={originalUrl:r,cdnUrlModifiers:i,cdnUrl:n,transformations:e};this.dispatchEvent(new CustomEvent("change",{detail:o,bubbles:!0,composed:!0}))},!1),this.sub("uuid",e=>e&&this.updateImage()),this.sub("cdnUrl",e=>e&&this.updateImage())}};Ut.template=Y1;Ut.bindAttributes({uuid:"uuid","cdn-url":"cdnUrl","crop-preset":"cropPreset",tabs:"tabs"})});var Jo,Q1=v(()=>{ee();al();Gd();Nr();Jo=class extends I{constructor(){super(),this.init$={...this.init$,dragging:!1},this._handlePointerUp=this._handlePointerUp_.bind(this),this._handlePointerMove=this._handlePointerMove_.bind(this),this._handleSvgPointerMove=this._handleSvgPointerMove_.bind(this)}_shouldThumbBeDisabled(e){let r=this.$["*imageBox"];if(!r)return;if(e===""&&r.height<=L&&r.width<=L)return!0;let i=r.height<=L&&(e.includes("n")||e.includes("s")),n=r.width<=L&&(e.includes("e")||e.includes("w"));return i||n}_createBackdrop(){let e=this.$["*cropBox"];if(!e)return;let{x:r,y:i,width:n,height:o}=e,s=this.ref["svg-el"],a=Ze("mask",{id:"backdrop-mask"}),l=Ze("rect",{x:0,y:0,width:"100%",height:"100%",fill:"white"}),c=Ze("rect",{x:r,y:i,width:n,height:o,fill:"black"});a.appendChild(l),a.appendChild(c);let u=Ze("rect",{x:0,y:0,width:"100%",height:"100%",fill:"var(--color-image-background)","fill-opacity":.85,mask:"url(#backdrop-mask)"});s.appendChild(u),s.appendChild(a),this._backdropMask=a,this._backdropMaskInner=c}_resizeBackdrop(){this._backdropMask&&(this._backdropMask.style.display="none",window.requestAnimationFrame(()=>{this._backdropMask&&(this._backdropMask.style.display="block")}))}_updateBackdrop(){let e=this.$["*cropBox"];if(!e)return;let{x:r,y:i,width:n,height:o}=e;this._backdropMaskInner&&Rr(this._backdropMaskInner,{x:r,y:i,width:n,height:o})}_updateFrame(){let e=this.$["*cropBox"];if(!(!e||!this._frameGuides||!this._frameThumbs)){for(let r of Object.values(this._frameThumbs)){let{direction:i,pathNode:n,interactionNode:o,groupNode:s}=r,a=i==="",l=i.length===2,{x:c,y:u,width:d,height:h}=e;if(a)Rr(o,{x:c,y:u,width:d,height:h});else{let y=zr(Math.min(d,h)/(24*2+34)/2,0,1),{d:b,center:S}=l?B0(e,i,y):j0(e,i,y),f=Math.max(Wd*zr(Math.min(d,h)/Wd/3,0,1),V0);Rr(o,{x:S[0]-f,y:S[1]-f,width:f*2,height:f*2}),Rr(n,{d:b})}let g=this._shouldThumbBeDisabled(i);s.setAttribute("class",ge("uc-thumb",{"uc-thumb--hidden":g,"uc-thumb--visible":!g}))}Rr(this._frameGuides,{x:e.x-1*.5,y:e.y-1*.5,width:e.width+1,height:e.height+1})}}_createThumb(e,r){let i=Ze("g");i.classList.add("uc-thumb"),i.setAttribute("with-effects","");let n=Ze("rect",{fill:"transparent"}),o=Ze("path",{stroke:"currentColor",fill:"none","stroke-width":3});i.appendChild(o),i.appendChild(n),e[r]={direction:r,pathNode:o,interactionNode:n,groupNode:i},r===""&&(i.style.cursor="move"),n.addEventListener("pointerdown",this._handlePointerDown.bind(this,r))}_createThumbs(){let e={};for(let r=0;r<3;r++)for(let i=0;i<3;i++){let n=`${["n","","s"][r]}${["w","","e"][i]}`;n!==""&&this._createThumb(e,n)}return this._createThumb(e,""),e}_createGuides(){let e=Ze("svg"),r=Ze("rect",{x:0,y:0,width:"100%",height:"100%",fill:"none",stroke:"currentColor","stroke-width":1,"stroke-opacity":.5});e.appendChild(r);for(let i=1;i<=2;i++){let n=Ze("line",{x1:`${$o*i}%`,y1:"0%",x2:`${$o*i}%`,y2:"100%",stroke:"currentColor","stroke-width":1,"stroke-opacity":.3});e.appendChild(n)}for(let i=1;i<=2;i++){let n=Ze("line",{x1:"0%",y1:`${$o*i}%`,x2:"100%",y2:`${$o*i}%`,stroke:"currentColor","stroke-width":1,"stroke-opacity":.3});e.appendChild(n)}return e.classList.add("uc-guides","uc-guides--semi-hidden"),e}_createFrame(){let e=this.ref["svg-el"],r=document.createDocumentFragment(),i=this._createGuides();r.appendChild(i);let n=this._createThumbs();for(let{groupNode:o}of Object.values(n))r.appendChild(o);e.appendChild(r),this._frameThumbs=n,this._frameGuides=i}_handlePointerDown(e,r){if(!this._frameThumbs)return;let i=this._frameThumbs[e];if(this._shouldThumbBeDisabled(e))return;let n=this.$["*cropBox"],{x:o,y:s}=this.ref["svg-el"].getBoundingClientRect(),a=r.x-o,l=r.y-s;this.$.dragging=!0,this._draggingThumb=i,this._dragStartPoint=[a,l],this._dragStartCrop={...n}}_handlePointerUp_(e){this._updateCursor(),this.$.dragging&&(e.stopPropagation(),e.preventDefault(),this.$.dragging=!1)}_handlePointerMove_(e){if(!this.$.dragging||!this._dragStartPoint||!this._draggingThumb)return;e.stopPropagation(),e.preventDefault();let r=this.ref["svg-el"],{x:i,y:n}=r.getBoundingClientRect(),o=e.x-i,s=e.y-n,a=o-this._dragStartPoint[0],l=s-this._dragStartPoint[1],{direction:c}=this._draggingThumb,u=this._calcCropBox(c,[a,l]);u&&(this.$["*cropBox"]=u)}_calcCropBox(e,r){let[i,n]=r,o=this.$["*imageBox"],s=this._dragStartCrop??this.$["*cropBox"],a=this.$["*cropPresetList"]?.[0],l=a?a.width/a.height:void 0;if(e===""?s=W0({rect:s,delta:[i,n],imageBox:o}):s=G0({rect:s,delta:[i,n],direction:e,aspectRatio:l,imageBox:o}),!Object.values(s).every(c=>Number.isFinite(c)&&c>=0)){console.error("CropFrame is trying to create invalid rectangle",{payload:s});return}return tn(nn(s),this.$["*imageBox"])}_handleSvgPointerMove_(e){if(!this._frameThumbs)return;let r=Object.values(this._frameThumbs).find(i=>{if(this._shouldThumbBeDisabled(i.direction))return!1;let o=i.interactionNode.getBoundingClientRect(),s={x:o.x,y:o.y,width:o.width,height:o.height};return K0(s,[e.x,e.y])});this._hoverThumb=r,this._updateCursor()}_updateCursor(){let e=this._hoverThumb;this.ref["svg-el"].style.cursor=e?H0(e.direction):"initial"}_createMask(e){if(this._frameImage){this._frameImage.setAttribute("href",e);return}let r=this.ref["svg-el"],i=document.createDocumentFragment(),n=Ze("image",{href:e});n.setAttribute("class","uc-cloud-mask"),i.appendChild(n),r.appendChild(i),this._frameImage=n}_updateMask(){let e=this.$["*cropBox"];if(!e||!this._frameImage)return;let{x:r,y:i,width:n,height:o}=e;Rr(this._frameImage,{x:r,y:i,height:o,width:n})}_render(){this._updateBackdrop(),this._updateFrame(),this._updateMask()}toggleThumbs(e){this._frameThumbs&&Object.values(this._frameThumbs).map(({groupNode:r})=>r).forEach(r=>{r.setAttribute("class",ge("uc-thumb",{"uc-thumb--hidden":!e,"uc-thumb--visible":e}))})}initCallback(){super.initCallback(),this._createBackdrop(),this._createFrame(),this.sub("*imageBox",()=>{this._resizeBackdrop(),window.requestAnimationFrame(()=>{this._render()})}),this.sub("*cropBox",e=>{e&&(this._guidesHidden=e.height<=L||e.width<=L,window.requestAnimationFrame(()=>{this._render()}))}),this.subConfigValue("cloudImageEditorMaskHref",e=>{e&&this._createMask(e)}),this.sub("dragging",e=>{this._frameGuides&&this._frameGuides.setAttribute("class",ge({"uc-guides--hidden":this._guidesHidden,"uc-guides--visible":!this._guidesHidden&&e,"uc-guides--semi-hidden":!this._guidesHidden&&!e}))}),this.ref["svg-el"].addEventListener("pointermove",this._handleSvgPointerMove,!0),document.addEventListener("pointermove",this._handlePointerMove,!0),document.addEventListener("pointerup",this._handlePointerUp,!0)}destroyCallback(){super.destroyCallback(),document.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerUp)}};Jo.template=' <svg class="uc-svg" ref="svg-el" xmlns="http://www.w3.org/2000/svg"></svg> '});var ar,Ol=v(()=>{Nr();ee();ar=class extends I{init$={...this.init$,active:!1,title:"",icon:"","on.click":null,"title-prop":""};initCallback(){super.initCallback(),this._titleEl=this.ref["title-el"],this._iconEl=this.ref["icon-el"],this.sub("title",e=>{this._titleEl&&(this._titleEl.style.display=e?"block":"none")}),this.sub("active",e=>{this.className=ge({"uc-active":e,"uc-not_active":!e})}),this.sub("on.click",e=>{this.onclick=e})}};ar.template=`
  <button role="option" type="button" set="@aria-label:title-prop;" l10n="@title:title-prop;">
    <uc-icon set="@name: icon;"></uc-icon>
    <div class="uc-title" ref="title-el">{{title}}</div>
  </button>
`});function Ax(t){let e=t+90;return e=e>=360?0:e,e}function Tx(t,e){return t==="rotate"?Ax(e):["mirror","flip"].includes(t)?!e:null}var vn,Eh=v(()=>{Ol();vn=class extends ar{initCallback(){super.initCallback(),this.defineAccessor("operation",e=>{e&&(this._operation=e,this.$.icon=e,this.bindL10n("title-prop",()=>this.l10n("a11y-cloud-editor-apply-crop",{name:this.l10n(e).toLowerCase()})))}),this.$["on.click"]=()=>{let e=this.$["*cropperEl"].getValue(this._operation),r=Tx(this._operation,e);this.$["*cropperEl"].setValue(this._operation,r)}}}});var es,Rt,ts,Ll=v(()=>{ee();tr();es={FILTER:"filter",COLOR_OPERATION:"color_operation"},Rt="original",ts=class extends I{init$={...this.init$,disabled:!1,min:0,max:100,value:0,defaultValue:0,zero:0,"on.input":e=>{this.$["*faderEl"].set(e),this.$.value=e}};setOperation(e,r){this._controlType=e==="filter"?es.FILTER:es.COLOR_OPERATION,this._operation=e,this._iconName=e,this._title=e.toUpperCase(),this._filter=r,this._initializeValues(),this.$["*faderEl"].activate({url:this.$["*originalUrl"],operation:this._operation,value:this._filter===Rt?void 0:this.$.value,filter:this._filter===Rt?void 0:this._filter,fromViewer:!1})}_initializeValues(){let{range:e,zero:r}=Tt[this._operation],[i,n]=e;this.$.min=i,this.$.max=n,this.$.zero=r;let o=this.$["*editorTransformations"][this._operation];if(this._controlType===es.FILTER){let s=n;if(o){let{name:a,amount:l}=o;s=a===this._filter?l:n}this.$.value=s,this.$.defaultValue=s}if(this._controlType===es.COLOR_OPERATION){let s=typeof o<"u"?o:r;this.$.value=s,this.$.defaultValue=s}}apply(){let e;this._controlType===es.FILTER?this._filter===Rt?e=null:e={name:this._filter,amount:this.$.value}:e=this.$.value;let r={...this.$["*editorTransformations"],[this._operation]:e};this.$["*editorTransformations"]=r}cancel(){this.$["*faderEl"].deactivate({hide:!1})}initCallback(){super.initCallback(),this.sub("*originalUrl",e=>{this._originalUrl=e}),this.sub("value",e=>{let r=`${this._filter||this._operation} ${e}`;this.$["*operationTooltip"]=r})}};ts.template=`
  <uc-slider-ui
    ref="slider-el"
    set="disabled: disabled; min: min; max: max; defaultValue: defaultValue; zero: zero; onInput: on.input;"
  ></uc-slider-ui>
`});function fi(t){let e=new Image;return{promise:new Promise((n,o)=>{e.src=t,e.onload=n,e.onerror=o}),image:e,cancel:()=>{e.naturalWidth===0&&(e.src=$t)}}}function rs(t){let e=[];for(let o of t){let s=fi(o);e.push(s)}let r=e.map(o=>o.image);return{promise:Promise.allSettled(e.map(o=>o.promise)),images:r,cancel:()=>{e.forEach(o=>{o.cancel()})}}}var yn=v(()=>{Qo()});var mi,Sh=v(()=>{At();Ol();Ll();Yi();yn();mi=class extends ar{constructor(){super(),this.init$={...this.init$,active:!1,title:"",icon:"",isOriginal:!1,iconSize:"20","on.click":null}}_previewSrc(){let e=parseInt(window.getComputedStyle(this).getPropertyValue("--l-base-min-width"),10),r=window.devicePixelRatio,i=Math.ceil(r*e),n=r>=2?"lightest":"normal",o=100,s={...this.$["*editorTransformations"]};return s[this._operation]=this._filter!==Rt?{name:this._filter,amount:o}:void 0,le(this._originalUrl,Ae(Wa,Mr(s),`quality/${n}`,`scale_crop/${i}x${i}/center`))}async _observerCallback(e,r){if(e[0].isIntersecting){let n=await this.proxyUrl(this._previewSrc()),o=this.ref["preview-el"],{promise:s,cancel:a}=fi(n);this._cancelPreload=a,s.catch(l=>{this.$["*networkProblems"]=!0,console.error("Failed to load image",{error:l})}).finally(()=>{o.style.backgroundImage=`url(${n})`,o.setAttribute("loaded",""),r.unobserve(this)})}else this._cancelPreload?.()}initCallback(){super.initCallback(),this.$["on.click"]=()=>{this.$.active?this.$.isOriginal||(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*showSlider"]=!0):(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*sliderEl"].apply()),this.$["*currentFilter"]=this._filter},this.defineAccessor("filter",r=>{this._operation="filter",this._filter=r,this.$.isOriginal=r===Rt,this.$.icon=this.$.isOriginal?"original":"slider",this.bindL10n("title-prop",()=>this.l10n("a11y-cloud-editor-apply-filter",{name:r.toLowerCase()}))}),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:[0,1]});let e=this.$["*originalUrl"];this._originalUrl=e,this.$.isOriginal?this.ref["icon-el"].classList.add("uc-original-icon"):this._observer.observe(this),this.sub("*currentFilter",r=>{this.$.active=r&&r===this._filter}),this.sub("isOriginal",r=>{this.$.iconSize=r?40:20}),this.sub("active",r=>{if(this.$.isOriginal)return;let i=this.ref["icon-el"];i.style.opacity=r?"1":"0";let n=this.ref["preview-el"];r?n.style.opacity="0":n.style.backgroundImage&&(n.style.opacity="1")}),this.sub("*networkProblems",async r=>{if(!r){let i=await this.proxyUrl(this._previewSrc()),n=this.ref["preview-el"];n.style.backgroundImage&&(n.style.backgroundImage="none",n.style.backgroundImage=`url(${i})`)}})}destroyCallback(){super.destroyCallback(),this._observer?.disconnect(),this._cancelPreload?.()}};mi.template=`
  <button type="button" role="option" l10n="@title:title-prop;@aria-label:title-prop">
    <div class="uc-preview" ref="preview-el"></div>
    <uc-icon ref="icon-el" set="@name: icon; @size: iconSize;"></uc-icon>
  </button>
`});var bn,Ah=v(()=>{Ol();tr();bn=class extends ar{_operation="";initCallback(){super.initCallback(),this.$["on.click"]=e=>{this.$["*sliderEl"].setOperation(this._operation),this.$["*showSlider"]=!0,this.$["*currentOperation"]=this._operation},this.defineAccessor("operation",e=>{e&&(this._operation=e,this.$.icon=e,this.bindL10n("title-prop",()=>this.l10n("a11y-cloud-editor-apply-tuning",{name:this.l10n(e).toLowerCase()})),this.bindL10n("title",()=>this.l10n(e)))}),this.sub("*editorTransformations",e=>{if(!this._operation)return;let{zero:r}=Tt[this._operation],i=e[this._operation],n=typeof i<"u"?i!==r:!1;this.$.active=n})}}});function J1(t,e){let r={};for(let i of e){let n=t[i];(t.hasOwnProperty(i)||n!==void 0)&&(r[i]=n)}return r}var ey=v(()=>{});function _n(t,e,r){let n=window.devicePixelRatio,o=Math.min(Math.ceil(e*n),3e3),s=n>=2?"lightest":"normal";return le(t,Ae(Wa,Mr(r),`quality/${s}`,`stretch/off/-/resize/${o}x`,`@clib/${ci}/${ui}/uc-cloud-image-editor/`))}var Ml=v(()=>{Uo();At();Yi()});function Ix(t){return t?[({dimensions:r,coords:i})=>[...r,...i].every(n=>Number.isInteger(n)&&Number.isFinite(n)),({dimensions:r,coords:i})=>r.every(n=>n>0)&&i.every(n=>n>=0)].every(r=>r(t)):!0}var is,ty=v(()=>{ee();Ye();Al();al();Nr();ey();yn();Ml();is=class extends I{ctxOwner=!0;constructor(){super(),this.init$={...this.init$,image:null,"*padding":20,"*operations":{rotate:0,mirror:!1,flip:!1},"*imageBox":{x:0,y:0,width:0,height:0},"*cropBox":{x:0,y:0,width:0,height:0}},this._commitDebounced=K(this._commit.bind(this),300),this._handleResizeThrottled=fn(this._handleResize.bind(this),100),this._imageSize={width:0,height:0}}_handleResize(){!this.isConnected||!this._isActive||(this._initCanvas(),this._syncTransformations(),this._alignImage(),this._alignCrop(),this._draw())}_syncTransformations(){let e=this.$["*editorTransformations"],r=J1(e,Object.keys(this.$["*operations"])),i={...this.$["*operations"],...r};this.$["*operations"]=i}_initCanvas(){let e=this.ref["canvas-el"],r=e.getContext("2d"),i=this.offsetWidth,n=this.offsetHeight,o=window.devicePixelRatio;e.style.width=`${i}px`,e.style.height=`${n}px`,e.width=i*o,e.height=n*o,r?.scale(o,o),this._canvas=e,this._ctx=r}_alignImage(){if(!this._isActive||!this.$.image)return;let e=this.$.image,r=this.$["*padding"],i=this.$["*operations"],{rotate:n}=i,o={width:this.offsetWidth,height:this.offsetHeight},s=rn({width:e.naturalWidth,height:e.naturalHeight},n),a;if(s.width>o.width-r*2||s.height>o.height-r*2){let l=s.width/s.height,c=o.width/o.height;if(l>c){let u=o.width-r*2,d=u/l,h=0+r,g=r+(o.height-r*2)/2-d/2;a={x:h,y:g,width:u,height:d}}else{let u=o.height-r*2,d=u*l,h=r+(o.width-r*2)/2-d/2,g=0+r;a={x:h,y:g,width:d,height:u}}}else{let{width:l,height:c}=s,u=r+(o.width-r*2)/2-l/2,d=r+(o.height-r*2)/2-c/2;a={x:u,y:d,width:l,height:c}}this.$["*imageBox"]=nn(a)}_alignCrop(){let e=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:n}=i,o=this.$["*editorTransformations"].crop,{width:s,x:a,y:l}=this.$["*imageBox"];if(o){let{dimensions:[d,h],coords:[g,y]}=o,{width:b}=rn(this._imageSize,n),S=s/b;e=tn(nn({x:a+g*S,y:l+y*S,width:d*S,height:h*S}),this.$["*imageBox"])}let c=this.$["*cropPresetList"]?.[0],u=c?c.width/c.height:void 0;if(!X0(e,r)||u&&!q0(e,u)){let d=r.width/r.height,h=r.width,g=r.height;u&&(d>u?h=Math.min(r.height*u,r.width):g=Math.min(r.width/u,r.height)),e={x:r.x+r.width/2-h/2,y:r.y+r.height/2-g/2,width:h,height:g}}this.$["*cropBox"]=tn(nn(e),this.$["*imageBox"])}_drawImage(){let e=this._ctx;if(!e)return;let r=this.$.image,i=this.$["*imageBox"],n=this.$["*operations"],{mirror:o,flip:s,rotate:a}=n,l=rn({width:i.width,height:i.height},a);e.save(),e.translate(i.x+i.width/2,i.y+i.height/2),e.rotate(a*Math.PI*-1/180),e.scale(o?-1:1,s?-1:1),e.drawImage(r,-l.width/2,-l.height/2,l.width,l.height),e.restore()}_draw(){if(!this._isActive||!this.$.image||!this._canvas||!this._ctx)return;let e=this._canvas;this._ctx.clearRect(0,0,e.width,e.height),this._drawImage()}_animateIn({fromViewer:e}){this.$.image&&(this.ref["frame-el"].toggleThumbs(!0),this._transitionToImage(),setTimeout(()=>{this.className=ge({"uc-active_from_viewer":e,"uc-active_from_editor":!e,"uc-inactive_to_editor":!1})}))}_getCropDimensions(){let e=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:n}=i,{width:o,height:s}=r,{width:a,height:l}=rn(this._imageSize,n),{width:c,height:u}=e,d=o/a,h=s/l;return[zr(Math.round(c/d),1,a),zr(Math.round(u/h),1,l)]}_getCropTransformation(){let e=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:n}=i,{width:o,height:s,x:a,y:l}=r,{width:c,height:u}=rn(this._imageSize,n),{x:d,y:h}=e,g=o/c,y=s/u,b=this._getCropDimensions(),S={dimensions:b,coords:[zr(Math.round((d-a)/g),0,c-b[0]),zr(Math.round((h-l)/y),0,u-b[1])]};if(!Ix(S)){console.error("Cropper is trying to create invalid crop object",{payload:S});return}if(!(b[0]===c&&b[1]===u))return S}_commit(){if(!this.isConnected||!this._imageSize)return;let e=this.$["*operations"],{rotate:r,mirror:i,flip:n}=e,o=this._getCropTransformation(),a={...this.$["*editorTransformations"],crop:o,rotate:r,mirror:i,flip:n};this.$["*editorTransformations"]=a}setValue(e,r){this.$["*operations"]={...this.$["*operations"],[e]:r},this._isActive&&(this._alignImage(),this._alignCrop(),this._draw())}getValue(e){return this.$["*operations"][e]}async activate(e,{fromViewer:r}={}){if(!this._isActive){this._isActive=!0,this._imageSize=e,this.removeEventListener("transitionend",this._reset);try{this.$.image=await this._waitForImage(this.$["*originalUrl"],this.$["*editorTransformations"]),this._syncTransformations(),this._animateIn({fromViewer:r})}catch(i){console.error("Failed to activate cropper",{error:i})}this._observer=new ResizeObserver(([i])=>{i.contentRect.width>0&&i.contentRect.height>0&&this._isActive&&this.$.image&&this._handleResizeThrottled()}),this._observer.observe(this)}}deactivate({reset:e=!1}={}){this._isActive&&(!e&&this._commit(),this._isActive=!1,this._transitionToCrop(),this.className=ge({"uc-active_from_viewer":!1,"uc-active_from_editor":!1,"uc-inactive_to_editor":!0}),this.ref["frame-el"].toggleThumbs(!1),this.addEventListener("transitionend",this._reset,{once:!0}),this._observer?.disconnect())}_transitionToCrop(){let e=this._getCropDimensions(),r=Math.min(this.offsetWidth,e[0])/this.$["*cropBox"].width,i=Math.min(this.offsetHeight,e[1])/this.$["*cropBox"].height,n=Math.min(r,i),o=this.$["*cropBox"].x+this.$["*cropBox"].width/2,s=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform=`scale(${n}) translate(${(this.offsetWidth/2-o)/n}px, ${(this.offsetHeight/2-s)/n}px)`,this.style.transformOrigin=`${o}px ${s}px`}_transitionToImage(){let e=this.$["*cropBox"].x+this.$["*cropBox"].width/2,r=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform="scale(1)",this.style.transformOrigin=`${e}px ${r}px`}_reset(){this._isActive||(this.$.image=null)}async _waitForImage(e,r){let i=this.offsetWidth;r={...r,crop:void 0,rotate:void 0,flip:void 0,mirror:void 0};let n=await this.proxyUrl(_n(e,i,r)),{promise:o,cancel:s,image:a}=fi(n),l=this._handleImageLoading(n);return a.addEventListener("load",l,{once:!0}),a.addEventListener("error",l,{once:!0}),this._cancelPreload?.(),this._cancelPreload=s,o.then(()=>a).catch(c=>(console.error("Failed to load image",{error:c}),this.$["*networkProblems"]=!0,Promise.resolve(a)))}_handleImageLoading(e){let r="crop",i=this.$["*loadingOperations"];return i.get(r)||i.set(r,new Map),i.get(r).get(e)||(i.set(r,i.get(r).set(e,!0)),this.$["*loadingOperations"]=i),()=>{i?.get(r)?.has(e)&&(i.get(r).delete(e),this.$["*loadingOperations"]=i)}}initCallback(){super.initCallback(),this.sub("*imageBox",()=>{this._draw()}),this.sub("*cropBox",()=>{this.$.image&&this._commitDebounced()}),this.sub("*cropPresetList",()=>{this._alignCrop()}),setTimeout(()=>{this.sub("*networkProblems",e=>{e||this._isActive&&this.activate(this._imageSize,{fromViewer:!1})})},0)}destroyCallback(){super.destroyCallback(),this._observer?.disconnect()}};is.template=`
  <canvas class="uc-canvas" ref="canvas-el"></canvas>
  <uc-crop-frame ref="frame-el"></uc-crop-frame>
`});function Th(t,e,r){let i=Array(r);r--;for(let n=r;n>=0;n--)i[n]=Math.ceil((n*e+(r-n)*t)/r);return i}var ry=v(()=>{});function Ox(t){return t.reduce((e,r,i)=>i<t.length-1?[...e,[r,t[i+1]]]:e,[])}function Lx(t,e,r){let i=Ox(t).find(([n,o])=>n<=e&&e<=o);return t.map(n=>{let o=Math.abs(i[0]-i[1]),s=Math.abs(e-i[0])/o;return i[0]===n?e>r?1:1-s:i[1]===n?e>=r?s:1:0})}function Mx(t,e){return t.map((r,i)=>r<e?t.length-i:i)}function iy(t,e){let r=Tt[t].keypointsNumber,{range:i,zero:n}=Tt[t];return[...new Set([...Th(i[0],n,r+1),...Th(n,i[1],r+1),n,e])].sort((o,s)=>o-s)}var Pl,ny=v(()=>{Ye();ee();Nr();ry();yn();tr();Ml();Pl=class extends I{constructor(){super(),this._isActive=!1,this._hidden=!0,this._addKeypointDebounced=K(this._addKeypoint.bind(this),600),this.classList.add("uc-inactive_to_cropper")}_handleImageLoading(e){let r=this._operation,i=this.$["*loadingOperations"];return i.get(r)||i.set(r,new Map),i.get(r).get(e)||(i.set(r,i.get(r).set(e,!0)),this.$["*loadingOperations"]=i),()=>{i?.get(r)?.has(e)&&(i.get(r).delete(e),this.$["*loadingOperations"]=i)}}_flush(){window.cancelAnimationFrame(this._raf),this._raf=window.requestAnimationFrame(()=>{for(let e of this._keypoints){let{image:r}=e;r&&(r.style.opacity=e.opacity.toString(),r.style.zIndex=e.zIndex.toString())}})}async _imageSrc({url:e=this._url,filter:r=this._filter,operation:i,value:n}={}){let o={...this._transformations};i&&(o[i]=r?{name:r,amount:n}:n);let s=this.offsetWidth;return await this.proxyUrl(_n(e,s,o))}async _constructKeypoint(e,r){return{src:await this._imageSrc({operation:e,value:r}),image:null,opacity:0,zIndex:0,value:r}}_isSame(e,r){return this._operation===e&&this._filter===r}async _addKeypoint(e,r,i){let n=()=>!this._isSame(e,r)||this._value!==i||!!this._keypoints.find(l=>l.value===i);if(n())return;let o=await this._constructKeypoint(e,i),s=new Image;s.src=o.src;let a=this._handleImageLoading(o.src);s.addEventListener("load",a,{once:!0}),s.addEventListener("error",a,{once:!0}),o.image=s,s.classList.add("uc-fader-image"),s.addEventListener("load",()=>{if(n())return;let l=this._keypoints,c=l.findIndex(d=>d.value>i),u=c<l.length?l[c].image:null;!this._container||u&&!this._container.contains(u)||(l.splice(c,0,o),this._container.insertBefore(s,u),this._update(e,i))},{once:!0}),s.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}set(e){e=typeof e=="string"?parseInt(e,10):e,this._update(this._operation,e),this._addKeypointDebounced(this._operation,this._filter,e)}_update(e,r){this._operation=e,this._value=r;let{zero:i}=Tt[e],n=this._keypoints.map(a=>a.value),o=Lx(n,r,i),s=Mx(n,i);for(let[a,l]of Object.entries(this._keypoints))l.opacity=o[a],l.zIndex=s[a];this._flush()}_createPreviewImage(){let e=new Image;return e.classList.add("uc-fader-image","uc-fader-image--preview"),e.style.opacity="0",e}async _initNodes(){let e=document.createDocumentFragment();this._previewImage=this._previewImage||this._createPreviewImage(),!this.contains(this._previewImage)&&e.appendChild(this._previewImage);let r=document.createElement("div");e.appendChild(r);let i=this._keypoints.map(c=>c.src),{images:n,promise:o,cancel:s}=rs(i);n.forEach(c=>{let u=this._handleImageLoading(c.src);c.addEventListener("load",u),c.addEventListener("error",u)}),this._cancelLastImages=()=>{s(),this._cancelLastImages=void 0};let a=this._operation,l=this._filter;await o,this._isActive&&this._isSame(a,l)&&(this._container&&this._container.remove(),this._container=r,this._keypoints.forEach((c,u)=>{let d=n[u];d.classList.add("uc-fader-image"),c.image=d,this._container.appendChild(d)}),this.appendChild(e),this._flush())}async setTransformations(e){if(this._transformations=e,this._previewImage){let r=await this._imageSrc(),i=this._handleImageLoading(r);this._previewImage.src=r,this._previewImage.addEventListener("load",i,{once:!0}),this._previewImage.addEventListener("error",i,{once:!0}),this._previewImage.style.opacity="1",this._previewImage.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}}async preload({url:e,filter:r,operation:i,value:n}){this._cancelBatchPreload&&this._cancelBatchPreload();let o=iy(i,n),s=await Promise.all(o.map(l=>this._imageSrc({url:e,filter:r,operation:i,value:l}))),{cancel:a}=rs(s);this._cancelBatchPreload=a}_setOriginalSrc(e){let r=this._previewImage||this._createPreviewImage();if(!this.contains(r)&&this.appendChild(r),this._previewImage=r,r.src===e){r.style.opacity="1",r.style.transform="scale(1)",this.className=ge({"uc-active_from_viewer":this._fromViewer,"uc-active_from_cropper":!this._fromViewer,"uc-inactive_to_cropper":!1});return}r.style.opacity="0";let i=this._handleImageLoading(e);r.addEventListener("error",i,{once:!0}),r.src=e,r.addEventListener("load",()=>{i(),r&&(r.style.opacity="1",r.style.transform="scale(1)",this.className=ge({"uc-active_from_viewer":this._fromViewer,"uc-active_from_cropper":!this._fromViewer,"uc-inactive_to_cropper":!1}))},{once:!0}),r.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}async activate({url:e,operation:r,value:i,filter:n,fromViewer:o}){if(this._isActive=!0,this._hidden=!1,this._url=e,this._operation=r||"initial",this._value=i,this._filter=n,this._fromViewer=o,typeof i!="number"&&!n){let a=await this._imageSrc({operation:r,value:i});this._setOriginalSrc(a),this._container&&this._container.remove();return}this._keypoints=await Promise.all(iy(r,i).map(a=>this._constructKeypoint(r,a))),this._update(r,i),this._initNodes()}deactivate({hide:e=!0}={}){this._isActive=!1,this._cancelLastImages&&this._cancelLastImages(),this._cancelBatchPreload&&this._cancelBatchPreload(),e&&!this._hidden?(this._hidden=!0,this._previewImage&&(this._previewImage.style.transform="scale(1)"),this.className=ge({"uc-active_from_viewer":!1,"uc-active_from_cropper":!1,"uc-inactive_to_cropper":!0}),this.addEventListener("transitionend",()=>{this._container&&this._container.remove()},{once:!0})):this._container&&this._container.remove()}}});var Px,ns,oy=v(()=>{ee();Px=1,ns=class extends I{initCallback(){super.initCallback(),this.addEventListener("wheel",e=>{e.preventDefault();let{deltaY:r,deltaX:i}=e;Math.abs(i)>Px?this.scrollLeft+=i:this.scrollLeft+=r},{passive:!1}),this.addEventListener("scroll",()=>{},{passive:!0})}};ns.template=" <slot></slot> "});function $x(t){return`
    <uc-presence-toggle
      class="uc-tab-toggle"
      set="visible: presence.tabToggle.${t}; styles: presence.tabToggleStyles;"
    >
      <uc-btn-ui
        theme="tab"
        ref="tab-toggle-${t}"
        data-id="${t}"
        icon="${t}"
        set="onclick: on.clickTab; aria-role:tab_role; aria-controls:tab_${t}; title-prop: a11y-editor-tab-${t}"
      >
      </uc-btn-ui>
    </uc-presence-toggle>
  `}function Ux(t){return`
    <uc-presence-toggle
      id="tab_${t}"
      class="uc-tab-content"
      set="visible: presence.tabContent.${t}; styles: presence.tabContentStyles"
    >
      <uc-editor-scroller hidden-scrollbar>
        <div class="uc-controls-list_align">
          <div
            role="listbox"
            aria-orientation="horizontal"
            class="uc-controls-list_inner"
            ref="controls-list-${t}"
          ></div>
        </div>
      </uc-editor-scroller>
    </uc-presence-toggle>
  `}var os,sy=v(()=>{Ye();ee();Eh();Sh();Ah();Ll();yn();tr();Ml();os=class extends I{constructor(){super(),this.init$={...this.init$,"*sliderEl":null,"*loadingOperations":new Map,"*showSlider":!1,"*currentFilter":Rt,"*currentOperation":null,showLoader:!1,filters:Xg,colorOperations:Kg,cropOperations:qg,"*operationTooltip":null,"presence.mainToolbar":!0,"presence.subToolbar":!1,"presence.tabToggles":!0,"presence.tabContent.crop":!1,"presence.tabContent.tuning":!1,"presence.tabContent.filters":!1,"presence.tabToggle.crop":!0,"presence.tabToggle.tuning":!0,"presence.tabToggle.filters":!0,"presence.subTopToolbarStyles":{hidden:"uc-sub-toolbar--top-hidden",visible:"uc-sub-toolbar--visible"},"presence.subBottomToolbarStyles":{hidden:"uc-sub-toolbar--bottom-hidden",visible:"uc-sub-toolbar--visible"},"presence.tabContentStyles":{hidden:"uc-tab-content--hidden",visible:"uc-tab-content--visible"},"presence.tabToggleStyles":{hidden:"uc-tab-toggle--hidden",visible:"uc-tab-toggle--visible"},"presence.tabTogglesStyles":{hidden:"uc-tab-toggles--hidden",visible:"uc-tab-toggles--visible"},"on.cancel":()=>{this._cancelPreload?.(),this.$["*on.cancel"]()},"on.apply":()=>{this.$["*on.apply"](this.$["*editorTransformations"])},"on.applySlider":()=>{this.ref["slider-el"].apply(),this._onSliderClose()},"on.cancelSlider":()=>{this.ref["slider-el"].cancel(),this._onSliderClose()},"on.clickTab":e=>{let r=e.currentTarget.getAttribute("data-id");r&&this._activateTab(r,{fromViewer:!1})},tab_role:"tab",[`tab_${Y.TUNING}`]:`tab_${Y.TUNING}`,[`tab_${Y.CROP}`]:`tab_${Y.CROP}`,[`tab_${Y.FILTERS}`]:`tab_${Y.FILTERS}`,cancel:"cancel",apply:"apply","a11y-editor-tab-filters":"a11y-editor-tab-filters","a11y-editor-tab-tuning":"a11y-editor-tab-tuning","a11y-editor-tab-crop":"a11y-editor-tab-crop"},this._debouncedShowLoader=K(this._showLoader.bind(this),500)}_onSliderClose(){this.$["*showSlider"]=!1,this.$["*tabId"]===Y.TUNING&&this.ref["tooltip-el"].classList.toggle("uc-info-tooltip_visible",!1)}_createOperationControl(e){let r=new bn;return r.operation=e,r}_createFilterControl(e){let r=new mi;return r.filter=e,r}_createToggleControl(e){let r=new vn;return r.operation=e,r}_renderControlsList(e){let r=this.ref[`controls-list-${e}`],i=document.createDocumentFragment();e===Y.CROP?this.$.cropOperations.forEach(n=>{let o=this._createToggleControl(n);i.appendChild(o)}):e===Y.FILTERS?[Rt,...this.$.filters].forEach(n=>{let o=this._createFilterControl(n);i.appendChild(o)}):e===Y.TUNING&&this.$.colorOperations.forEach(n=>{let o=this._createOperationControl(n);i.appendChild(o)}),[...i.children].forEach((n,o)=>{o===i.childNodes.length-1&&n.classList.add("uc-controls-list_last-item")}),r.innerHTML="",r.appendChild(i)}_activateTab(e,{fromViewer:r}){this.$["*tabId"]=e,e===Y.CROP?(this.$["*faderEl"].deactivate(),this.$["*cropperEl"].activate(this.$["*imageSize"],{fromViewer:r})):(this.$["*faderEl"].activate({url:this.$["*originalUrl"],fromViewer:r}),this.$["*cropperEl"].deactivate());for(let i of ze){let n=i===e,o=this.ref[`tab-toggle-${i}`];o.active=n,n?(this._renderControlsList(e),this._syncTabIndicator()):this._unmountTabControls(i),this.$[`presence.tabContent.${i}`]=n}}_unmountTabControls(e){let r=this.ref[`controls-list-${e}`];r&&(r.innerHTML="")}_syncTabIndicator(){let e=this.ref[`tab-toggle-${this.$["*tabId"]}`],r=this.ref["tabs-indicator"];r.style.transform=`translateX(${e.offsetLeft}px)`}async _preloadEditedImage(){if(this.$["*imgContainerEl"]&&this.$["*originalUrl"]){let e=this.$["*imgContainerEl"].offsetWidth,r=await this.proxyUrl(_n(this.$["*originalUrl"],e,this.$["*editorTransformations"]));this._cancelPreload?.();let{cancel:i}=rs([r]);this._cancelPreload=()=>{i(),this._cancelPreload=void 0}}}_showLoader(e){this.$.showLoader=e}_updateInfoTooltip=K(()=>{let e=this.$["*editorTransformations"],r=this.$["*currentOperation"],i="",n=!1;if(this.$["*tabId"]===Y.FILTERS)if(n=!0,this.$["*currentFilter"]&&e?.filter?.name===this.$["*currentFilter"]){let o=e?.filter?.amount||100;i=this.$["*currentFilter"]+" "+o}else i=this.l10n(Rt);else if(this.$["*tabId"]===Y.TUNING&&r){n=!0;let o=e?.[r]||Tt[r].zero;i=this.l10n(r)+" "+o}n&&(this.$["*operationTooltip"]=i),this.ref["tooltip-el"].classList.toggle("uc-info-tooltip_visible",n)},0);initCallback(){super.initCallback(),this.$["*sliderEl"]=this.ref["slider-el"],this.sub("*imageSize",e=>{e&&setTimeout(()=>{this._activateTab(this.$["*tabId"],{fromViewer:!0})},0)}),this.sub("*editorTransformations",e=>{let r=e?.filter?.name;this.$["*currentFilter"]!==r&&(this.$["*currentFilter"]=r)}),this.sub("*currentFilter",()=>{this._updateInfoTooltip()}),this.sub("*currentOperation",()=>{this._updateInfoTooltip()}),this.sub("*tabId",()=>{this._updateInfoTooltip()}),this.sub("*originalUrl",()=>{this.$["*faderEl"]&&this.$["*faderEl"].deactivate()}),this.sub("*editorTransformations",e=>{this._preloadEditedImage(),this.$["*faderEl"]&&this.$["*faderEl"].setTransformations(e)}),this.sub("*loadingOperations",e=>{let r=!1;for(let[,i]of e.entries()){if(r)break;for(let[,n]of i.entries())if(n){r=!0;break}}this._debouncedShowLoader(r)}),this.sub("*showSlider",e=>{this.$["presence.subToolbar"]=e,this.$["presence.mainToolbar"]=!e}),this.sub("*tabList",e=>{this.$["presence.tabToggles"]=e.length>1;for(let r of ze){this.$[`presence.tabToggle.${r}`]=e.includes(r);let i=this.ref[`tab-toggle-${r}`];i.style.gridColumn=e.indexOf(r)+1}e.includes(this.$["*tabId"])||this._activateTab(e[0],{fromViewer:!1})}),this._updateInfoTooltip()}destroyCallback(){this.$["*showSlider"]=!1}};os.template=`
  <uc-line-loader-ui set="active: showLoader"></uc-line-loader-ui>
  <div class="uc-info-tooltip_container">
    <div class="uc-info-tooltip_wrapper">
      <div ref="tooltip-el" class="uc-info-tooltip uc-info-tooltip_hidden">{{*operationTooltip}}</div>
    </div>
  </div>
  <div class="uc-toolbar-container">
    <uc-presence-toggle
      role="tablist"
      class="uc-sub-toolbar"
      set="visible: presence.mainToolbar; styles: presence.subTopToolbarStyles"
    >
      <div class="uc-tab-content-row">${ze.map(Ux).join("")}</div>
      <div class="uc-controls-row">
        <uc-presence-toggle
          class="uc-tab-toggles"
          set="visible: presence.tabToggles; styles: presence.tabTogglesStyles"
        >
          <div ref="tabs-indicator" class="uc-tab-toggles_indicator"></div>
          ${ze.map($x).join("")}
        </uc-presence-toggle>
        <uc-btn-ui style="order: -1" theme="secondary-icon" icon="closeMax" set="onclick: on.cancel; title-prop:cancel">
        </uc-btn-ui>
        <uc-btn-ui theme="primary-icon" icon="done" set="onclick: on.apply; title-prop:apply"> </uc-btn-ui>
      </div>
    </uc-presence-toggle>
    <uc-presence-toggle
      class="uc-sub-toolbar"
      set="visible: presence.subToolbar; styles: presence.subBottomToolbarStyles"
    >
      <div class="uc-slider">
        <uc-editor-slider ref="slider-el"></uc-editor-slider>
      </div>
      <div class="uc-controls-row">
        <uc-btn-ui theme="secondary" set="onclick: on.cancelSlider" l10n="@text:cancel"> </uc-btn-ui>
        <uc-btn-ui theme="primary" set="onclick: on.applySlider" l10n="@text:apply"> </uc-btn-ui>
      </div>
    </uc-presence-toggle>
  </div>
`});var wn,ay=v(()=>{ee();Nr();wn=class extends I{constructor(){super(),this._iconReversed=!1,this._iconSingle=!1,this._iconHidden=!1,this.init$={...this.init$,text:"",icon:"",iconCss:this._iconCss(),theme:null,"aria-role":"","aria-controls":"","title-prop":""},this.defineAccessor("active",e=>{e?this.setAttribute("active",""):this.removeAttribute("active")})}_iconCss(){return ge("uc-icon",{"uc-icon_left":!this._iconReversed,"uc-icon_right":this._iconReversed,"uc-icon_hidden":this._iconHidden,"uc-icon_single":this._iconSingle})}initCallback(){super.initCallback(),this.sub("icon",e=>{this._iconSingle=!this.$.text,this._iconHidden=!e,this.$.iconCss=this._iconCss()}),this.sub("theme",e=>{e!=="custom"&&(this.className=`uc-${e}`)}),this.sub("text",e=>{this._iconSingle=!1}),this.hasAttribute("theme")||this.setAttribute("theme","default"),this.defineAccessor("aria-role",e=>{this.$["aria-role"]=e||""}),this.defineAccessor("aria-controls",e=>{this.$["aria-controls"]=e||""}),this.defineAccessor("title-prop",e=>{this.$["title-prop"]=e||""})}set reverse(e){this.hasAttribute("reverse")?(this.style.flexDirection="row-reverse",this._iconReversed=!0):(this._iconReversed=!1,this.style.flexDirection=null)}};wn.bindAttributes({text:"text",icon:"icon",reverse:"reverse",theme:"theme"});wn.template=`
  <button
    type="button"
    set="@role:aria-role; @aria-controls: aria-controls; @aria-label:title-prop"
    l10n="@title:title-prop;"
  >
    <uc-icon set="className: iconCss; @name: icon; @hidden: !icon"></uc-icon>
    <div class="uc-text">{{text}}</div>
  </button>
`});var ss,ly=v(()=>{ee();ss=class extends I{constructor(){super(),this._active=!1,this._handleTransitionEndRight=()=>{let e=this.ref["line-el"];e.style.transition="initial",e.style.opacity="0",e.style.transform="translateX(-101%)",this._active&&this._start()}}initCallback(){super.initCallback(),this.defineAccessor("active",e=>{typeof e=="boolean"&&(e?this._start():this._stop())})}_start(){this._active=!0;let{width:e}=this.getBoundingClientRect(),r=this.ref["line-el"];r.style.transition="transform 1s",r.style.opacity="1",r.style.transform=`translateX(${e}px)`,r.addEventListener("transitionend",this._handleTransitionEndRight,{once:!0})}_stop(){this._active=!1}};ss.template=`
  <div class="uc-inner">
    <div class="uc-line" ref="line-el"></div>
  </div>
`});var $l,as,cy=v(()=>{Nr();ee();$l={transition:"uc-transition",visible:"uc-visible",hidden:"uc-hidden"},as=class extends I{constructor(){super(),this._visible=!1,this._visibleStyle=$l.visible,this._hiddenStyle=$l.hidden,this._externalTransitions=!1,this.defineAccessor("styles",e=>{e&&(this._externalTransitions=!0,this._visibleStyle=e.visible,this._hiddenStyle=e.hidden)}),this.defineAccessor("visible",e=>{typeof e=="boolean"&&(this._visible=e,this._handleVisible())})}_handleVisible(){this.style.visibility=this._visible?"inherit":"hidden",j1(this,{[$l.transition]:!this._externalTransitions,[this._visibleStyle]:this._visible,[this._hiddenStyle]:!this._visible}),this.setAttribute("aria-hidden",this._visible?"false":"true")}initCallback(){super.initCallback(),this.classList.toggle("uc-initial",!0),this._externalTransitions||this.classList.add($l.transition),this._handleVisible(),setTimeout(()=>{this.classList.toggle("uc-initial",!1)},0)}};as.template="<slot></slot> "});var ls,uy=v(()=>{ee();ls=class extends I{init$={...this.init$,disabled:!1,min:0,max:100,onInput:null,onChange:null,defaultValue:null,"on.sliderInput":()=>{let e=parseInt(this.ref["input-el"].value,10);this._updateValue(e),this.$.onInput&&this.$.onInput(e)},"on.sliderChange":()=>{let e=parseInt(this.ref["input-el"].value,10);this.$.onChange&&this.$.onChange(e)}};constructor(){super(),this.setAttribute("with-effects","")}initCallback(){super.initCallback(),this.defineAccessor("disabled",r=>{this.$.disabled=r}),this.defineAccessor("min",r=>{this.$.min=r}),this.defineAccessor("max",r=>{this.$.max=r}),this.defineAccessor("defaultValue",r=>{this.$.defaultValue=r,this.ref["input-el"].value=r,this._updateValue(r)}),this.defineAccessor("zero",r=>{this._zero=r}),this.defineAccessor("onInput",r=>{r&&(this.$.onInput=r)}),this.defineAccessor("onChange",r=>{r&&(this.$.onChange=r)}),this._updateSteps(),this._observer=new ResizeObserver(()=>{this._updateSteps();let r=parseInt(this.ref["input-el"].value,10);this._updateValue(r)}),this._observer.observe(this),this._thumbSize=parseInt(window.getComputedStyle(this).getPropertyValue("--l-thumb-size"),10),setTimeout(()=>{let r=parseInt(this.ref["input-el"].value,10);this._updateValue(r)},0),this.sub("disabled",r=>{let i=this.ref["input-el"];r?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled")});let e=this.ref["input-el"];e.addEventListener("focus",()=>{this.style.setProperty("--color-effect","var(--hover-color-rgb)")}),e.addEventListener("blur",()=>{this.style.setProperty("--color-effect","var(--idle-color-rgb)")})}_updateValue(e){this._updateZeroDot(e);let{width:r}=this.getBoundingClientRect(),o=100/(this.$.max-this.$.min)*(e-this.$.min)*(r-this._thumbSize)/100;window.requestAnimationFrame(()=>{this.ref["thumb-el"].style.transform=`translateX(${o}px)`})}_updateZeroDot(e){if(!this._zeroDotEl)return;e===this._zero?this._zeroDotEl.style.opacity="0":this._zeroDotEl.style.opacity="1";let{width:r}=this.getBoundingClientRect(),o=100/(this.$.max-this.$.min)*(this._zero-this.$.min)*(r-this._thumbSize)/100;window.requestAnimationFrame(()=>{this._zeroDotEl.style.transform=`translateX(${o}px)`})}_updateSteps(){let r=this.ref["steps-el"],{width:i}=r.getBoundingClientRect(),n=Math.ceil(i/2),o=Math.ceil(n/15)-2;if(this._stepsCount===o)return;let s=document.createDocumentFragment(),a=document.createElement("div"),l=document.createElement("div");a.className="uc-minor-step",l.className="uc-border-step",s.appendChild(l);for(let u=0;u<o;u++)s.appendChild(a.cloneNode());s.appendChild(l.cloneNode());for(let u=0;u<o;u++)s.appendChild(a.cloneNode());s.appendChild(l.cloneNode());let c=document.createElement("div");c.className="uc-zero-dot",s.appendChild(c),this._zeroDotEl=c,r.innerHTML="",r.appendChild(s),this._stepsCount=o}destroyCallback(){super.destroyCallback(),this._observer?.disconnect()}};ls.template=`
  <div class="uc-steps" ref="steps-el"></div>
  <div ref="thumb-el" class="uc-thumb"></div>
  <input
    class="uc-input"
    type="range"
    ref="input-el"
    set="oninput: on.sliderInput; onchange: on.sliderChange; @min: min; @max: max; @value: defaultValue;"
  />
`});var dy=v(()=>{Ch();Q1();Eh();Sh();Ah();ty();ny();oy();Ll();sy();ay();ly();cy();uy()});var Ih=v(()=>{dy()});var Ul,hy=v(()=>{xe();Fe();Ih();Ul=class extends F{couldBeCtxOwner=!0;activityType=x.activities.CLOUD_IMG_EDIT;_entry;_instance;get activityParams(){let e=super.activityParams;if("internalId"in e)return e;throw new Error("Cloud Image Editor activity params not found")}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>this.mountEditor(),onDeactivate:()=>this.unmountEditor()}),this.subConfigValue("cropPreset",e=>{this._instance&&this._instance.getAttribute("crop-preset")!==e&&this._instance.setAttribute("crop-preset",e)}),this.subConfigValue("cloudImageEditorTabs",e=>{this._instance&&this._instance.getAttribute("tabs")!==e&&this._instance.setAttribute("tabs",e)})}handleApply(e){if(!this._entry)return;let r=e.detail;this._entry.setMultipleValues({cdnUrl:r.cdnUrl,cdnUrlModifiers:r.cdnUrlModifiers}),this.modalManager.close(x.activities.CLOUD_IMG_EDIT),this.historyBack()}handleCancel(){this.modalManager.close(x.activities.CLOUD_IMG_EDIT),this.historyBack()}mountEditor(){let{internalId:e}=this.activityParams,r=this.uploadCollection.read(e);if(!r)throw new Error(`Entry with internalId "${e}" not found`);this._entry=r;let i=this._entry.getValue("cdnUrl");if(!i)throw new Error(`Entry with internalId "${e}" hasn't uploaded yet`);let n=new Ut,o=this.cfg.cropPreset,s=this.cfg.cloudImageEditorTabs;n.setAttribute("ctx-name",this.ctxName),n.setAttribute("cdn-url",i),o&&n.setAttribute("crop-preset",o),s&&n.setAttribute("tabs",s),n.addEventListener("apply",a=>{let l=a;this.handleApply(l),this.debugPrint('editor event "apply"',l.detail)}),n.addEventListener("cancel",a=>{let l=a;this.handleCancel(),this.debugPrint('editor event "cancel"',l.detail)}),n.addEventListener("change",a=>{let l=a;this.debugPrint('editor event "change"',l.detail)}),this.innerHTML="",this.appendChild(n),this._instance=n}unmountEditor(){this._instance=void 0,this._entry=void 0,this.innerHTML=""}}});var Rx,py,fy=v(()=>{Rx=function(t){return t.replace(/[\\-\\[]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},py=function(t,e="i"){let r=t.split("*").map(Rx);return new RegExp("^"+r.join(".+")+"$",e)}});function zx(t,e){return window.getComputedStyle(t).getPropertyValue(e).trim()}function my(t){return Dx.reduce((e,r)=>{let i=zx(t,r);return i&&(e[r]=i),e},{})}var Dx,gy=v(()=>{Dx=["--uc-font-family","--uc-font-size","--uc-line-height","--uc-button-size","--uc-preview-size","--uc-input-size","--uc-padding","--uc-radius","--uc-transition","--uc-background","--uc-foreground","--uc-primary","--uc-primary-hover","--uc-primary-transparent","--uc-primary-foreground","--uc-secondary","--uc-secondary-hover","--uc-secondary-foreground","--uc-muted","--uc-muted-foreground","--uc-destructive","--uc-destructive-foreground","--uc-border"]});var Nx,Fx,Rl,vy=v(()=>{Nx=["selected-files-change","toolbar-state-change"],Fx=t=>!t||typeof t!="object"?!1:"type"in t&&Nx.includes(t.type),Rl=class{_handlerMap=new Map;_context;constructor(e){this._context=e,window.addEventListener("message",this._handleMessage)}_handleMessage=e=>{if(e.source!==this._context)return;let r=e.data;if(!Fx(r))return;let i=this._handlerMap.get(r.type);if(i)for(let n of i)n(r)};on(e,r){let i=this._handlerMap.get(e)??new Set;this._handlerMap.has(e)||this._handlerMap.set(e,i),i.add(r)}send(e){this._context.postMessage(e,"*")}destroy(){window.removeEventListener("message",this._handleMessage)}}});function yy(t){let e=[];for(let[r,i]of Object.entries(t))i==null||typeof i=="string"&&i.length===0||e.push(`${r}=${encodeURIComponent(i)}`);return e.join("&")}var by=v(()=>{});var _y,wy=v(()=>{_y=()=>{let t=globalThis.top??globalThis.parent??globalThis.self;try{return t.location.origin}catch(e){return console.warn("Unable to access top-level window location:",e),globalThis.location.origin}}});var Vx,cs,xy=v(()=>{st();xe();Fe();Jt();fy();gy();vy();by();wy();Mt();Vx={[_t.GDRIVE]:"ngdrive"},cs=class extends F{couldBeCtxOwner=!0;activityType=x.activities.EXTERNAL;constructor(){super(),this.init$={...this.init$,activityIcon:"",activityCaption:"",selectedList:[],total:0,isSelectionReady:!1,isDoneBtnEnabled:!1,couldSelectAll:!1,couldDeselectAll:!1,showSelectionStatus:!1,counterText:"",doneBtnTextClass:"uc-hidden",toolbarVisible:!0,onDone:()=>{for(let e of this.$.selectedList){let r=this.extractUrlFromSelectedFile(e),{filename:i}=e,{externalSourceType:n}=this.activityParams;this.api.addFileFromUrl(r,{fileName:i,source:n})}this.$["*currentActivity"]=x.activities.UPLOAD_LIST,this.modalManager.open(x.activities.UPLOAD_LIST)},onCancel:()=>{this.historyBack()},onSelectAll:()=>{this._messageBridge?.send({type:"select-all"})},onDeselectAll:()=>{this._messageBridge?.send({type:"deselect-all"})}}}get activityParams(){let e=super.activityParams;if("externalSourceType"in e)return e;throw new Error("External Source activity params not found")}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{let{externalSourceType:e}=this.activityParams;if(!e){this.modalManager.close(this.$["*currentActivity"]),this.$["*currentActivity"]=null,console.error(`Param "externalSourceType" is required for activity "${this.activityType}"`);return}this.set$({activityCaption:`${e?.[0].toUpperCase()}${e?.slice(1)}`,activityIcon:e}),this.mountIframe()}}),this.sub("*currentActivityParams",e=>{this.isActivityActive&&(this.unmountIframe(),this.mountIframe())}),this.sub("*currentActivity",e=>{e!==this.activityType&&this.unmountIframe()}),this.subConfigValue("multiple",e=>{this.$.showSelectionStatus=e}),this.subConfigValue("localeName",e=>{this.setupL10n()}),this.subConfigValue("externalSourcesEmbedCss",e=>{this.applyEmbedCss(e)})}extractUrlFromSelectedFile(e){if(e.alternatives){let r=me(this.cfg.externalSourcesPreferredTypes);for(let i of r){let n=py(i);for(let[o,s]of Object.entries(e.alternatives))if(n.test(o))return s}}return e.url}handleToolbarStateChange(e){this.set$({toolbarVisible:e.isVisible})}async handleSelectedFilesChange(e){if(this.cfg.multiple!==e.isMultipleMode){console.error("Multiple mode mismatch");return}this.bindL10n("counterText",()=>this.l10n("selected-count",{count:e.selectedCount,total:e.total})),this.set$({doneBtnTextClass:e.isReady?"":"uc-hidden",isSelectionReady:e.isReady,isDoneBtnEnabled:e.isReady&&e.selectedFiles.length>0,showSelectionStatus:e.isMultipleMode&&e.total>0,couldSelectAll:e.selectedCount<e.total,couldDeselectAll:e.selectedCount===e.total,selectedList:e.selectedFiles})}handleIframeLoad(){this.applyEmbedCss(this.cfg.externalSourcesEmbedCss),this.applyTheme(),this.setupL10n()}applyTheme(){this._messageBridge?.send({type:"set-theme-definition",theme:my(this)})}applyEmbedCss(e){this._messageBridge?.send({type:"set-embed-css",css:e})}setupL10n(){this._messageBridge?.send({type:"set-locale-definition",localeDefinition:this.cfg.localeName})}remoteUrl(){let{pubkey:e,remoteTabSessionKey:r,socialBaseUrl:i,multiple:n}=this.cfg,{externalSourceType:o}=this.activityParams,s=Vx[o]??o,l={lang:this.l10n("social-source-lang")?.split("-")?.[0]||"en",public_key:e,images_only:"false",session_key:r,wait_for_theme:!0,multiple:n.toString(),origin:this.cfg.topLevelOrigin||_y(),debug:this.cfg.debug},c=new URL(`/window4/${s}`,i);return c.search=yy(l),c.toString()}mountIframe(){let e=vd({tag:"iframe",attributes:{src:this.remoteUrl(),marginheight:0,marginwidth:0,frameborder:0,allowTransparency:!0}});e.addEventListener("load",this.handleIframeLoad.bind(this)),this.ref.iframeWrapper.innerHTML="",this.ref.iframeWrapper.appendChild(e),e.contentWindow&&(this._messageBridge?.destroy(),this._messageBridge=new Rl(e.contentWindow),this._messageBridge.on("selected-files-change",this.handleSelectedFilesChange.bind(this)),this._messageBridge.on("toolbar-state-change",this.handleToolbarStateChange.bind(this)),this.resetSelectionStatus())}unmountIframe(){this._messageBridge?.destroy(),this._messageBridge=void 0,this.ref.iframeWrapper.innerHTML="",this.resetSelectionStatus()}resetSelectionStatus(){this.set$({selectedList:[],total:0,isDoneBtnEnabled:!1,couldSelectAll:!1,couldDeselectAll:!1,showSelectionStatus:!1})}};cs.template=`
  <uc-activity-header>
    <button
      type="button"
      class="uc-mini-btn uc-close-btn"
      set="onclick: *historyBack"
      l10n="@title:a11y-activity-header-button-close;@aria-label:a11y-activity-header-button-close"
    >
      <uc-icon name="close"></uc-icon>
    </button>
  </uc-activity-header>
  <div class="uc-content">
    <div ref="iframeWrapper" class="uc-iframe-wrapper"></div>
    <div class="uc-toolbar" set="@hidden: !toolbarVisible">
      <button type="button" class="uc-cancel-btn uc-secondary-btn" set="onclick: onCancel" l10n="cancel"></button>
      <div set="@hidden: !showSelectionStatus" class="uc-selection-status-box">
        <span>{{counterText}}</span>
        <button type="button" set="onclick: onSelectAll; @hidden: !couldSelectAll" l10n="select-all"></button>
        <button type="button" set="onclick: onDeselectAll; @hidden: !couldDeselectAll" l10n="deselect-all"></button>
      </div>
      <button type="button" class="uc-done-btn uc-primary-btn" set="onclick: onDone; @disabled: !isDoneBtnEnabled;">
        <uc-spinner set="@hidden: isSelectionReady"></uc-spinner>
        <span l10n="done" set="@class: doneBtnTextClass"></span>
      </button>
    </div>
  </div>
`});var zl,ky=v(()=>{st();Fe();zl=class extends F{requireCtxName=!0;_createValidationInput(){let e=document.createElement("input");return e.type="text",e.name=this.ctxName,e.required=this.cfg.multipleMin>0,e.tabIndex=-1,Co(e,{opacity:0,height:0,width:0}),e}initCallback(){super.initCallback(),this._validationInputElement=this._createValidationInput(),this.appendChild(this._validationInputElement),this.sub("*collectionState",e=>{{if(this._dynamicInputsContainer||(this._dynamicInputsContainer=document.createElement("div"),this.appendChild(this._dynamicInputsContainer)),!this._validationInputElement){let o=this._createValidationInput();this.appendChild(o),this._validationInputElement=o}if(this._dynamicInputsContainer.innerHTML="",e.status==="uploading"||e.status==="idle"){this._validationInputElement.value="",this._validationInputElement.setCustomValidity("");return}if(e.status==="failed"){let o=e.errors[0]?.message;this._validationInputElement.value="",this._validationInputElement.setCustomValidity(o);return}let r=e.group?e.group:null;if(r){this._validationInputElement.value=r.cdnUrl,this._validationInputElement.setCustomValidity("");return}let i=e.allEntries.map(o=>o.cdnUrl);if(!this.cfg.multiple&&i.length===1){this._validationInputElement.value=i[0],this._validationInputElement.setCustomValidity("");return}this._validationInputElement.remove(),this._validationInputElement=null;let n=new DocumentFragment;for(let o of i){let s=document.createElement("input");s.type="hidden",s.name=`${this.ctxName}[]`,s.value=o,n.appendChild(s)}this._dynamicInputsContainer.replaceChildren(n)}},!1)}}});var Dl,Cy=v(()=>{xe();Dl=class extends x{}});var us,Ey=v(()=>{ee();us=class extends I{init$={...this.init$,currentText:"",options:[],selectHtml:"",onSelect:e=>{e.preventDefault(),e.stopPropagation(),this.value=this.ref.select.value,this.$.currentText=this.$.options.find(r=>r.value==this.value)?.text||"",this.dispatchEvent(new Event("change"))}};initCallback(){super.initCallback(),this.sub("options",e=>{this.$.currentText=e?.[0]?.text||"";let r="";e?.forEach(i=>{r+=`<option value="${i.value}">${i.text}</option>`}),this.$.selectHtml=r})}};us.template=' <select ref="select" set="innerHTML: selectHtml; onchange: onSelect"></select> '});var Nl,Sy=v(()=>{ee();Nl=class extends I{initCallback(){super.initCallback(),this.subConfigValue("removeCopyright",e=>{this.toggleAttribute("hidden",!!e)})}static template=`
    <a
      href="https://uploadcare.com/?utm_source=copyright&utm_medium=referral&utm_campaign=v4"
      target="_blank noopener"
      class="uc-credits"
      >Powered by Uploadcare</a
    >
  `}});var ds,Ay=v(()=>{st();ds=class extends Qt{};ds.template=' <div class="uc-spinner"></div> '});function Bx(t){let e=new Blob([t],{type:"image/svg+xml"});return URL.createObjectURL(e)}function Fl(t="hsl(209, 21%, 65%)",e=32,r=32){return Bx(`
  <svg width="${e}" height="${r}" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" fill="${t}" d="M9.68848 8.70068C9.68848 8.42454 9.91233 8.20068 10.1885 8.20068H15.0885C15.2211 8.20068 15.3483 8.25336 15.442 8.34713L20.342 13.2471C20.4358 13.3409 20.4885 13.4681 20.4885 13.6007V21.3007C20.4885 21.5768 20.2646 21.8007 19.9885 21.8007H10.1885C9.91233 21.8007 9.68848 21.5768 9.68848 21.3007V8.70068ZM10.6885 9.20068V20.8007H19.4885V14.1007L15.0885 14.1007C14.8123 14.1007 14.5885 13.8768 14.5885 13.6007L14.5885 9.20068H10.6885ZM15.5885 9.90779L18.7814 13.1007L15.5885 13.1007L15.5885 9.90779Z"/>
  </svg>
  `)}var Ty=v(()=>{});function Oh(t,e=40){if(t.type==="image/svg+xml")return URL.createObjectURL(t);let r=document.createElement("canvas"),i=r.getContext("2d"),n=new Image,o=new Promise((s,a)=>{n.onload=()=>{let l=n.height/n.width;l>1?(r.width=e,r.height=e*l):(r.height=e,r.width=e/l),i.fillStyle="rgb(240, 240, 240)",i.fillRect(0,0,r.width,r.height),i.drawImage(n,0,0,r.width,r.height),r.toBlob(c=>{if(!c){a();return}let u=URL.createObjectURL(c);s(u)})},n.onerror=l=>{a(l)}});return n.src=URL.createObjectURL(t),o}var Iy=v(()=>{});var jx,xn,Oy=v(()=>{At();yn();xh();Ty();Ye();Iy();jx=3e3,xn=class extends mn{_renderedGridOnce=!1;_thumbRect=null;_isIntersecting=!1;_firstViewMode=this.cfg.filesViewMode;constructor(){super(),this.init$={...this.init$,thumbUrl:"",badgeIcon:"",uid:""}}_calculateThumbSize(e=!1){e&&(this._thumbRect=this.getBoundingClientRect());let r=Math.max(parseInt(String(this?._thumbRect?.height||0)),parseInt(String(this?._thumbRect?.width||0)),this.cfg.thumbSize);return window.devicePixelRatio>1&&(r*=window.devicePixelRatio),Math.min(r,jx)}_generateThumbnail=this._withEntry(async(e,r=!1)=>{let i=e.getValue("fileInfo"),n=e.getValue("isImage"),o=e.getValue("uuid"),s=e.getValue("thumbUrl"),a=this._calculateThumbSize(r);if(i&&n&&o){let c=await this.proxyUrl(le(Lr(this.cfg.cdnCname,o),Ae(e.getValue("cdnUrlModifiers"),"stretch/off",`scale_crop/${a}x${a}/center`)));if(s===c)return;let{promise:u}=fi(c);u.then(()=>{e.setValue("thumbUrl",c),s?.startsWith("blob:")&&URL.revokeObjectURL(s)}).catch(async()=>{if(!s?.startsWith("blob:"))try{let d=e.getValue("file");if(!d)return;let h=await Oh(d,a);e.setValue("thumbUrl",h)}catch{let h=window.getComputedStyle(this).getPropertyValue("--uc-muted-foreground");e.setValue("thumbUrl",Fl(h))}});return}if(e.getValue("thumbUrl"))return;let l=e.getValue("file");if(l?.type.includes("image"))try{let c=await Oh(l,a);e.setValue("thumbUrl",c)}catch{let u=window.getComputedStyle(this).getPropertyValue("--uc-muted-foreground");e.setValue("thumbUrl",Fl(u))}else{let c=window.getComputedStyle(this).getPropertyValue("--uc-muted-foreground");e.setValue("thumbUrl",Fl(c))}});_debouncedGenerateThumb=K(this._generateThumbnail.bind(this),100);_observerCallback(e){let[r]=e;this._isIntersecting=r.isIntersecting,r.isIntersecting&&(this._thumbRect=r.boundingClientRect,this._debouncedGenerateThumb(),this._observer?.disconnect()),r.intersectionRatio===0&&this._debouncedGenerateThumb.cancel()}_reset(){super._reset(),this._debouncedGenerateThumb.cancel()}_handleEntryId(e){this._reset();let r=this.uploadCollection?.read(e);this._entry=r,r&&(this._subEntry("fileInfo",i=>{i?.isImage&&this._isIntersecting&&this._debouncedGenerateThumb()}),this._subEntry("thumbUrl",i=>{this.$.thumbUrl=i?`url(${i})`:""}),this._subEntry("cdnUrlModifiers",()=>{this._isIntersecting&&this._debouncedGenerateThumb()}),this._isIntersecting&&this._debouncedGenerateThumb())}initCallback(){super.initCallback(),this.defineAccessor("badgeIcon",e=>this.$.badgeIcon=e),this.defineAccessor("uid",e=>{this.set$({uid:e})}),this.sub("uid",e=>{this._handleEntryId(e)}),this.subConfigValue("filesViewMode",e=>{e==="grid"&&!this._renderedGridOnce&&(this._firstViewMode==="list"&&this._debouncedGenerateThumb(!0),this._renderedGridOnce=!0)}),this.setAttribute("role","img")}connectedCallback(){super.connectedCallback(),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:.1}),this._observer.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this._entrySubs=new Set,this._debouncedGenerateThumb.cancel(),this._observer?.disconnect()}};xn.template=`
  <div class="uc-thumb" set="style.backgroundImage: thumbUrl">
    <div class="uc-badge">
      <uc-icon set="@name: badgeIcon"></uc-icon>
    </div>
  </div>
`;xn.bindAttributes({badgeIcon:null,uid:null})});var Fr,Ly=v(()=>{Mo();Fo();Fr=class extends Ot{static styleAttrs=[...super.styleAttrs,"uc-file-uploader-regular"];constructor(){super(),this.init$={...this.init$,isHidden:!1}}initCallback(){super.initCallback(),this.defineAccessor("headless",e=>{this.set$({isHidden:D(e)})})}};Fr.template=`
  <uc-simple-btn set="@hidden: isHidden"></uc-simple-btn>

  <uc-modal id="start-from" strokes block-body-scrolling>
    <uc-start-from>
      <uc-drop-area with-icon clickable></uc-drop-area>
      <uc-source-list role="list" wrap></uc-source-list>
      <button type="button" l10n="start-from-cancel" class="uc-secondary-btn" set="onclick: *historyBack"></button>
      <uc-copyright></uc-copyright>
    </uc-start-from>
  </uc-modal>

  <uc-modal id="upload-list" strokes block-body-scrolling>
    <uc-upload-list></uc-upload-list>
  </uc-modal>

  <uc-modal id="camera" strokes block-body-scrolling>
    <uc-camera-source></uc-camera-source>
  </uc-modal>

  <uc-modal id="url" strokes block-body-scrolling>
    <uc-url-source></uc-url-source>
  </uc-modal>

  <uc-modal id="external" strokes block-body-scrolling>
    <uc-external-source></uc-external-source>
  </uc-modal>

  <uc-modal id="cloud-image-edit" strokes block-body-scrolling>
    <uc-cloud-image-editor-activity></uc-cloud-image-editor-activity>
  </uc-modal>
`;Fr.bindAttributes({headless:null})});var Lh,Vl,lr,My=v(()=>{xe();Mo();Lo();Lh="active",Vl="",lr=class extends Ot{static styleAttrs=[...super.styleAttrs,"uc-file-uploader-minimal"];constructor(){super(),this.init$={...this.init$,singleUpload:!1,isHiddenStartFrom:!1,classUploadList:Vl,classStartFrom:Vl}}_handleModalOpen(e){e.id===x.activities.CLOUD_IMG_EDIT&&this.set$({classUploadList:Lh}),this.$["*currentActivity"]===x.activities.UPLOAD_LIST&&this.set$({classUploadList:Lh,isHiddenStartFrom:!0}),this.$["*uploadList"]?.length<=0&&this.set$({classStartFrom:Lh})}_handleModalClose(e){e.id===this.$["*currentActivity"]&&(this.$["*currentActivity"]=x.activities.UPLOAD_LIST,this.set$({isHiddenStartFrom:!1})),e.id===x.activities.CLOUD_IMG_EDIT&&(this.$["*currentActivity"]=x.activities.UPLOAD_LIST)}initCallback(){super.initCallback();let e=this.ref.uBlock;this.sub("*currentActivity",r=>{r===x.activities.UPLOAD_LIST&&this.modalManager.closeAll(),r||(this.$["*currentActivity"]=e.initActivity||x.activities.START_FROM)}),this.sub("*uploadList",r=>{r?.length>0?(this.$["*currentActivity"]=x.activities.UPLOAD_LIST,this.set$({classStartFrom:Vl})):(this.set$({classUploadList:Vl,isHiddenStartFrom:!1}),this.$["*currentActivity"]=e.initActivity||x.activities.START_FROM)}),this.subConfigValue("confirmUpload",r=>{r!==!1&&(this.cfg.confirmUpload=!1)}),this.subConfigValue("filesViewMode",r=>{this.setAttribute("mode",r),this.subConfigValue("multiple",i=>{r==="grid"?(i?this.style.removeProperty("--uc-grid-col"):this.style.setProperty("--uc-grid-col","1"),this.$.singleUpload=!i):(this.style.removeProperty("--uc-grid-col"),this.$.singleUpload=!1)})}),this.handleModalOpen=this._handleModalOpen.bind(this),this.handleModalClose=this._handleModalClose.bind(this),this.modalManager.subscribe(oe.OPEN,this.handleModalOpen),this.modalManager.subscribe(oe.CLOSE,this.handleModalClose)}destroyCallback(){super.destroyCallback(),this.modalManager.unsubscribe(oe.OPEN,this.handleModalOpen),this.modalManager.unsubscribe(oe.CLOSE,this.handleModalClose)}};lr.template=`
  <uc-start-from set="@hidden: isHiddenStartFrom; @class:classStartFrom">
    <uc-drop-area set="@single:singleUpload;" initflow clickable tabindex="0" l10n="choose-file"></uc-drop-area>
    <uc-copyright></uc-copyright>
  </uc-start-from>
  <uc-upload-list set="@class:classUploadList" ref="uBlock"></uc-upload-list>

  <uc-modal id="start-from" strokes block-body-scrolling>
    <uc-start-from>
      <uc-drop-area with-icon clickable></uc-drop-area>
      <uc-source-list role="list" wrap></uc-source-list>
      <button type="button" l10n="start-from-cancel" class="uc-secondary-btn" set="onclick: *historyBack"></button>
    </uc-start-from>
  </uc-modal>

  <uc-modal id="camera" strokes block-body-scrolling>
    <uc-camera-source></uc-camera-source>
  </uc-modal>

  <uc-modal id="url" strokes block-body-scrolling>
    <uc-url-source></uc-url-source>
  </uc-modal>

  <uc-modal id="external" strokes block-body-scrolling>
    <uc-external-source></uc-external-source>
  </uc-modal>

  <uc-modal id="cloud-image-edit" strokes block-body-scrolling>
    <uc-cloud-image-editor-activity></uc-cloud-image-editor-activity>
  </uc-modal>
`});var hs,Py=v(()=>{xe();Mo();hs=class extends Ot{static styleAttrs=[...super.styleAttrs,"uc-file-uploader-inline"];constructor(){super(),this.init$={...this.init$,couldCancel:!1,cancel:()=>{this.couldHistoryBack?this.$["*historyBack"]():this.couldShowList&&(this.$["*currentActivity"]=x.activities.UPLOAD_LIST)}}}get couldHistoryBack(){let e=this.$["*history"];return e.length>1&&e[e.length-1]!==x.activities.START_FROM}get couldShowList(){return this.cfg.showEmptyList||this.$["*uploadList"].length>0}initCallback(){super.initCallback();let e=this.ref.uBlock;this.sub("*currentActivity",r=>{r||(this.$["*currentActivity"]=e.initActivity||x.activities.START_FROM)}),this.sub("*uploadList",r=>{r?.length>0&&this.$["*currentActivity"]===(e.initActivity||x.activities.START_FROM)&&(this.$["*currentActivity"]=x.activities.UPLOAD_LIST)}),this.sub("*history",()=>{this.$.couldCancel=this.couldHistoryBack||this.couldShowList})}};hs.template=`
  <uc-start-from>
    <uc-drop-area with-icon clickable></uc-drop-area>
    <uc-source-list role="list" wrap></uc-source-list>
    <button
      type="button"
      l10n="start-from-cancel"
      class="uc-cancel-btn uc-secondary-btn"
      set="onclick: cancel; @hidden: !couldCancel"
    ></button>
    <uc-copyright></uc-copyright>
  </uc-start-from>
  <uc-upload-list ref="uBlock"></uc-upload-list>
  <uc-camera-source></uc-camera-source>
  <uc-url-source></uc-url-source>
  <uc-external-source></uc-external-source>
  <uc-cloud-image-editor-activity></uc-cloud-image-editor-activity>
`});var Bl,$y=v(()=>{Ch();Bl=class extends Ut{static styleAttrs=[...super.styleAttrs,"uc-wgt-common"];initCallback(){super.initCallback(),this.a11y?.registerBlock(this)}}});function zt(t){for(let e in t){let r=[...e].reduce((i,n)=>(n.toUpperCase()===n&&(n="-"+n.toLowerCase()),i+=n),"");r.startsWith("-")&&(r=r.replace("-","")),r.startsWith("uc-")||(r="uc-"+r),t[e].reg&&t[e].reg(r)}}var Mh=v(()=>{});async function Uy(t,e=!1){return new Promise((r,i)=>{if(typeof document!="object"){r(null);return}if(typeof window=="object"&&window[Ph]){r(window[Ph]);return}let n=document.createElement("script");n.async=!0,n.src=t,n.onerror=()=>{i()},n.onload=()=>{let o=window[Ph];e&&zt(o),r(o)},document.head.appendChild(n)})}var Ph,Ry=v(()=>{Mh();Ph="UC"});var zy=v(()=>{});var Dy=v(()=>{});var Ny=v(()=>{zy();Dy()});var Vr={};fs(Vr,{ActivityBlock:()=>x,ActivityHeader:()=>Dl,BaseComponent:()=>Qt,Block:()=>I,BtnUi:()=>wn,CameraSource:()=>Xo,CloudImageEditor:()=>Bl,CloudImageEditorActivity:()=>Ul,CloudImageEditorBlock:()=>Ut,Config:()=>yl,Copyright:()=>Nl,CropFrame:()=>Jo,Data:()=>P,DropArea:()=>hn,EditorCropButtonControl:()=>vn,EditorFilterControl:()=>mi,EditorImageCropper:()=>is,EditorImageFader:()=>Pl,EditorOperationControl:()=>bn,EditorScroller:()=>ns,EditorSlider:()=>ts,EditorToolbar:()=>os,ExternalSource:()=>cs,ExternalUploadSource:()=>_t,FileItem:()=>gn,FileUploaderInline:()=>hs,FileUploaderMinimal:()=>lr,FileUploaderRegular:()=>Fr,FormInput:()=>zl,Icon:()=>ln,Img:()=>kl,LineLoaderUi:()=>ss,Modal:()=>Wo,ModalEvents:()=>oe,PACKAGE_NAME:()=>ci,PACKAGE_VERSION:()=>ui,PresenceToggle:()=>as,ProgressBar:()=>Zo,ProgressBarCommon:()=>Yo,Select:()=>us,SimpleBtn:()=>un,SliderUi:()=>ls,SolutionBlock:()=>Ot,SourceBtn:()=>pn,SourceList:()=>Cl,Spinner:()=>ds,StartFrom:()=>jo,Thumb:()=>xn,UID:()=>Xe,UploadCtxProvider:()=>qo,UploadList:()=>Go,UploadSource:()=>te,UploaderBlock:()=>F,UrlSource:()=>Ko,defineComponents:()=>zt,defineLocale:()=>Dd,loadFileUploaderFrom:()=>Uy,toKebabCase:()=>sn});var ps=v(()=>{st();ee();Mo();xe();Fe();qv();Yv();o1();s1();a1();p1();f1();m1();I1();O1();L1();M1();D1();N1();F1();V1();Ih();hy();xy();ky();Cy();Ey();Sy();Ay();Oy();Ly();My();Py();$y();Mh();Nd();Ry();sh();Mt();Lo();Uo();Ny()});var gi,Hx,Wx,Fy,Gx,Vy,Kx,Br,kn,Cn,En,Xx,qx,Sn,An,Tn,jl=v(()=>{gi=jr(lt(),1);ps();Hx=new Set(["children","ref","style","className"]),Wx=(t={})=>Object?.keys(t).reduce((e,r)=>{var i,n;let o=t?.[r],s=`on${(n=(i=o?.split("-"))==null?void 0:i.map(a=>a.charAt(0).toUpperCase()+a.slice(1)))==null?void 0:n.join("")}`;return e[s]=o,e},{}),Fy=new WeakMap,Gx=t=>{let e=Fy.get(t);return e===void 0&&(e=new Map,Fy.set(t,e)),e},Vy=({node:t,nameProp:e,valueProp:r,prevValueProp:i,event:n})=>{if(n!==void 0){if(r!==i){let o=Gx(t),s=o.has(n),a=o.get(n);r!==void 0?s?a.handleEvent=r:(a={handleEvent:r},o.set(n,a),t.addEventListener(n,l=>a.handleEvent(l.detail))):s&&(o.delete(n),t.removeEventListener(n,a))}return}t[e]=r,r==null&&e in HTMLElement.prototype&&t.removeAttribute(e)},Kx=(t,e,r)=>{let i={},n={};return Object.entries(t).forEach(([o,s])=>{Hx.has(o)?i[o==="className"?"class":o]=s:e.has(o)||o in r.prototype?n[o]=s:i[o]=s}),{reactProps:i,customElProps:n}},Br=({react:t,tag:e,elClass:r,schemaEvents:i})=>{let n=Wx(i),o=new Set(Object.keys(n??{})),s=t.forwardRef((a,l)=>{let c=t.useRef(new Map),u=t.useRef(null),{reactProps:d,customElProps:h}=Kx(a,o,r);return t.useLayoutEffect(()=>{if(u.current===null)return;let g=new Map;for(let y in h)Vy({node:u.current,nameProp:y,valueProp:h[y],prevValueProp:c.current.get(y),event:n[y]}),c.current.delete(y),g.set(y,a[y]);for(let[y,b]of c.current)Vy({node:u.current,nameProp:y,valueProp:void 0,prevValueProp:b,event:n[y]});c.current=g}),t.createElement(e??r.__tag,{...d,ref:t.useCallback(g=>{u.current=g,typeof l=="function"?l(g):l!==null&&(l.current=g)},[l])})});return s.displayName=r.name,s},kn=Br({react:gi.default,tag:"uc-config",elClass:yl}),Cn=Br({react:gi.default,tag:"uc-upload-ctx-provider",elClass:qo,schemaEvents:qo.EventType}),En=t=>{let e={},r={},i={};for(let[n,o]of Object.entries(t)){if(n.startsWith("on")){e[n]=o;continue}if(n==="headless"){i[n]=o;continue}r[n]=o}return{eventHandlers:e,uploader:i,config:r}},Xx="1.10.1",qx="React-Uploader",Sn=()=>`${qx}/${Xx}`,An=({children:t})=>t,Tn=()=>{let[t,e]=(0,gi.useState)(!1);return(0,gi.useEffect)(()=>{typeof window<"u"&&e(!0)},[]),t}});var By={};fs(By,{FileUploaderMinimal:()=>Zx});var Dt,Yx,Zx,jy=v(()=>{Dt=jr(lt(),1);ps();jl();zt(Vr);Yx=Br({react:Dt.default,tag:"uc-file-uploader-minimal",elClass:lr}),Zx=({ctxName:t,className:e,classNameUploader:r,apiRef:i,fallback:n,...o})=>{let s=(0,Dt.useMemo)(()=>t??Xe.generate(),[t]),{eventHandlers:a,config:l}=(0,Dt.useMemo)(()=>En(o),[o]),c=Tn();return Dt.default.createElement(An,{condition:c,fallback:n},Dt.default.createElement("div",{className:e},Dt.default.createElement(kn,{userAgentIntegration:Sn(),"ctx-name":s,...l}),Dt.default.createElement(Cn,{ref:i,"ctx-name":s,...a}),Dt.default.createElement(Yx,{class:r,"ctx-name":s})))}});var Hy={};fs(Hy,{FileUploaderRegular:()=>Jx});var Nt,Qx,Jx,Wy=v(()=>{Nt=jr(lt(),1);ps();jl();zt(Vr);Qx=Br({react:Nt.default,tag:"uc-file-uploader-regular",elClass:Fr}),Jx=({ctxName:t,className:e,classNameUploader:r,apiRef:i,fallback:n,...o})=>{let s=(0,Nt.useMemo)(()=>t??Xe.generate(),[t]),{eventHandlers:a,config:l,uploader:c}=(0,Nt.useMemo)(()=>En(o),[o]),u=Tn();return Nt.default.createElement(An,{condition:u,fallback:n},Nt.default.createElement("div",{className:e},Nt.default.createElement(kn,{userAgentIntegration:Sn(),"ctx-name":s,...l}),Nt.default.createElement(Cn,{ref:i,"ctx-name":s,...a}),Nt.default.createElement(Qx,{class:r,"ctx-name":s,...c})))}});var Gy={};fs(Gy,{FileUploaderInline:()=>tk});var Ft,ek,tk,Ky=v(()=>{Ft=jr(lt(),1);ps();jl();zt(Vr);ek=Br({react:Ft.default,tag:"uc-file-uploader-inline",elClass:lr}),tk=({ctxName:t,className:e,classNameUploader:r,apiRef:i,fallback:n,...o})=>{let s=(0,Ft.useMemo)(()=>t??Xe.generate(),[t]),{eventHandlers:a,config:l}=(0,Ft.useMemo)(()=>En(o),[o]),c=Tn();return Ft.default.createElement(An,{condition:c,fallback:n},Ft.default.createElement("div",{className:e},Ft.default.createElement(kn,{userAgentIntegration:Sn(),"ctx-name":s,...l}),Ft.default.createElement(Cn,{ref:i,"ctx-name":s,...a}),Ft.default.createElement(ek,{class:r,"ctx-name":s})))}});var vi=jr(lt()),qy=jr(mg());var Hl=jr(Mg(),1),G8=(0,Hl.default)(()=>Promise.resolve().then(()=>(jy(),By)).then(t=>t.FileUploaderMinimal),{ssr:!1}),Xy=(0,Hl.default)(()=>Promise.resolve().then(()=>(Wy(),Hy)).then(t=>t.FileUploaderRegular),{ssr:!1}),K8=(0,Hl.default)(()=>Promise.resolve().then(()=>(Ky(),Gy)).then(t=>t.FileUploaderInline),{ssr:!1});function rk(){return vi.default.createElement("div",{style:{maxWidth:420,margin:"40px auto",fontFamily:"system-ui, Arial"}},vi.default.createElement("h2",{style:{textAlign:"center"}},"Uploadcare React Uploader"),vi.default.createElement(Xy,{sourceList:"local, camera, facebook, gdrive",classNameUploader:"uc-light",pubkey:"e54eeabbf32d6824809b",multiple:!0,onFileUploadSuccess:t=>{console.log("Uploaded:",t.cdnUrl)}}),vi.default.createElement("p",{style:{marginTop:24,textAlign:"center"}},vi.default.createElement("a",{href:"/",style:{color:"#039be5"}},"\u0639\u0648\u062F\u0629 \u0644\u0644\u0631\u0626\u064A\u0633\u064A\u0629")))}var ik=document.getElementById("root");(0,qy.createRoot)(ik).render(vi.default.createElement(rk,null));
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
